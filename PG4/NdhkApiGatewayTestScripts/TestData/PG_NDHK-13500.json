[
    {
        "testDataId": "PaymentGateway-NDHK-15039",
        "OD": "As master merchant, send GET /v2/transactions request using Oauth token, signature generated by general_key_1 and api_key",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "v2transactions",
        "testFlow": [
            "oauthTokenV2-oauthToken",
            "jsonTransactionsV2ApiKey-transaction",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "transaction": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Completed",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0"
            },
            "needAssert": [
                "capturedAmount",
                "channelType",
                "maskedCardNumber",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "refundedAmount",
                "responseCode",
                "responseDescription",
                "transactionAmount",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5",
                "voidedAmount"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-15038",
        "OD": "As master merchant, should fail sending GET /v2/transactions request using Oauth token, signature generated by general_key_1 and without api_key",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "v2transactions",
        "testFlow": [
            "oauthTokenV2-oauthToken",
            "jsonTransactionsV2ApiKey-transaction",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "transaction": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerToken":true,
            "apikey":"",
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "httpCode": 401,
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-15037",
        "OD": "Send GET /v2/transactions request without api_key and Oauth token",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "v2transactions",
        "testFlow": [
            "jsonTransactionsV2ApiKey-transaction",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "transaction": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "httpCode": 401,
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-15036",
        "OD": "Send GET /v2/transactions request using api_key and signature",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "v2transactions",
        "testFlow": [
            "jsonTransactionsV2ApiKey-transaction",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "transaction": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Completed",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0"
            },
            "needAssert": [
                "capturedAmount",
                "channelType",
                "maskedCardNumber",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "refundedAmount",
                "responseCode",
                "responseDescription",
                "transactionAmount",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5",
                "voidedAmount"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-15034",
        "OD": "Send GET /v2/transactions request using Oauth token, signature generated by general_key_1 and without api_key",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "v2transactions",
        "testFlow": [
            "oauthTokenV2-oauthToken",
            "jsonTransactionsV2ApiKey-transaction",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "oauthToken": {
            "client_id": "0c0b68a3844242d3bb3270c122954f18",
            "client_secret": "NYC1cNbKjJkHniOqP7n8lOFXstAlVonS",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MERCHANT",
                "client_name": "NTT",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "transaction": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerToken": true,
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Completed",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0"
            },
            "needAssert": [
                "capturedAmount",
                "channelType",
                "maskedCardNumber",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "refundedAmount",
                "responseCode",
                "responseDescription",
                "transactionAmount",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5",
                "voidedAmount"
            ]
        }
    }
]