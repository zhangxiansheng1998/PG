[
    {
        "testDataId": "PaymentGateway_NDHK-14885",
        "OD": "For POST /v2/tokens, if userDefinedData1 is invalid, then return NE1185",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1185",
                "errorDescription": "Invalid parameter - userDefinedData1",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14886",
        "OD": "For POST /v2/tokens, if userDefinedData2 is invalid, then return NE1186",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1186",
                "errorDescription": "Invalid parameter - userDefinedData2",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14887",
        "OD": "For POST /v2/tokens, if userDefinedData3 is invalid, then return NE1187",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1187",
                "errorDescription": "Invalid parameter - userDefinedData3",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14888",
        "OD": "For POST /v2/tokens, if userDefinedData4 is invalid, then return NE1188",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1188",
                "errorDescription": "Invalid parameter - userDefinedData4",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14889",
        "OD": "For POST /v2/tokens, if userDefinedData5 is invalid, then return NE1189",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1189",
                "errorDescription": "Invalid parameter - userDefinedData5",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14890",
        "OD": "For POST /v2/tokens, support Oauth2 token(with master merchant) to generate token",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB2"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14892",
        "OD": "For POST /v2/tokens, use master-merchant generate oauth token to do v2/tokens but have no apikey",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 401,
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14893",
        "OD": "For POST /v2/tokens, if have cardIssuer and cardBrand both in card IIN mapping table and request.",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"issuer\": \"hase\", \"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14894",
        "OD": "For POST /v2/tokens, if have cardIssuer and cardBrand  in card IIN mapping table and no cardIssuer and cardBrand in request",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14895",
        "OD": "For POST /v2/tokens, if have no cardIssuer and cardBrand  in card IIN mapping table and no cardIssuer and cardBrand in request.",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4bAf4kAZuXND6j/hJg+WfI4Mowzz6uNtJC27nBMjmL4Y=|John Doe|CC|",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "562345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "562345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}' and extra_information = '#Contains-\"cardBrand\": \"MASTERCARD\"'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14896",
        "OD": "For POST /v2/tokens, if have no cardIssuer and cardBrand  in card IIN mapping table and just have cardIssuer and cardBrand in request.",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "v2token",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4bAf4kAZuXND6j/hJg+WfI4Mowzz6uNtJC27nBMjmL4Y=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "562345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "562345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}' and extra_information = '#Contains-\"cardBrand\": \"MASTERCARD\"'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        }
    }
]