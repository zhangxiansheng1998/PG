[
    {
        "testDataId": "PaymentGateway-paygent_NTT_VALENTINO",
        "OD": "PaymentGateway-paygent_NTT_VALENTINO",
        "merchantId": "nttvalentino",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "1000",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_VALENTINO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_VALENTINO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_VALENTINO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Full Refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Full Refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_VALENTINO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19876",
        "OD": "verify paygent [API] auth+capture+multiple partial refund is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AOMORI to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19880",
        "OD": "verify paygent [API]-3ds -Auth+Capture-multiple partial refunds is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "vIvaC63yBOvNPbc5Sz+j9ZO8fvyIJoLmYdDyX0jdq28=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AOMORI to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19873",
        "OD": "Verify [Hosted page] v1 paygent purchase and multiple partical refunds are successful. ",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AOMORI to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19874",
        "OD": "verify paygent [API] tokenize+auth+capture+multiple partial refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB2",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6",
            "frontend_cybsLog-CheckLog7",
            "frontend_cybsLog-CheckLog8",
            "frontend_cybsLog-CheckLog9",
            "frontend_cybsLog-CheckLog10",
            "frontend_cybsLog-CheckLog11",
            "frontend_cybsLog-CheckLog12",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4923000000001000",
            "tokenProvider": "GATEWAY",
            "expiryDate": "06/38",
            "cardHolderName": "JOHN WONG",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payment": {
            "amt": "300",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "paygent",
            "paymentMethod": "card",
            "isStorePaymentMethod": "N",
            "tokenType": "ntt",
            "authentication": "N",
            "manualCapture": "Y",
            "udf1": "Merchant Defined Field 1 Testing",
            "cardEncryptionMethod": "AES",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "300",
                "channelType": "paygent",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "amt": "300",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "120",
            "txnid": "",
            "expectedResult": {
                "amt": "120",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "0",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT with null"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19875",
        "OD": "verify paygent tokenize+payment+multiple partial refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4923000000001000",
            "tokenProvider": "GATEWAY",
            "expiryDate": "06/38",
            "cardHolderName": "JOHN WONG",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payment": {
            "amt": "300",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "paygent",
            "paymentMethod": "card",
            "isStorePaymentMethod": "N",
            "tokenType": "ntt",
            "authentication": "N",
            "manualCapture": "N",
            "udf1": "Merchant Defined Field 1 Testing",
            "cardEncryptionMethod": "AES",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "300",
                "channelType": "paygent",
                "paymentMethod": "card",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "120",
            "txnid": "",
            "expectedResult": {
                "amt": "120",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "0",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19876",
        "OD": "verify paygent [API] auth+capture+multiple partial refund is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT_AOMORI"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19877",
        "OD": "verify paygent -[API]-3ds payment+multiple partial refund is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "vIvaC63yBOvNPbc5Sz+j9ZO8fvyIJoLmYdDyX0jdq28=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT_AOMORI"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT_AOMORI to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19878",
        "OD": "verify paygent -[API]-3ds-tokenize-Auth-Capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": true,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4708224192406930",
            "expiryDate": "03/42",
            "cvs": "123",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc"
            ]
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-9",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19879",
        "OD": "verify paygent [API]-3ds-tokenize-Purchase-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": true,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4708224192406930",
            "expiryDate": "03/42",
            "cvs": "123",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc"
            ]
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19880",
        "OD": "verify paygent [API]-3ds -Auth+Capture-multiple partial refunds is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "vIvaC63yBOvNPbc5Sz+j9ZO8fvyIJoLmYdDyX0jdq28=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AOMORI to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19881",
        "OD": "verify paygent [API]-3ds -Auth (with paymentMethod installment)+Capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": true,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4708224192406930",
            "expiryDate": "03/42",
            "cvs": "123",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc"
            ]
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "paymentMethod": "installment",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "installment": {
                "term": "2"
            },
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16342",
        "OD": "For /paymentRequest, when use paygent installment(non-3ds card) for payment, if manualCapture is Y and amount is 1, return successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "paymentRequest-payment",
            "frontend_cybsDB-CheckDB1",
            "captureRequestV2-capture",
            "frontend_cybsDB-CheckDB2",
            "requeryRequestV3-requery",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6",
            "frontend_cybsLog-CheckLog7",
            "frontend_cybsLog-CheckLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "1",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "paygent",
            "paymentMethod": "installment",
            "isStorePaymentMethod": "N",
            "carddata": "XZ13aC5625frSmc4RA4KxoV0QhxduSs2MSFOp4gkQTNpWLSf3u5KvMKU4rM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "udf1": "Merchant Defined Field 1 Testing",
            "cardEncryptionMethod": "AES",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "installment": {
                "term": "2"
            },
            "expectedResult": {
                "amt": "1",
                "channelType": "paygent",
                "manualCapture": "Y",
                "paymentMethod": "installment",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1",
            "txnid": "",
            "expectedResult": {
                "amt": "1",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "requery": {
            "txnid": "",
            "expectedResult": {
                "amt": "1",
                "captureDetails": [
                    {
                        "respcode": "00",
                        "amt": "1",
                        "proc_code": "0"
                    }
                ],
                "capturedAmount": "1",
                "channelType": "paygent",
                "manualCapture": "Y",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "1"
                    }
                },
                "maskedCardNumber": "512345XXXXXX5820",
                "mobile": "",
                "paymentMethod": "installment",
                "proc_code": "0",
                "refundedAmount": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing",
                "voidedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "CheckDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT with null"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8578",
        "OD": "verify /v3/requeryRequest with txnid and maskedCardNumber was not sent for CVS paygent payment",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "channelId": "Family Mart",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "paymentMethod": "cvs",
            "customerDetails": {
                "lastName": "lastname",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "JPY",
                "channelType": "paygent",
                "login": "NTT_AUTO",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "0",
                "paymentMethod": "cvs",
                "paymentcodetype": "number",
                "channelId": "Family Mart"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "paymentcodetype",
                "channelId"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "EN"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8577",
        "OD": "verify /v3/requeryRequest with nttrefid and maskedCardNumber was not sent for CVS paygent payment",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "channelId": "Family Mart",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "paymentMethod": "cvs",
            "customerDetails": {
                "lastName": "lastname",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "JPY",
                "channelType": "paygent",
                "login": "NTT_AUTO",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "0",
                "paymentMethod": "cvs",
                "paymentcodetype": "number",
                "channelId": "Family Mart"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "paymentcodetype",
                "channelId"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "EN"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-paygent_NTT_VALENTINO",
        "OD": "PaymentGateway-paygent_NTT_VALENTINO",
        "merchantId": "nttvalentino",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "isEnableRetry": false,
            "isEnrollRecurring": false,
            "isStorePaymentMethod": "N",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "1000",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_VALENTINO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_VALENTINO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_VALENTINO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Full Refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Full Refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_VALENTINO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-7121",
        "OD": "Verify the NE code for Missing param channelType",
        "merchantId": "agodaauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "channelType": "paygent",
            "od": "&-202078",
            "remarks": "remarks",
            "manualCapture": "N",
            "paymentMethod": "cvs",
            "customerDetails": {
                "lastName": "HalfWidth",
                "firstName": "HalfWidth",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "amt": "100",
                "date": "2021-12-29 16:35:33",
                "errorCode": "NE1033",
                "errorDesc": "Missing parameter - channelId",
                "login": "AGODA_AUTO",
                "Nttrefid": "#Contains-1",
                "respcode": "01",
                "respdesc": "fail",
                "signature": "d0df209ea4f61afa84a8edede2267302c91c856502bc17889f8c0c22426627fe80e4a300205eb3454e4383568516735d24e3275747bcbf5318f804f022d0ba88",
                "txncurr": "JPY",
                "txnid": "1640766941691"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc",
                "login",
                "nttrefid",
                "txncurr"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NE1109"
                    ]
                }
            }
        }
    }
]