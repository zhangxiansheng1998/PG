[
    {
        "testDataId": "PaymentGateway-NDHK-13877",
        "OD": "Get transactioin details with invalid txnid and correct nttrefid",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "auth": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "AUTH",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "transactionId": "ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ123456",
            "expectedResult": {
                "capturedAmount": "0",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0"
            },
            "needAssert": [
                "capturedAmount",
                "channelType",
                "maskedCardNumber",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "refundedAmount",
                "responseCode",
                "responseDescription",
                "transactionAmount",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5",
                "voidedAmount"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13876",
        "OD": "Get transaction details of a successful auth txn with full capture success, full refund success and partial refund failed",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "capturesV2ApiKey-capture",
            "refundsV2ApiKey-refund1",
            "refundsV2ApiKey-refund2",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "auth": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "AUTH",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "capture": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "gatewayReferenceId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "100",
                "manualCaptureStatus": "F",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "refund1": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "gatewayReferenceId": "",
            "refundMode": "REFUND",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "100",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "refund2": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "10",
            "gatewayReferenceId": "",
            "refundMode": "REFUND",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE3019",
                "errorDescription": "Refund amount exceeded the captured amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "captureDetails": [
                    {
                        "responseCode": "00",
                        "captureAmount": "100",
                        "processorCode": "100"
                    }
                ],
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "refundDetails": [
                    {
                        "responseCode": "00",
                        "refundAmount": "100",
                        "processorCode": "00"
                    },
                    {
                        "responseCode": "01",
                        "refundAmount": "10"
                    }
                ],
                "refundedAmount": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0"
            },
            "needAssert": [
                "captureDetails",
                "capturedAmount",
                "channelType",
                "maskedCardNumber",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "refundDetails",
                "refundedAmount",
                "responseCode",
                "responseDescription",
                "transactionAmount",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5",
                "voidedAmount"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13875",
        "OD": "Get transaction details of a successful auth txn with partial capture success and partial capture failed",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "capturesV2ApiKey-capture1",
            "capturesV2ApiKey-capture2",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "auth": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "AUTH",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "capture1": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "50",
            "gatewayReferenceId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "50",
                "manualCaptureStatus": "P",
                "processorCode": "100",
                "remainingAmount": "50",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "capture2": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "80",
            "gatewayReferenceId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE3020",
                "errorDescription": "Capture amount exceeded the uncaptured amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "captureDetails": [
                    {
                        "responseCode": "00",
                        "captureAmount": "50",
                        "processorCode": "100"
                    },
                    {
                        "responseCode": "01",
                        "captureAmount": "80"
                    }
                ],
                "capturedAmount": "50",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0",
                "needAssert": [
                    "captureDetails",
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidedAmount"
                ]
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13874",
        "OD": "Get transaction details of a successful auth txn with full amount voided",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "refundsV2ApiKey-void",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "auth": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "AUTH",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "void": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "gatewayReferenceId": "",
            "refundMode": "VOID",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "100",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "0",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidDetails": [
                    {
                        "responseCode": "00",
                        "voidAmount": "100",
                        "processorCode": "00"
                    }
                ],
                "voidedAmount": "100",
                "needAssert": [
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidDetails",
                    "voidedAmount"
                ]
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13873",
        "OD": "Get transaction details of a successful auth txn with full capture",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "capturesV2ApiKey-capture",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "auth": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "AUTH",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "capture": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "gatewayReferenceId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "100",
                "manualCaptureStatus": "F",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "captureDetails": [
                    {
                        "responseCode": "00",
                        "captureAmount": "100",
                        "processorCode": "100"
                    }
                ],
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0",
                "needAssert": [
                    "captureDetails",
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidedAmount"
                ]
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13872",
        "OD": "Get transaction details of a successful purchase txn with partial refund success and partila refund failed",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-purchase",
            "refundsV2ApiKey-refund1",
            "refundsV2ApiKey-refund2",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "purchase": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "refund1": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "50",
            "gatewayReferenceId": "",
            "refundMode": "REFUND",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "50",
                "processorCode": "100",
                "remainingAmount": "50",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "refund2": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "80",
            "gatewayReferenceId": "",
            "refundMode": "REFUND",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE3019",
                "errorDescription": "Refund amount exceeded the captured amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "refundDetails": [
                    {
                        "responseCode": "00",
                        "refundAmount": "50",
                        "processorCode": "00"
                    },
                    {
                        "responseCode": "01",
                        "refundAmount": "80"
                    }
                ],
                "refundedAmount": "50",
                "responseCode": "00",
                "responseDescription": "Transaction Completed",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0",
                "needAssert": [
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundDetails",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidedAmount"
                ]
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13871",
        "OD": "Get transaction details of a successful purchase txn with full refund",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-purchase",
            "refundsV2ApiKey-refund",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "purchase": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "refund": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "gatewayReferenceId": "",
            "refundMode": "REFUND",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "100",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "refundDetails": [
                    {
                        "responseCode": "00",
                        "refundAmount": "100",
                        "processorCode": "00"
                    }
                ],
                "refundedAmount": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Completed",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0",
                "needAssert": [
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundDetails",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidedAmount"
                ]
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13870",
        "OD": "Get transaction details of a successful purchase txn without refund",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "jsonTransactionsV2ApiKey-purchase",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "purchase": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "PURCHASE",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "capturedAmount": "100",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Completed",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0",
                "needAssert": [
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidedAmount"
                ]
            }
        }
    }
]