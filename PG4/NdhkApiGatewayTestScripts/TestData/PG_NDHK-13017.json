[
    {
        "testDataId": "PaymentGateway_NDHK-16313",
        "OD": "For /v1/3ds, when have no carddata and token in request body, then returned NE1204",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "errorCode": "NE1204",
                "errorDescription": "Missing parameter - cardData OR token",
                "login": "NTT_AUTO",
                "responseCode": "01",
                "responseDescription": "Missing parameter - cardData OR token"
            },
            "needAssert": [
                "errorCode",
                "errorDescription",
                "login",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NE1204",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [login=NTT_AUTO, isEnableRetry=null, errorCode=NE1204,"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=Missing parameter - cardData OR token, errorDescription=Missing parameter - cardData OR token"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16314",
        "OD": "For /v1/3ds, when both have carddata and token in request body, then returned NE1205",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "cardData": "XZ13aC5625frSmc4J4Rd+Uy3HmIdFoBjpBlnWmzd4tPKBio52tICmGJRwvE=|John Doe|CC|VISA",
            "token": "0d582cf9-0589-4579-a3cc-e0bdb7a4fcda",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "errorCode": "NE1205",
                "errorDescription": "Both cardData AND token are submitted together",
                "login": "NTT_AUTO",
                "responseCode": "01",
                "responseDescription": "Both cardData AND token are submitted together"
            },
            "needAssert": [
                "errorCode",
                "errorDescription",
                "login",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NE1205",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [login=NTT_AUTO, isEnableRetry=null, errorCode=NE1205"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=Both cardData AND token are submitted together, errorDescription=Both cardData AND token are submitted together"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16315",
        "OD": "For /v1/3ds, when provide the non-exist token, then returned NE3021",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "token": "RandomToken",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "errorCode": "NE3021",
                "errorDescription": "Provided token not found",
                "login": "NTT_AUTO",
                "responseCode": "01",
                "responseDescription": "Provided token not found"
            },
            "needAssert": [
                "errorCode",
                "errorDescription",
                "login",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NE3021",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=Provided token not found, errorDescription=Provided token not found"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16316",
        "OD": "For /v1/3ds, when provide the invalid tokenType, then returned NE1118",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "token": "0d582cf9-0589-4579-a3cc-e0bdb7a4fcda",
            "tokenType": "RandomTokenType",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "errorCode": "NE1118",
                "errorDescription": "Invalid parameter - tokenType",
                "login": "NTT_AUTO",
                "responseCode": "01",
                "responseDescription": "Invalid parameter - tokenType"
            },
            "needAssert": [
                "errorCode",
                "errorDescription",
                "login",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NE1118",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=Invalid parameter - tokenType, errorDescription=Invalid parameter - tokenType"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16317",
        "OD": "Post/v1/3ds - For cafis 3DS 2.0, when threeDSMethod is N with {any number}0000003(use token) in /v1/enroll response, then 3ds not available and return /v1/3ds response",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "tokenize": {
            "card": "4111111110000003",
            "expectedResult": {
                "maskcardnumber": "411111XXXXXX0003",
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "maskcardnumber",
                "respcode",
                "respdesc"
            ]
        },
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "tokenType": "GATEWAY",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "responseCode": "02",
                "responseDescription": "pending"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "responseCode",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=02, responseDescription=pending"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16319",
        "OD": "Post/v1/3ds - For cafis 3DS 2.0, when threeDSMethod is N with {any number}0000004(with token) in /v1/enroll response, then 3ds not available and return /v1/3ds response",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "tokenize": {
            "card": "4111111110000004",
            "expectedResult": {
                "maskcardnumber": "411111XXXXXX0004",
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "maskcardnumber",
                "respcode",
                "respdesc"
            ]
        },
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "tokenType": "GATEWAY",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "responseCode": "02",
                "responseDescription": "pending"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "responseCode",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=02, responseDescription=pending"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-16321",
        "OD": "Post/v1/3ds - For cafis 3DS 2.0, when card number is 200000000000XXXX(with token), then return the related errorcode",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "3dsv1",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "3dsV1-3dsV1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "tokenize": {
            "card": "2000000000001111",
            "expectedResult": {
                "maskcardnumber": "200000XXXXXX1111",
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "maskcardnumber",
                "respcode",
                "respdesc"
            ]
        },
        "3dsV1": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cafis",
            "3dsVersion": "2",
            "callbackUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "returnUrl": "https://webhook.site/0687dde5-87d1-466b-8f3d-fd482b752fb8",
            "tokenType": "GATEWAY",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "responseCode": "02",
                "responseDescription": "pending"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [login=NTT_AUTO,"
                    ]
                }
            }
        }
    }
]