[
    {
        "testDataId": "PaymentGateway_NDHK-11691",
        "OD": "Standardize_mpgs_applepay_amex_purchase",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "mpgs",
        "testFlow": [
            "paymentRequest-paymentRequest",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentRequest": {
            "amt": "200",
            "txnid": "generate",
            "txncurr": "TWD",
            "od": "NTT Test10",
            "authentication": "N",
            "manualCapture": "N",
            "tokenType": "applepay",
            "paymentMethod": "applepay",
            "channelType": "mpgs",
            "channelId": "amex",
            "expirydate": "CurrentTime",
            "token": "eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoibFVqK2J3eEZ4UUFpQ0VTcUhNQTNVbXo2S0pLNlZkZHlia0hseXlWR21KK29pSEY3d1VMWCs3RXhSYU1ZeVlza1h5Vk1xbFVEcUxYMU1DWVNEZm1uT0hDczJUZnc1NCt1NmpwQm1UK3ZBNWxtcTE3Vm1abWNCOHlvbk1HcWw1NFNYVktTdkhRTXB6RENoWm92WDBMejY0ZDdqRE9FdjRaSWJnZ2VrbW9KYkpDaVVlMFIyMWErQzVCdjErTXRXNkthYmJLWmdPc0NJa1FJbnp3YTh3NC9neHY5RTlnYTFPMzhramdOUnY1eFNvL3l4SjRGQzNwRnVMcC84Syt1V0l1cHNRY001eWZRejQ5dHVERkprRXMya1JyeUhLazdzdnZHYWdHRmVjcDFkY3Flb2x4ZEFKR1ZTN3Z1VDVkeUU4VTVVdFNLMjU5TlVITmxGUEdlNjB1dTdhbnl1eVdvU3oyV0hQd000VHhUZlpLRm5Za2w5NXBSY3dMU2VsNGpaNVZhZkdmTHpCUFRLT0ZXQUZRPSIsInNpZ25hdHVyZSI6Ik1JQUdDU3FHU0liM0RRRUhBcUNBTUlBQ0FRRXhEekFOQmdsZ2hrZ0JaUU1FQWdFRkFEQ0FCZ2txaGtpRzl3MEJCd0VBQUtDQU1JSUQ1akNDQTR1Z0F3SUJBZ0lJYUdEMm1kbk1wdzh3Q2dZSUtvWkl6ajBFQXdJd2VqRXVNQ3dHQTFVRUF3d2xRWEJ3YkdVZ1FYQndiR2xqWVhScGIyNGdTVzUwWldkeVlYUnBiMjRnUTBFZ0xTQkhNekVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUI0WERURTJNRFl3TXpFNE1UWTBNRm9YRFRJeE1EWXdNakU0TVRZME1Gb3dZakVvTUNZR0ExVUVBd3dmWldOakxYTnRjQzFpY205clpYSXRjMmxuYmw5VlF6UXRVMEZPUkVKUFdERVVNQklHQTFVRUN3d0xhVTlUSUZONWMzUmxiWE14RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVnakQ5cThPYzkxNGdMRkRabTBVUzVqZmlxUUhkYkxQZ3NjMUxVbWVZK005T3ZlZ2FKYWpDSGt3ejNjNk9LcGJDOXEraGt3TkZ4T2g2UkNiT2xSc1NsYU9DQWhFd2dnSU5NRVVHQ0NzR0FRVUZCd0VCQkRrd056QTFCZ2dyQmdFRkJRY3dBWVlwYUhSMGNEb3ZMMjlqYzNBdVlYQndiR1V1WTI5dEwyOWpjM0F3TkMxaGNIQnNaV0ZwWTJFek1ESXdIUVlEVlIwT0JCWUVGQUlrTUF1YTd1MUdNWmVrcGxvcG5rSnhnaHhGTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd2dnRWRCZ05WSFNBRWdnRVVNSUlCRURDQ0FRd0dDU3FHU0liM1kyUUZBVENCL2pDQnd3WUlLd1lCQlFVSEFnSXdnYllNZ2JOU1pXeHBZVzVqWlNCdmJpQjBhR2x6SUdObGNuUnBabWxqWVhSbElHSjVJR0Z1ZVNCd1lYSjBlU0JoYzNOMWJXVnpJR0ZqWTJWd2RHRnVZMlVnYjJZZ2RHaGxJSFJvWlc0Z1lYQndiR2xqWVdKc1pTQnpkR0Z1WkdGeVpDQjBaWEp0Y3lCaGJtUWdZMjl1WkdsMGFXOXVjeUJ2WmlCMWMyVXNJR05sY25ScFptbGpZWFJsSUhCdmJHbGplU0JoYm1RZ1kyVnlkR2xtYVdOaGRHbHZiaUJ3Y21GamRHbGpaU0J6ZEdGMFpXMWxiblJ6TGpBMkJnZ3JCZ0VGQlFjQ0FSWXFhSFIwY0RvdkwzZDNkeTVoY0hCc1pTNWpiMjB2WTJWeWRHbG1hV05oZEdWaGRYUm9iM0pwZEhrdk1EUUdBMVVkSHdRdE1Dc3dLYUFub0NXR0kyaDBkSEE2THk5amNtd3VZWEJ3YkdVdVkyOXRMMkZ3Y0d4bFlXbGpZVE11WTNKc01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBUEJna3Foa2lHOTJOa0JoMEVBZ1VBTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDSVFEYUhHT3VpK1gyVDQ0UjZHVnBON20ybkVjcjZUNnNNak9oWjVOdVNvMWVnd0loQUwxYSsvaHA4OERLSjBzdjNlVDNGeFdjczcxeG1iTEtEL1FKM21XYWdySk5NSUlDN2pDQ0FuV2dBd0lCQWdJSVNXMHZ2enFZMnBjd0NnWUlLb1pJemowRUF3SXdaekViTUJrR0ExVUVBd3dTUVhCd2JHVWdVbTl2ZENCRFFTQXRJRWN6TVNZd0pBWURWUVFMREIxQmNIQnNaU0JEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVURVRNQkVHQTFVRUNnd0tRWEJ3YkdVZ1NXNWpMakVMTUFrR0ExVUVCaE1DVlZNd0hoY05NVFF3TlRBMk1qTTBOak13V2hjTk1qa3dOVEEyTWpNME5qTXdXakI2TVM0d0xBWURWUVFERENWQmNIQnNaU0JCY0hCc2FXTmhkR2x2YmlCSmJuUmxaM0poZEdsdmJpQkRRU0F0SUVjek1TWXdKQVlEVlFRTERCMUJjSEJzWlNCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEVUTUJFR0ExVUVDZ3dLUVhCd2JHVWdTVzVqTGpFTE1Ba0dBMVVFQmhNQ1ZWTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBVHdGeEdFR2Rka2hkVWFYaVdCQjNib2dLTHYzbnV1VGVDTi9FdVQ0VE5XMVdaYk5hNGkwSmQyRFNKT2U3b0kvWFlYem9qTGRydG1jTDdJNkNtRS8xUkZvNEgzTUlIME1FWUdDQ3NHQVFVRkJ3RUJCRG93T0RBMkJnZ3JCZ0VGQlFjd0FZWXFhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdOQzFoY0hCc1pYSnZiM1JqWVdjek1CMEdBMVVkRGdRV0JCUWo4a25FVDVQazd5Zm14UFlvYkQraXUvMHVTekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjhHQTFVZEl3UVlNQmFBRkx1dzNxRllNNGlhcElxWjNyNjk2Ni9heXlTck1EY0dBMVVkSHdRd01DNHdMS0Fxb0NpR0ptaDBkSEE2THk5amNtd3VZWEJ3YkdVdVkyOXRMMkZ3Y0d4bGNtOXZkR05oWnpNdVkzSnNNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVFCZ29xaGtpRzkyTmtCZ0lPQkFJRkFEQUtCZ2dxaGtqT1BRUURBZ05uQURCa0FqQTZ6M0tEVVJhWnNZYjdOY05XeW1LLzlCZnQyUTkxVGFLT3Z2R2NnVjVDdDRuNG1QZWJXWitZMVVFTmo1M3B3djRDTURJdDFVUWhzS01GZDJ4ZDh6ZzdrR2Y5RjN3c0lXMldUOFp5YVlJU2IxVDRlbjBibWN1YkNZa2hZUWFaRHdtU0hRQUFNWUlCalRDQ0FZa0NBUUV3Z1lZd2VqRXVNQ3dHQTFVRUF3d2xRWEJ3YkdVZ1FYQndiR2xqWVhScGIyNGdTVzUwWldkeVlYUnBiMjRnUTBFZ0xTQkhNekVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUQWdob1lQYVoyY3luRHpBTkJnbGdoa2dCWlFNRUFnRUZBS0NCbFRBWUJna3Foa2lHOXcwQkNRTXhDd1lKS29aSWh2Y05BUWNCTUJ3R0NTcUdTSWIzRFFFSkJURVBGdzB5TURFd01qZ3dOREUxTURKYU1Db0dDU3FHU0liM0RRRUpOREVkTUJzd0RRWUpZSVpJQVdVREJBSUJCUUNoQ2dZSUtvWkl6ajBFQXdJd0x3WUpLb1pJaHZjTkFRa0VNU0lFSUU3Q0FrVDYvazBTUFkxWVNHb3BNL2l6S01CdFNYYVJTdCtLdW1QdFp2eC9NQW9HQ0NxR1NNNDlCQU1DQkVnd1JnSWhBTU5vZDhsOUxOT295WnlPY0hyODVad0hUSkpHdVZtQXlRSm5CQ0U4a2NMTkFpRUFweE5wd21lRFI3eUYzaW1CMFZPbWRkd2JlQzZEaW5HaFdEai9ucWFZKzA4QUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUYyMVB2SUVVL1RKNHVMbC9NaTV5TW9kb0NHdUFJWHNjTWVmQkUrdE9yMXhTbHlGWm11N005WERDVVJMVUkxZms5cS9ZWnV2SmNrWDJZaVJieDlURjlBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiYjY2YTg4NTY2NjY5Nzc0Y2IyZjY0M2FkN2IxMDMwOTgwNzMzNjYxOGI2YmQzYjZlODU1YmJkZGYyODkyODMxZCJ9fQ==",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "200",
                "auth_code": "004596",
                "channelId": "amex",
                "channelType": "mpgs",
                "date": "2021-06-10 10:03:15",
                "login": "NTT_2",
                "manualCapture": "N",
                "nttrefid": "941352357",
                "paymentMethod": "applepay",
                "proc_code": "003",
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "refundMode": "REFUND",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "200",
                "proc_code": "003"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2 with TWD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "request from NTT to mpgs"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11692",
        "OD": "Standardize_mpgs_applepay_amex_auth",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "mpgs",
        "testFlow": [
            "paymentRequest-paymentRequest",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentRequest": {
            "amt": "200",
            "txnid": "generate",
            "txncurr": "TWD",
            "od": "NTT Test10",
            "authentication": "N",
            "manualCapture": "Y",
            "tokenType": "applepay",
            "paymentMethod": "applepay",
            "channelType": "mpgs",
            "channelId": "amex",
            "expirydate": "CurrentTime",
            "token": "eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoibFVqK2J3eEZ4UUFpQ0VTcUhNQTNVbXo2S0pLNlZkZHlia0hseXlWR21KK29pSEY3d1VMWCs3RXhSYU1ZeVlza1h5Vk1xbFVEcUxYMU1DWVNEZm1uT0hDczJUZnc1NCt1NmpwQm1UK3ZBNWxtcTE3Vm1abWNCOHlvbk1HcWw1NFNYVktTdkhRTXB6RENoWm92WDBMejY0ZDdqRE9FdjRaSWJnZ2VrbW9KYkpDaVVlMFIyMWErQzVCdjErTXRXNkthYmJLWmdPc0NJa1FJbnp3YTh3NC9neHY5RTlnYTFPMzhramdOUnY1eFNvL3l4SjRGQzNwRnVMcC84Syt1V0l1cHNRY001eWZRejQ5dHVERkprRXMya1JyeUhLazdzdnZHYWdHRmVjcDFkY3Flb2x4ZEFKR1ZTN3Z1VDVkeUU4VTVVdFNLMjU5TlVITmxGUEdlNjB1dTdhbnl1eVdvU3oyV0hQd000VHhUZlpLRm5Za2w5NXBSY3dMU2VsNGpaNVZhZkdmTHpCUFRLT0ZXQUZRPSIsInNpZ25hdHVyZSI6Ik1JQUdDU3FHU0liM0RRRUhBcUNBTUlBQ0FRRXhEekFOQmdsZ2hrZ0JaUU1FQWdFRkFEQ0FCZ2txaGtpRzl3MEJCd0VBQUtDQU1JSUQ1akNDQTR1Z0F3SUJBZ0lJYUdEMm1kbk1wdzh3Q2dZSUtvWkl6ajBFQXdJd2VqRXVNQ3dHQTFVRUF3d2xRWEJ3YkdVZ1FYQndiR2xqWVhScGIyNGdTVzUwWldkeVlYUnBiMjRnUTBFZ0xTQkhNekVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUI0WERURTJNRFl3TXpFNE1UWTBNRm9YRFRJeE1EWXdNakU0TVRZME1Gb3dZakVvTUNZR0ExVUVBd3dmWldOakxYTnRjQzFpY205clpYSXRjMmxuYmw5VlF6UXRVMEZPUkVKUFdERVVNQklHQTFVRUN3d0xhVTlUSUZONWMzUmxiWE14RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVnakQ5cThPYzkxNGdMRkRabTBVUzVqZmlxUUhkYkxQZ3NjMUxVbWVZK005T3ZlZ2FKYWpDSGt3ejNjNk9LcGJDOXEraGt3TkZ4T2g2UkNiT2xSc1NsYU9DQWhFd2dnSU5NRVVHQ0NzR0FRVUZCd0VCQkRrd056QTFCZ2dyQmdFRkJRY3dBWVlwYUhSMGNEb3ZMMjlqYzNBdVlYQndiR1V1WTI5dEwyOWpjM0F3TkMxaGNIQnNaV0ZwWTJFek1ESXdIUVlEVlIwT0JCWUVGQUlrTUF1YTd1MUdNWmVrcGxvcG5rSnhnaHhGTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd2dnRWRCZ05WSFNBRWdnRVVNSUlCRURDQ0FRd0dDU3FHU0liM1kyUUZBVENCL2pDQnd3WUlLd1lCQlFVSEFnSXdnYllNZ2JOU1pXeHBZVzVqWlNCdmJpQjBhR2x6SUdObGNuUnBabWxqWVhSbElHSjVJR0Z1ZVNCd1lYSjBlU0JoYzNOMWJXVnpJR0ZqWTJWd2RHRnVZMlVnYjJZZ2RHaGxJSFJvWlc0Z1lYQndiR2xqWVdKc1pTQnpkR0Z1WkdGeVpDQjBaWEp0Y3lCaGJtUWdZMjl1WkdsMGFXOXVjeUJ2WmlCMWMyVXNJR05sY25ScFptbGpZWFJsSUhCdmJHbGplU0JoYm1RZ1kyVnlkR2xtYVdOaGRHbHZiaUJ3Y21GamRHbGpaU0J6ZEdGMFpXMWxiblJ6TGpBMkJnZ3JCZ0VGQlFjQ0FSWXFhSFIwY0RvdkwzZDNkeTVoY0hCc1pTNWpiMjB2WTJWeWRHbG1hV05oZEdWaGRYUm9iM0pwZEhrdk1EUUdBMVVkSHdRdE1Dc3dLYUFub0NXR0kyaDBkSEE2THk5amNtd3VZWEJ3YkdVdVkyOXRMMkZ3Y0d4bFlXbGpZVE11WTNKc01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBUEJna3Foa2lHOTJOa0JoMEVBZ1VBTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDSVFEYUhHT3VpK1gyVDQ0UjZHVnBON20ybkVjcjZUNnNNak9oWjVOdVNvMWVnd0loQUwxYSsvaHA4OERLSjBzdjNlVDNGeFdjczcxeG1iTEtEL1FKM21XYWdySk5NSUlDN2pDQ0FuV2dBd0lCQWdJSVNXMHZ2enFZMnBjd0NnWUlLb1pJemowRUF3SXdaekViTUJrR0ExVUVBd3dTUVhCd2JHVWdVbTl2ZENCRFFTQXRJRWN6TVNZd0pBWURWUVFMREIxQmNIQnNaU0JEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVURVRNQkVHQTFVRUNnd0tRWEJ3YkdVZ1NXNWpMakVMTUFrR0ExVUVCaE1DVlZNd0hoY05NVFF3TlRBMk1qTTBOak13V2hjTk1qa3dOVEEyTWpNME5qTXdXakI2TVM0d0xBWURWUVFERENWQmNIQnNaU0JCY0hCc2FXTmhkR2x2YmlCSmJuUmxaM0poZEdsdmJpQkRRU0F0SUVjek1TWXdKQVlEVlFRTERCMUJjSEJzWlNCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEVUTUJFR0ExVUVDZ3dLUVhCd2JHVWdTVzVqTGpFTE1Ba0dBMVVFQmhNQ1ZWTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBVHdGeEdFR2Rka2hkVWFYaVdCQjNib2dLTHYzbnV1VGVDTi9FdVQ0VE5XMVdaYk5hNGkwSmQyRFNKT2U3b0kvWFlYem9qTGRydG1jTDdJNkNtRS8xUkZvNEgzTUlIME1FWUdDQ3NHQVFVRkJ3RUJCRG93T0RBMkJnZ3JCZ0VGQlFjd0FZWXFhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdOQzFoY0hCc1pYSnZiM1JqWVdjek1CMEdBMVVkRGdRV0JCUWo4a25FVDVQazd5Zm14UFlvYkQraXUvMHVTekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjhHQTFVZEl3UVlNQmFBRkx1dzNxRllNNGlhcElxWjNyNjk2Ni9heXlTck1EY0dBMVVkSHdRd01DNHdMS0Fxb0NpR0ptaDBkSEE2THk5amNtd3VZWEJ3YkdVdVkyOXRMMkZ3Y0d4bGNtOXZkR05oWnpNdVkzSnNNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVFCZ29xaGtpRzkyTmtCZ0lPQkFJRkFEQUtCZ2dxaGtqT1BRUURBZ05uQURCa0FqQTZ6M0tEVVJhWnNZYjdOY05XeW1LLzlCZnQyUTkxVGFLT3Z2R2NnVjVDdDRuNG1QZWJXWitZMVVFTmo1M3B3djRDTURJdDFVUWhzS01GZDJ4ZDh6ZzdrR2Y5RjN3c0lXMldUOFp5YVlJU2IxVDRlbjBibWN1YkNZa2hZUWFaRHdtU0hRQUFNWUlCalRDQ0FZa0NBUUV3Z1lZd2VqRXVNQ3dHQTFVRUF3d2xRWEJ3YkdVZ1FYQndiR2xqWVhScGIyNGdTVzUwWldkeVlYUnBiMjRnUTBFZ0xTQkhNekVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUQWdob1lQYVoyY3luRHpBTkJnbGdoa2dCWlFNRUFnRUZBS0NCbFRBWUJna3Foa2lHOXcwQkNRTXhDd1lKS29aSWh2Y05BUWNCTUJ3R0NTcUdTSWIzRFFFSkJURVBGdzB5TURFd01qZ3dOREUxTURKYU1Db0dDU3FHU0liM0RRRUpOREVkTUJzd0RRWUpZSVpJQVdVREJBSUJCUUNoQ2dZSUtvWkl6ajBFQXdJd0x3WUpLb1pJaHZjTkFRa0VNU0lFSUU3Q0FrVDYvazBTUFkxWVNHb3BNL2l6S01CdFNYYVJTdCtLdW1QdFp2eC9NQW9HQ0NxR1NNNDlCQU1DQkVnd1JnSWhBTU5vZDhsOUxOT295WnlPY0hyODVad0hUSkpHdVZtQXlRSm5CQ0U4a2NMTkFpRUFweE5wd21lRFI3eUYzaW1CMFZPbWRkd2JlQzZEaW5HaFdEai9ucWFZKzA4QUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUYyMVB2SUVVL1RKNHVMbC9NaTV5TW9kb0NHdUFJWHNjTWVmQkUrdE9yMXhTbHlGWm11N005WERDVVJMVUkxZms5cS9ZWnV2SmNrWDJZaVJieDlURjlBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiYjY2YTg4NTY2NjY5Nzc0Y2IyZjY0M2FkN2IxMDMwOTgwNzMzNjYxOGI2YmQzYjZlODU1YmJkZGYyODkyODMxZCJ9fQ==",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "200",
                "auth_code": "004596",
                "channelId": "amex",
                "channelType": "mpgs",
                "date": "2021-06-10 10:03:15",
                "login": "NTT_2",
                "manualCapture": "N",
                "nttrefid": "941352357",
                "paymentMethod": "applepay",
                "proc_code": "003",
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "refundMode": "VOID",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "200",
                "proc_code": "000"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS",
                            "refund_mode": "VOID"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2 with TWD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_2 to NTT with"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_2 with"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11758",
        "OD": "Standardize_mpgs_applepay_card_purchase",
        "merchantId": "nttm4auto",
        "Skip": false,
        "caseType": "mpgs",
        "testFlow": [
            "paymentRequest-paymentRequest",
            "frontend_cybsDB-cybsDB1"
        ],
        "paymentRequest": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "TWD",
            "od": "test",
            "authentication": "N",
            "manualCapture": "N",
            "channelType":"mpgs",
            "tokenType": "applepay",
            "paymentMethod": "applepay",
            "token": "eyJkYXRhIjoiVTk0V1pmaU5helVyTnhhNGpSSm0yUHpJc1BpNDBJY2lFUGN2T1VOcE5ONXowZzBaZjJsOTdpYktOM3FZZTM1VEFkd2JBUHc1eVJyYmY5Q0JzK2VHQmQrbVZ2RkJTVkhBeEVvU2VIQzI0MGYvMHg3eGZvUmxreWVhc0EwR0dzWlFaYWdUMXJ0cVdZeElPM2U1KzFyVlphbUErMjYvejlXVnJaSUVrSFd3OExWQTFvU0tsRlNldVhwdzBUa08wSWwxTW4yaFVoaVZqbUd2SjJFdUZtQnE4OHNjN2gvV1U5aUJzSEhtL3pxNDhDZ0NQYTdtTFl5R3E3MXhLUU51dTBRM0EzdnVYYjFibTRjdExmU1MyK0RPQkExTG1SQ1Z5M1A5QXVZZzdhKzZLUUhLR21VTG5QSVM3VGlWUThiak13b2dYMGhGT0lrVHQ0aVZkOHZRakhjSlRFTm5jZW81Y2JoOHVSeUJ5VnE3cWNUNzVnNHJXMXgrdzVkekhnVkpWMjVuR1JPYmxaem16MUUrUFNhL1Rwd3h0NlU1c0pIaXJXVi9uTVVVZmFVczZRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05qSXhNRFUwTXpBMVdqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNENGRwTVE2cVVCbXl6dlZoQWVZYzlSSHBVcjFISWF1MGliQm11YThlOGVhakFLQmdncWhrak9QUVFEQWdSSE1FVUNJUUNXMEkyaHpOL2NaOEsyS1FiTHp2Nk95VmpxNHEyZXBxOGhGYVdOeXlHN0h3SWdHb0NQQlp2SHZzb2dQbXpqam1wWi9GQm5hSTJYanRYcnNhTjJZbjdHQ0pzQUFBQUFBQUE9IiwiaGVhZGVyIjp7InB1YmxpY0tleUhhc2giOiJhdHNES0Q5WlhyUGF1UXV3NHJHOTBFSzdtMDhIOXB1SDQzMjBYSURmZjJNPSIsImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRU1XcHQySmU5M29CZTl4a3UwMHBqSTdqd3hlYWRBbGc1VDkwSkd3RTM5UFRldUJrbjFXQzBXbXpEaCt3SmowNURLTU8veUlUamxPV2pESE81dEwvZVRBPT0iLCJ0cmFuc2FjdGlvbklkIjoiMDI4ZDk4MWQxNGE3OTEyMzBhMzBmMzlhZmY1YThjNzBjZDRiNDU3NmM5NTE1ZmMwYjkyODYyM2ViY2U5ZGQzMyJ9LCJ2ZXJzaW9uIjoiRUNfdjEifQ==",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelId": "card",
                "channelType": "mpgs",
                "errorCode": "PE4013",
                "errorDesc": "API format error - invalid data by merchants",
                "login": "NTT_M_4_AUTO",
                "manualCapture": "N",
                "nttrefid": "941697881",
                "paymentMethod": "applepay",
                "proc_code": "INVALID_REQUEST",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_M_4_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_M_4_AUTO to NTT with"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "request from NTT to mpgs"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_M_4_AUTO with"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    }
]