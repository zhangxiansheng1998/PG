[
    {
        "testDataId": "PaymentGateway-NDHK-23320",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:6 month) using PBB MASTER card with currency MYR, corrresponding with  fully refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|MATSER",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "500.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23322",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:18 month) using PBB master card with currency MYR, corrresponding with  partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|MATSER",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "18"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23323",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:24 month) using PBB VISA card with currency MYR, corrresponding with  mutiple partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "24"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23325",
        "OD": "For iPay88 3DS 2.0 (challenge) card API, do Purchase and installment payment(Tenure:3 month) using CIMB VISA card with currency MYR, corrresponding with full refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "3"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "500.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23326",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:6 month) using CIMB VISA card with currency MYR, corrresponding with  partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23327",
        "OD": "For iPay88 3DS 2.0 (challenge) card API, do Purchase and installment payment(Tenure:12 month) using CIMB VISA card with currency MYR, corrresponding with mutiple partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "12"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund1": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "30000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "300.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23332",
        "OD": "For iPay88 3DS 2.0 (challenge) card API, do Purchase and installment payment(Tenure:9 month) using CIMB VISA card with currency MYR, corrresponding with full refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "9"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "500.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23333",
        "OD": "For iPay88 3DS 2.0  card , do direct Purchase payment using  MASTER card with currency MYR, corrresponding with full refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|MATSER",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "500.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23334",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:6 month) using PBB master card with currency MYR, corrresponding with  partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|MATSER",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23335",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:3 month) using PBB MASTER card with currency MYR, corrresponding with  mutiple partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|MATSER",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "3"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund1": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "30000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "300.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23337",
        "OD": "For iPay88 3DS 2.0 (challenge) card API, do Purchase and installment payment(Tenure:3 month) using CIMB VISA card with currency MYR, corrresponding with full refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "3"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "500.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23338",
        "OD": "For iPay88 3DS 2.0 (frictionless) card API, do Purchase and installment payment(Tenure:6 month) using CIMB VISA card with currency MYR, corrresponding with  partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23339",
        "OD": "For iPay88 3DS 2.0 (challenge) card API, do Purchase and installment payment(Tenure:12 month) using CIMB VISA card with currency MYR, corrresponding with mutiple partial refund at the same day",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4yfY/0ELuIGWF9bsgT6LVDCpz7UXHWvkYcEawNrt5VRk=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "12"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "50000",
                "txncurr": "MYR",
                "channelType": "ipay88",
                "login": "NTT",
                "respcode": "02",
                "respdesc": "pending",
                "proc_code": "HTML Form Generation Success",
                "paymentMethod": "installment",
                "channelId": "111"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "channelId"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div[4]/form/div[2]/h5/a",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "otp",
                    "value": "1234",
                    "waitingTime": "5000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "refund1": {
            "amt": "20000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "200.00",
                            "txn_amt": "500.00",
                            "pending_amt": "300.00",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "30000",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "300.00",
                            "txn_amt": "500.00",
                            "pending_amt": "0",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Request from NTT to ipay88"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from ipay88 to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "payment Response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23367",
        "OD": "Send /paymentRequest  ,if API format is wrong, return NE1011",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "bodyIncorrectFormat": true,
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1011",
                "errorDesc": "Invalid Request Format",
                "respcode": "01",
                "respdesc": "Invalid Request Format"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23369",
        "OD": "Send /paymentRequest  without channelId return NE1033",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1033",
                "errorDesc": "Missing parameter - channelId",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1033",
                            "userData28": "Missing parameter - channelId"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23371",
        "OD": "Send /paymentRequest  without  installment return NE1051",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment1": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1051",
                "errorDesc": "Missing parameter - installment",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1051",
                            "userData28": "Missing parameter - installment"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23372",
        "OD": "Send /paymentRequest  without  installment term return NE1139",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term1": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1139",
                "errorDesc": "Missing parameter - installment.term",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1139",
                            "userData28": "Missing parameter - installment.term"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23373",
        "OD": "Send /paymentRequest  with invalid  installment term return NE1131",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "2"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1131",
                "errorDesc": "Invalid parameter - installment.term",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1131",
                            "userData28": "Invalid parameter - installment.term"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23374",
        "OD": "Send /paymentRequest  with txncurr is not MYR return NE1015",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1015",
                "errorDesc": "Invalid parameter - txncurr",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1015",
                            "userData28": "Invalid parameter - txncurr"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "callback"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23375",
        "OD": "Send /paymentRequest  with invalid tx amount return NE1024",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "9999999999999999990",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1024",
                            "userData28": "Requested amt is not in acceptable range"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23376",
        "OD": "Send /paymentRequest  without carddata  return NE1038",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata1": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1038",
                "errorDesc": "Missing parameter - carddata OR token",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1038",
                            "userData28": "Missing parameter - carddata OR token"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23377",
        "OD": "Send /paymentRequest  without token return NE1038",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "token1":"0abb476f-a5e0-4b45-83e1-de10fbb02928",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1038",
                "errorDesc": "Missing parameter - carddata OR token",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1038",
                            "userData28": "Missing parameter - carddata OR token"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23381",
        "OD": "Send /paymentRequest  without login return NE1012",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "login":"",
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login",
                "respcode": "01",
                "respdesc": "Missing parameter - login"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23383",
        "OD": "Send /paymentRequest  with invalid login return NE0100",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "login":"abc",
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials",
                "respcode": "01",
                "respdesc": "Invalid API credentials"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from abc to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to abc"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23385",
        "OD": "Send /paymentRequest  without pass return NE1013",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "pass": "",
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass",
                "respcode": "01",
                "respdesc": "Missing parameter - pass"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1013",
                            "userData28": "Missing parameter - pass"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23387",
        "OD": "Send /paymentRequest  with invalid pass return NE0100",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "pass":"abc",
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials",
                "respcode": "01",
                "respdesc": "Invalid API credentials"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23389",
        "OD": "Send /paymentRequest  without amt return NE1022",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt",
                "respcode": "01",
                "respdesc": "Missing parameter - amt"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1022",
                            "userData28": "Missing parameter - amt"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23391",
        "OD": "Send /paymentRequest  without txncurr return NE1014",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1014",
                "errorDesc": "Missing parameter - txncurr",
                "respcode": "01",
                "respdesc": "Missing parameter - txncurr"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1014",
                            "userData28": "Missing parameter - txncurr"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23393",
        "OD": "Send /paymentRequest  without txnid return NE1016",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1016",
                "errorDesc": "Missing parameter - txnid",
                "respcode": "01",
                "respdesc": "Missing parameter - txnid"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1016",
                            "userData28": "Missing parameter - txnid"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23395",
        "OD": "Send /paymentRequest  with invalid txnid return NE1017",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "ntttestname",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1017",
                "errorDesc": "Invalid parameter - txnid",
                "respcode": "01",
                "respdesc": "Invalid parameter - txnid"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1017",
                            "userData28": "Invalid parameter - txnid"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23397",
        "OD": "Send /paymentRequest  without customerDetail.name return NE1108",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1108",
                "errorDesc": "Missing parameter - customerDetails.name",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1108",
                            "userData28": "Missing parameter - customerDetails.name"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23398",
        "OD": "Send /paymentRequest  without signature return NE1026",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "headerSignature": false,
            "bodySignature": false,
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature",
                "respcode": "01",
                "respdesc": "Missing parameter - signature"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1026",
                            "userData28": "Missing parameter - signature"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23400",
        "OD": "Send /paymentRequest  with invalid signature return NE0100",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "headerSignature": false,
            "bodySignature": true,
            "signature":"123",
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials",
                "respcode": "01",
                "respdesc": "Invalid API credentials"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE0100",
                            "userData28": "Invalid API credentials"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23402",
        "OD": "Send /paymentRequest  without od return NE1020",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1020",
                "errorDesc": "Missing parameter - od",
                "respcode": "01",
                "respdesc": "Missing parameter - od"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1020",
                            "userData28": "Missing parameter - od"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23404",
        "OD": "Send /paymentRequest  with invalid od return NE1021",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "testing1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111222222222222222222222222222222",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1021",
                "errorDesc": "Invalid parameter - od",
                "respcode": "01",
                "respdesc": "Invalid parameter - od"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1021",
                            "userData28": "Invalid parameter - od"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23406",
        "OD": "Send /paymentRequest  with invalid amt return NE1023",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "abc",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt",
                "respcode": "01",
                "respdesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1023",
                            "userData28": "Invalid parameter - amt"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23408",
        "OD": "Send /paymentRequest  with invalid authentication return NE1052",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "123",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1052",
                "errorDesc": "Invalid parameter - authentication",
                "respcode": "01",
                "respdesc": "Invalid parameter - authentication"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1052",
                            "userData28": "Invalid parameter - authentication"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23409",
        "OD": "Send /paymentRequest with invalid callback, return NE1036",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "xxxxxxxxxxxx",
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1036",
                "errorDesc": "Invalid parameter - callbackUrl",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1036",
                            "userData28": "Invalid parameter - callbackUrl"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23411",
        "OD": "Send /paymentRequest with invalid ru, return NE1028",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru": "xxxxxxxxxxxxxxxxxxxxxxxxx",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1028",
                "errorDesc": "Invalid parameter - ru",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1028",
                            "userData28": "Invalid parameter - ru"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23412",
        "OD": "Send /paymentRequest  without paymentMethod return NE1031",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1031",
                "errorDesc": "Missing parameter - paymentMethod",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1031",
                            "userData28": "Missing parameter - paymentMethod"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23413",
        "OD": "Send /paymentRequest  with invalid paymentMethod return NE1032",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "card",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1032",
                "errorDesc": "Invalid parameter - paymentMethod",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1032",
                            "userData28": "Invalid parameter - paymentMethod"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23414",
        "OD": "Send /paymentRequest  with invalid manualCapture return NE1053",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "123",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1053",
                "errorDesc": "Invalid parameter - manualCapture",
                "respcode": "01",
                "respdesc": "Invalid parameter - manualCapture"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1053",
                            "userData28": "Invalid parameter - manualCapture"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23415",
        "OD": "Send /paymentRequest  without customerDetail.email return NE1107",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1107",
                "errorDesc": "Missing parameter - customerDetails.email",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1107",
                            "userData28": "Missing parameter - customerDetails.email"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23416",
        "OD": "Send /paymentRequest  with invalid customerDetail.email return NE1105",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "123aaa",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1105",
                "errorDesc": "Invalid parameter - customerDetails.email",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1105",
                            "userData28": "Invalid parameter - customerDetails.email"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23446",
        "OD": "Send /paymentRequest  with invalid paymentMethod return NE1032",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "card",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1032",
                "errorDesc": "Invalid parameter - paymentMethod",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1032",
                            "userData28": "Invalid parameter - paymentMethod"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23447",
        "OD": "Send /paymentRequest  with invalid manualCapture return NE1053",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "123",
            "customerDetails": {
                "name": "test",
                "email": "test@test.com",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1053",
                "errorDesc": "Invalid parameter - manualCapture",
                "respcode": "01",
                "respdesc": "Invalid parameter - manualCapture"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1053",
                            "userData28": "Invalid parameter - manualCapture"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23448",
        "OD": "Send /paymentRequest  without customerDetail.email return NE1107",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1107",
                "errorDesc": "Missing parameter - customerDetails.email",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1107",
                            "userData28": "Missing parameter - customerDetails.email"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-23449",
        "OD": "Send /paymentRequest  with invalid customerDetail.email return NE1105",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "ipay88",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "50000",
            "txnid": "generate",
            "txncurr": "MYR",
            "carddata": "XZ13aC5625frSmc4IDMxiU0tTHIZcg26Fb7+dts6zvU5FcUvowUrSKuM5BQ=|John Doe|CC|PBB",
            "ru":"https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c5bbf104-7e05-4d37-93d4-a1295af743f7", 
            "channelType": "ipay88",
            "channelId": "111",
            "cardEncryptionMethod": "AES",
            "paymentMethod": "installment",
            "installment": {
                "term": "6"
            },
            "od": "test",
            "authentication": "Y",
            "manualCapture": "N",
            "customerDetails": {
                "name": "test",
                "email": "123aaa",
                "phone": "60-0126500100"
            },
            "expectedResult": {
                "errorCode": "NE1105",
                "errorDesc": "Invalid parameter - customerDetails.email",
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log ",
                        "columnNames": [
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id= '{nttrefid}' "
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "userData27": "NE1105",
                            "userData28": "Invalid parameter - customerDetails.email"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Payment request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT"
                    ]
                }
            }
        }
    }
]