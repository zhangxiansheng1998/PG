[
    {
        "testDataId": "PaymentGateway_NDHK-17856",
        "OD": "verify store cybs applepay info into transaction_log_extra_info table",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "paymentMethod": "applepay",
            "channelId": "card",
            "tokenType": "applepay",
            "token": "eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoiQ1p6VEhCR3p1NGNxRVJrWTlxT0FWckl5M251VWRYK0xHdVFSU0xVNnp2ZllLMUFLWHgrWG0vQzBPVWthb3hNNW9IQzg1d0VabmhTdmFvbG9VelNkcVVTVGVpUk84azROMWl1cjE1Mk5LQjdkV3AwMEVDS2dUZkRXUld3QzdlZUV6R1IxZ1IvZVFMeVgzKzJRNWpSMlgxa1Vla0lyVE9WbnlBbHFvYlpUZFBjakRvUXZXVW02QjFCUStmMG1uZUZjc0wvOEVkckJmVFFoNlFvdy9QNnIrb2JTdjY2aGp5TkVCYktqeXVuTGJwQkJqWkJ6Z1RqTGtQaG0wRGlsQ0pybEpTZi9VQ3F5OGFtT1VpNTRMOVR0c05nTXArczZCT0JQMDNIenJtRUEzSk1DZmdoSUF0eXJVRzdpcytnb0VQMkpMdnluWVJWS1YxMFZKcjhPdUhzQVVJc1YrMTJXbWtwcHoyTElOUHY5K3dIQWtlaU54SzdtSmU2aDNVRW1tQ1BER1lERXVKd2h0dHJzU053QlYrcS9CeFd6aVByb0dwaGlZSXpoQSt5OGRRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05URXdNRGcxTkRFd1dqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNCRnovcG5UZ29OdEoxc2w1VGtVYy9RTzB4dE5ERGxpTFJOWlZ3aHFWbU1ZVEFLQmdncWhrak9QUVFEQWdSSE1FVUNJR21zRk45K3Z0cVdhVy90S2NtUzRqL21JVTJ6blVOM3FjejBRR002S2lrSkFpRUFyYmNpWEdSSUNjbXpWMm1aelhKSXg1M3g3eXo3REFYTmVpM2ZTaFBEcllNQUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUlKZTBOSmwvZll1VUYvaE42aDBtc0VKZ2hvUHZWL1paVDg0dDFRZUFqTnJUdDNOeEtNZXhmM3pDWURycUx5Tm4wa0Uvd3FMQ1NqWjJSMi9xekdNd1hBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiZjA3OTkzM2M0NTM5NGVlZTZmYWMxNWEyZjYxMDRmMDE1ZTMwOWEzYjMwOTkyNTY4MGVkYTgxMGQ1ODNkMzk3YSJ9fQ==",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelId": "card",
                "channelType": "cybs",
                "login": "NTT",
                "paymentMethod": "applepay",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "cardnumber",
                            "txn_status",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "cardnumber": "483196XXXXXX2238",
                            "txn_status": "OK",
                            "user_data_43": null,
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"token\": \"eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoiQ1p6VEhCR3p1NGNxRVJrWTlxT0FWckl5M251VWRYK0xHdVFSU0xVNnp2ZllLMUFLWHgrWG0vQzBPVWthb3hNNW9IQzg1d0VabmhTdmFvbG9VelNkcVVTVGVpUk84azROMWl1cjE1Mk5LQjdkV3AwMEVDS2dUZkRXUld3QzdlZUV6R1IxZ1IvZVFMeVgzKzJRNWpSMlgxa1Vla0lyVE9WbnlBbHFvYlpUZFBjakRvUXZXVW02QjFCUStmMG1uZUZjc0wvOEVkckJmVFFoNlFvdy9QNnIrb2JTdjY2aGp5TkVCYktqeXVuTGJwQkJqWkJ6Z1RqTGtQaG0wRGlsQ0pybEpTZi9VQ3F5OGFtT1VpNTRMOVR0c05nTXArczZCT0JQMDNIenJtRUEzSk1DZmdoSUF0eXJVRzdpcytnb0VQMkpMdnluWVJWS1YxMFZKcjhPdUhzQVVJc1YrMTJXbWtwcHoyTElOUHY5K3dIQWtlaU54SzdtSmU2aDNVRW1tQ1BER1lERXVKd2h0dHJzU053QlYrcS9CeFd6aVByb0dwaGlZSXpoQSt5OGRRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05URXdNRGcxTkRFd1dqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNCRnovcG5UZ29OdEoxc2w1VGtVYy9RTzB4dE5ERGxpTFJOWlZ3aHFWbU1ZVEFLQmdncWhrak9QUVFEQWdSSE1FVUNJR21zRk45K3Z0cVdhVy90S2NtUzRqL21JVTJ6blVOM3FjejBRR002S2lrSkFpRUFyYmNpWEdSSUNjbXpWMm1aelhKSXg1M3g3eXo3REFYTmVpM2ZTaFBEcllNQUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUlKZTBOSmwvZll1VUYvaE42aDBtc0VKZ2hvUHZWL1paVDg0dDFRZUFqTnJUdDNOeEtNZXhmM3pDWURycUx5Tm4wa0Uvd3FMQ1NqWjJSMi9xekdNd1hBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiZjA3OTkzM2M0NTM5NGVlZTZmYWMxNWEyZjYxMDRmMDE1ZTMwOWEzYjMwOTkyNTY4MGVkYTgxMGQ1ODNkMzk3YSJ9fQ==\", \"cardBrand\": \"VISA\", \"tokenType\": \"applepay\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17857",
        "OD": "verify cybs applepay full refund correctly",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "paymentMethod": "applepay",
            "channelId": "card",
            "tokenType": "applepay",
            "token": "eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoiQ1p6VEhCR3p1NGNxRVJrWTlxT0FWckl5M251VWRYK0xHdVFSU0xVNnp2ZllLMUFLWHgrWG0vQzBPVWthb3hNNW9IQzg1d0VabmhTdmFvbG9VelNkcVVTVGVpUk84azROMWl1cjE1Mk5LQjdkV3AwMEVDS2dUZkRXUld3QzdlZUV6R1IxZ1IvZVFMeVgzKzJRNWpSMlgxa1Vla0lyVE9WbnlBbHFvYlpUZFBjakRvUXZXVW02QjFCUStmMG1uZUZjc0wvOEVkckJmVFFoNlFvdy9QNnIrb2JTdjY2aGp5TkVCYktqeXVuTGJwQkJqWkJ6Z1RqTGtQaG0wRGlsQ0pybEpTZi9VQ3F5OGFtT1VpNTRMOVR0c05nTXArczZCT0JQMDNIenJtRUEzSk1DZmdoSUF0eXJVRzdpcytnb0VQMkpMdnluWVJWS1YxMFZKcjhPdUhzQVVJc1YrMTJXbWtwcHoyTElOUHY5K3dIQWtlaU54SzdtSmU2aDNVRW1tQ1BER1lERXVKd2h0dHJzU053QlYrcS9CeFd6aVByb0dwaGlZSXpoQSt5OGRRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05URXdNRGcxTkRFd1dqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNCRnovcG5UZ29OdEoxc2w1VGtVYy9RTzB4dE5ERGxpTFJOWlZ3aHFWbU1ZVEFLQmdncWhrak9QUVFEQWdSSE1FVUNJR21zRk45K3Z0cVdhVy90S2NtUzRqL21JVTJ6blVOM3FjejBRR002S2lrSkFpRUFyYmNpWEdSSUNjbXpWMm1aelhKSXg1M3g3eXo3REFYTmVpM2ZTaFBEcllNQUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUlKZTBOSmwvZll1VUYvaE42aDBtc0VKZ2hvUHZWL1paVDg0dDFRZUFqTnJUdDNOeEtNZXhmM3pDWURycUx5Tm4wa0Uvd3FMQ1NqWjJSMi9xekdNd1hBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiZjA3OTkzM2M0NTM5NGVlZTZmYWMxNWEyZjYxMDRmMDE1ZTMwOWEzYjMwOTkyNTY4MGVkYTgxMGQ1ODNkMzk3YSJ9fQ==",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelId": "card",
                "channelType": "cybs",
                "login": "NTT",
                "paymentMethod": "applepay",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "refundMode": "REFUND",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "100"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "cardnumber",
                            "txn_status",
                            "user_data_25",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "cardnumber": "483196XXXXXX2238",
                            "txn_status": "OK",
                            "user_data_25": "Fully_Refunded",
                            "user_data_43": null,
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"token\": \"eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoiQ1p6VEhCR3p1NGNxRVJrWTlxT0FWckl5M251VWRYK0xHdVFSU0xVNnp2ZllLMUFLWHgrWG0vQzBPVWthb3hNNW9IQzg1d0VabmhTdmFvbG9VelNkcVVTVGVpUk84azROMWl1cjE1Mk5LQjdkV3AwMEVDS2dUZkRXUld3QzdlZUV6R1IxZ1IvZVFMeVgzKzJRNWpSMlgxa1Vla0lyVE9WbnlBbHFvYlpUZFBjakRvUXZXVW02QjFCUStmMG1uZUZjc0wvOEVkckJmVFFoNlFvdy9QNnIrb2JTdjY2aGp5TkVCYktqeXVuTGJwQkJqWkJ6Z1RqTGtQaG0wRGlsQ0pybEpTZi9VQ3F5OGFtT1VpNTRMOVR0c05nTXArczZCT0JQMDNIenJtRUEzSk1DZmdoSUF0eXJVRzdpcytnb0VQMkpMdnluWVJWS1YxMFZKcjhPdUhzQVVJc1YrMTJXbWtwcHoyTElOUHY5K3dIQWtlaU54SzdtSmU2aDNVRW1tQ1BER1lERXVKd2h0dHJzU053QlYrcS9CeFd6aVByb0dwaGlZSXpoQSt5OGRRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05URXdNRGcxTkRFd1dqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNCRnovcG5UZ29OdEoxc2w1VGtVYy9RTzB4dE5ERGxpTFJOWlZ3aHFWbU1ZVEFLQmdncWhrak9QUVFEQWdSSE1FVUNJR21zRk45K3Z0cVdhVy90S2NtUzRqL21JVTJ6blVOM3FjejBRR002S2lrSkFpRUFyYmNpWEdSSUNjbXpWMm1aelhKSXg1M3g3eXo3REFYTmVpM2ZTaFBEcllNQUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUlKZTBOSmwvZll1VUYvaE42aDBtc0VKZ2hvUHZWL1paVDg0dDFRZUFqTnJUdDNOeEtNZXhmM3pDWURycUx5Tm4wa0Uvd3FMQ1NqWjJSMi9xekdNd1hBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiZjA3OTkzM2M0NTM5NGVlZTZmYWMxNWEyZjYxMDRmMDE1ZTMwOWEzYjMwOTkyNTY4MGVkYTgxMGQ1ODNkMzk3YSJ9fQ==\", \"cardBrand\": \"VISA\", \"tokenType\": \"applepay\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT "
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17858",
        "OD": "verify cybs applepay multiple refund correctly",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "paymentMethod": "applepay",
            "channelId": "card",
            "tokenType": "applepay",
            "token": "eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoiQ1p6VEhCR3p1NGNxRVJrWTlxT0FWckl5M251VWRYK0xHdVFSU0xVNnp2ZllLMUFLWHgrWG0vQzBPVWthb3hNNW9IQzg1d0VabmhTdmFvbG9VelNkcVVTVGVpUk84azROMWl1cjE1Mk5LQjdkV3AwMEVDS2dUZkRXUld3QzdlZUV6R1IxZ1IvZVFMeVgzKzJRNWpSMlgxa1Vla0lyVE9WbnlBbHFvYlpUZFBjakRvUXZXVW02QjFCUStmMG1uZUZjc0wvOEVkckJmVFFoNlFvdy9QNnIrb2JTdjY2aGp5TkVCYktqeXVuTGJwQkJqWkJ6Z1RqTGtQaG0wRGlsQ0pybEpTZi9VQ3F5OGFtT1VpNTRMOVR0c05nTXArczZCT0JQMDNIenJtRUEzSk1DZmdoSUF0eXJVRzdpcytnb0VQMkpMdnluWVJWS1YxMFZKcjhPdUhzQVVJc1YrMTJXbWtwcHoyTElOUHY5K3dIQWtlaU54SzdtSmU2aDNVRW1tQ1BER1lERXVKd2h0dHJzU053QlYrcS9CeFd6aVByb0dwaGlZSXpoQSt5OGRRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05URXdNRGcxTkRFd1dqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNCRnovcG5UZ29OdEoxc2w1VGtVYy9RTzB4dE5ERGxpTFJOWlZ3aHFWbU1ZVEFLQmdncWhrak9QUVFEQWdSSE1FVUNJR21zRk45K3Z0cVdhVy90S2NtUzRqL21JVTJ6blVOM3FjejBRR002S2lrSkFpRUFyYmNpWEdSSUNjbXpWMm1aelhKSXg1M3g3eXo3REFYTmVpM2ZTaFBEcllNQUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUlKZTBOSmwvZll1VUYvaE42aDBtc0VKZ2hvUHZWL1paVDg0dDFRZUFqTnJUdDNOeEtNZXhmM3pDWURycUx5Tm4wa0Uvd3FMQ1NqWjJSMi9xekdNd1hBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiZjA3OTkzM2M0NTM5NGVlZTZmYWMxNWEyZjYxMDRmMDE1ZTMwOWEzYjMwOTkyNTY4MGVkYTgxMGQ1ODNkMzk3YSJ9fQ==",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelId": "card",
                "channelType": "cybs",
                "login": "NTT",
                "paymentMethod": "applepay",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "40"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "1",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "60",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "60"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "1",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        },
                        {
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"token\": \"eyJ2ZXJzaW9uIjoiRUNfdjEiLCJkYXRhIjoiQ1p6VEhCR3p1NGNxRVJrWTlxT0FWckl5M251VWRYK0xHdVFSU0xVNnp2ZllLMUFLWHgrWG0vQzBPVWthb3hNNW9IQzg1d0VabmhTdmFvbG9VelNkcVVTVGVpUk84azROMWl1cjE1Mk5LQjdkV3AwMEVDS2dUZkRXUld3QzdlZUV6R1IxZ1IvZVFMeVgzKzJRNWpSMlgxa1Vla0lyVE9WbnlBbHFvYlpUZFBjakRvUXZXVW02QjFCUStmMG1uZUZjc0wvOEVkckJmVFFoNlFvdy9QNnIrb2JTdjY2aGp5TkVCYktqeXVuTGJwQkJqWkJ6Z1RqTGtQaG0wRGlsQ0pybEpTZi9VQ3F5OGFtT1VpNTRMOVR0c05nTXArczZCT0JQMDNIenJtRUEzSk1DZmdoSUF0eXJVRzdpcytnb0VQMkpMdnluWVJWS1YxMFZKcjhPdUhzQVVJc1YrMTJXbWtwcHoyTElOUHY5K3dIQWtlaU54SzdtSmU2aDNVRW1tQ1BER1lERXVKd2h0dHJzU053QlYrcS9CeFd6aVByb0dwaGlZSXpoQSt5OGRRPT0iLCJzaWduYXR1cmUiOiJNSUFHQ1NxR1NJYjNEUUVIQXFDQU1JQUNBUUV4RHpBTkJnbGdoa2dCWlFNRUFnRUZBRENBQmdrcWhraUc5dzBCQndFQUFLQ0FNSUlENURDQ0E0dWdBd0lCQWdJSVdkaWh2S3IwNDgwd0NnWUlLb1pJemowRUF3SXdlakV1TUN3R0ExVUVBd3dsUVhCd2JHVWdRWEJ3YkdsallYUnBiMjRnU1c1MFpXZHlZWFJwYjI0Z1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl4TURReU1ERTVNemN3TUZvWERUSTJNRFF4T1RFNU16WTFPVm93WWpFb01DWUdBMVVFQXd3ZlpXTmpMWE50Y0MxaWNtOXJaWEl0YzJsbmJsOVZRelF0VTBGT1JFSlBXREVVTUJJR0ExVUVDd3dMYVU5VElGTjVjM1JsYlhNeEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFZ2pEOXE4T2M5MTRnTEZEWm0wVVM1amZpcVFIZGJMUGdzYzFMVW1lWStNOU92ZWdhSmFqQ0hrd3ozYzZPS3BiQzlxK2hrd05GeE9oNlJDYk9sUnNTbGFPQ0FoRXdnZ0lOTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVSS9KSnhFK1Q1TzhuNXNUMktHdy9vcnY5TGtzd1JRWUlLd1lCQlFVSEFRRUVPVEEzTURVR0NDc0dBUVVGQnpBQmhpbG9kSFJ3T2k4dmIyTnpjQzVoY0hCc1pTNWpiMjB2YjJOemNEQTBMV0Z3Y0d4bFlXbGpZVE13TWpDQ0FSMEdBMVVkSUFTQ0FSUXdnZ0VRTUlJQkRBWUpLb1pJaHZkalpBVUJNSUgrTUlIREJnZ3JCZ0VGQlFjQ0FqQ0J0Z3lCczFKbGJHbGhibU5sSUc5dUlIUm9hWE1nWTJWeWRHbG1hV05oZEdVZ1lua2dZVzU1SUhCaGNuUjVJR0Z6YzNWdFpYTWdZV05qWlhCMFlXNWpaU0J2WmlCMGFHVWdkR2hsYmlCaGNIQnNhV05oWW14bElITjBZVzVrWVhKa0lIUmxjbTF6SUdGdVpDQmpiMjVrYVhScGIyNXpJRzltSUhWelpTd2dZMlZ5ZEdsbWFXTmhkR1VnY0c5c2FXTjVJR0Z1WkNCalpYSjBhV1pwWTJGMGFXOXVJSEJ5WVdOMGFXTmxJSE4wWVhSbGJXVnVkSE11TURZR0NDc0dBUVVGQndJQkZpcG9kSFJ3T2k4dmQzZDNMbUZ3Y0d4bExtTnZiUzlqWlhKMGFXWnBZMkYwWldGMWRHaHZjbWwwZVM4d05BWURWUjBmQkMwd0t6QXBvQ2VnSllZamFIUjBjRG92TDJOeWJDNWhjSEJzWlM1amIyMHZZWEJ3YkdWaGFXTmhNeTVqY213d0hRWURWUjBPQkJZRUZBSWtNQXVhN3UxR01aZWtwbG9wbmtKeGdoeEZNQTRHQTFVZER3RUIvd1FFQXdJSGdEQVBCZ2txaGtpRzkyTmtCaDBFQWdVQU1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lIU2hzeVRiUWtsRERkTW5URkIweElDTm1oOUlEanFGeGNFMkpXWXlYN3lqQWlCcE5wQlRxL1VMV2xMNTlnQk54WXF0YkZDbjFnaG9ONURncHpyUUhrclpnVENDQXU0d2dnSjFvQU1DQVFJQ0NFbHRMNzg2bU5xWE1Bb0dDQ3FHU000OUJBTUNNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUwTURVd05qSXpORFl6TUZvWERUSTVNRFV3TmpJek5EWXpNRm93ZWpFdU1Dd0dBMVVFQXd3bFFYQndiR1VnUVhCd2JHbGpZWFJwYjI0Z1NXNTBaV2R5WVhScGIyNGdRMEVnTFNCSE16RW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU4QmNSaEJuWFpJWFZHbDRsZ1FkMjZJQ2k3OTU3cmszZ2pmeExrK0V6VnRWbVd6V3VJdENYZGcwaVRudTZDUDEyRjg2SXkzYTdabkMreU9ncGhQOVVSYU9COXpDQjlEQkdCZ2dyQmdFRkJRY0JBUVE2TURnd05nWUlLd1lCQlFVSE1BR0dLbWgwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRFF0WVhCd2JHVnliMjkwWTJGbk16QWRCZ05WSFE0RUZnUVVJL0pKeEUrVDVPOG41c1QyS0d3L29ydjlMa3N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFmQmdOVkhTTUVHREFXZ0JTN3NONmhXRE9JbXFTS21kNit2ZXV2MnNza3F6QTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3T2k4dlkzSnNMbUZ3Y0d4bExtTnZiUzloY0hCc1pYSnZiM1JqWVdjekxtTnliREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFQVlLS29aSWh2ZGpaQVlDRGdRQ0JRQXdDZ1lJS29aSXpqMEVBd0lEWndBd1pBSXdPczl5ZzFFV21iR0crelhEVnNwaXYvUVg3ZGtQZFUyaWpyN3huSUZlUXJlSitKajNtMW1mbU5WQkRZK2Q2Y0wrQWpBeUxkVkVJYkNqQlhkc1hmTTRPNUJuL1JkOExDRnRsay9HY21tQ0VtOVUrSHA5RzVuTG13bUpJV0VHbVE4SmtoMEFBREdDQVl3d2dnR0lBZ0VCTUlHR01Ib3hMakFzQmdOVkJBTU1KVUZ3Y0d4bElFRndjR3hwWTJGMGFXOXVJRWx1ZEdWbmNtRjBhVzl1SUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSVdkaWh2S3IwNDgwd0RRWUpZSVpJQVdVREJBSUJCUUNnZ1pVd0dBWUpLb1pJaHZjTkFRa0RNUXNHQ1NxR1NJYjNEUUVIQVRBY0Jna3Foa2lHOXcwQkNRVXhEeGNOTWpFd05URXdNRGcxTkRFd1dqQXFCZ2txaGtpRzl3MEJDVFF4SFRBYk1BMEdDV0NHU0FGbEF3UUNBUVVBb1FvR0NDcUdTTTQ5QkFNQ01DOEdDU3FHU0liM0RRRUpCREVpQkNCRnovcG5UZ29OdEoxc2w1VGtVYy9RTzB4dE5ERGxpTFJOWlZ3aHFWbU1ZVEFLQmdncWhrak9QUVFEQWdSSE1FVUNJR21zRk45K3Z0cVdhVy90S2NtUzRqL21JVTJ6blVOM3FjejBRR002S2lrSkFpRUFyYmNpWEdSSUNjbXpWMm1aelhKSXg1M3g3eXo3REFYTmVpM2ZTaFBEcllNQUFBQUFBQUE9IiwiaGVhZGVyIjp7ImVwaGVtZXJhbFB1YmxpY0tleSI6Ik1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUlKZTBOSmwvZll1VUYvaE42aDBtc0VKZ2hvUHZWL1paVDg0dDFRZUFqTnJUdDNOeEtNZXhmM3pDWURycUx5Tm4wa0Uvd3FMQ1NqWjJSMi9xekdNd1hBPT0iLCJwdWJsaWNLZXlIYXNoIjoiYXRzREtEOVpYclBhdVF1dzRyRzkwRUs3bTA4SDlwdUg0MzIwWElEZmYyTT0iLCJ0cmFuc2FjdGlvbklkIjoiZjA3OTkzM2M0NTM5NGVlZTZmYWMxNWEyZjYxMDRmMDE1ZTMwOWEzYjMwOTkyNTY4MGVkYTgxMGQ1ODNkMzk3YSJ9fQ==\", \"cardBrand\": \"VISA\", \"tokenType\": \"applepay\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT "
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "0019 Verify payment with all non-mandatory parameter for cybs",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0019",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testin!#$%&",
            "date": "2020-01-16 16:28:11",
            "remarks": "remarks",
            "email": "Ops.HK@nttdata.com",
            "paymentMethod": "card",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "fraudControl": "fraudControl",
            "udf1": "udf1 - test - 123@",
            "udf2": "udf2 - test - 123@",
            "udf3": "udf3 - test - 123@",
            "udf4": "udf4 - test - 123@",
            "udf5": "udf5 - test - 123@",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0019",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "channelId": "channelId",
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_45",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_45": "PURCHASE",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "0041 Provide optional parameter paymentMethod: credit,inrequest",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate14",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "paymentMethod": "card",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate14",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "captureId": "56044",
                "manualCapture": "N",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "payment_type"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "payment_type": "card"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0043 Provide optional parameter paymentMethod: debit,inrequest",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate16",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "paymentMethod": "card",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate16",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "payment_type"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "payment_type": "card"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9800",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "USD",
            "od": "NTT Test",
            "paymentMethod": "card",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Missing parameter - carddata OR token",
                "errorDesc": "Missing parameter - carddata OR token",
                "amt": "100",
                "errorCode": "NE1038",
                "txncurr": "USD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1038",
                            "userData28": "Missing parameter - carddata OR token"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9801",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=testdecrypt|nivi|CC|OTHER",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-4118",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|nivi|CC|OTHER",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Missing parameter - txncurr",
                "errorDesc": "Missing parameter - txncurr",
                "amt": "100",
                "errorCode": "NE1014",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1014",
                            "userData28": "Missing parameter - txncurr"
                        }
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6480",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "respcode": "00",
                "amt": "100",
                "channelType": "cybs",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "paymentMethod"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6479",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "",
            "nttrefid": "940991740",
            "expectedResult": {
                "respdesc": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "940991740",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6478",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6477",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequest-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login",
                "respcode": "01",
                "respdesc": "Missing parameter - login"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6472",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6471",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6467",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6466",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6516",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "login": "Google",
            "pass": "Ntt@123",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "pguat",
            "paymentMethod": "card",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "manualCapture": "N",
            "remarks": "Test Remarks 1234",
            "channelType": "cybs",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "txncurr": "JPY",
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "login": "Google",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "login=Google",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from Google to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE0100",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to Google with JPY"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8597",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "pass": "",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "",
            "nttrefid": "940991740",
            "expectedResult": {
                "respdesc": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "940991740",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8595",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "refundRequest-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login",
                "respcode": "01",
                "respdesc": "Missing parameter - login"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8590",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8589",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8585",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8584",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7767",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7763",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token1",
            "paymentRequest-payment",
            "oauthTokenV2-token2",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "150",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "150",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7762",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8720",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-cybs_isStorePaymentMethod_Y",
        "OD": "PaymentGateway-NDHK-cybs_isStorePaymentMethod_Y",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "cardHolderName": "John Doe",
                    "cardBrand": "VISA",
                    "nickname": "Family card",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth ": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization.cardHolderName",
                "tokenization.cardBrand",
                "tokenization.nickname",
                "tokenization.tokenProvider",
                "tokenization.expiryYear",
                "tokenization.expiryMonth",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_LENSSMILE",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-cybs_isStorePaymentMethod_Y",
        "OD": "PaymentGateway-NDHK-cybs_isStorePaymentMethod_Y",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "cardHolderName": "John Doe",
                    "cardBrand": "VISA",
                    "nickname": "Family card",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth ": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization.cardHolderName",
                "tokenization.cardBrand",
                "tokenization.nickname",
                "tokenization.tokenProvider",
                "tokenization.expiryYear",
                "tokenization.expiryMonth",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_LENSSMILE",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16277",
        "OD": "For POST /paymentRequest, if send \"isStorePaymentMethod\":\"N\" in request body, then not tokenize the card",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "N",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16278",
        "OD": "For POST /paymentRequest, if not send \"isStorePaymentMethod\" in request body, then not tokenize the card",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16279",
        "OD": "For POST /paymentRequest, if send invalid \"isStorePaymentMethod\" in request body, then return NE1117",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "123",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1117",
                "errorDesc": "Invalid parameter - isStorePaymentMethod",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - isStorePaymentMethod",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16280",
        "OD": "For POST /paymentRequest, if send invalid \"isStorePaymentMethod\" (boolean format) in request body, then return NE1117",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": true,
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1117",
                "errorDesc": "Invalid parameter - isStorePaymentMethod",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - isStorePaymentMethod",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16281",
        "OD": "For POST /paymentRequest, if send \"isStorePaymentMethod\" : \"n\" in request body, then return success and not tokenize the card",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "n",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16282",
        "OD": "For POST /paymentRequest, if txn_staus=FL and send \"isStorePaymentMethod\" : \"Y\" in request body,  then not tokenize the card",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "700700",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "700700",
                "channelType": "cybs",
                "errorCode": "PE1017",
                "errorDesc": "Payment Processor General Decline",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "233",
                "respcode": "01",
                "respdesc": "fail",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "errorCode",
                "errorDesc",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16283",
        "OD": "For POST /paymentRequest, if txn_staus=EN and send \"isStorePaymentMethod\" : \"Y\" in request body,  then not tokenize the card",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "Y",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "401200XXXXXX7777",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "EN",
                            "stage": "3d secure verification is pending"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "AuthEnroll request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "AuthEnroll response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16287",
        "OD": "For POST /paymentRequest, if provider in token_config table is not NDHK, then return NE0101",
        "merchantId": "ntta1auto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_a1_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK1"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_a1_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "01",
                    "errorCode": "NE0101",
                    "errorDescription": "Unauthorized request"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_a1_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_a1_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_a1_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_a1_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16292",
        "OD": "For POST /paymentRequest, if have cardBrand in card IIN mapping table and no in request, then use cardBrand in table",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsDB-cybsDB7",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB8",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-\"provider\":[\"NDHK\",\"NDHK\"]"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "00",
                    "maskedCardNumber": "411111XXXXXX1111",
                    "cardBrand": "VISA",
                    "cardHolderName": "John Doe",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB8": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16293",
        "OD": "For POST /paymentRequest, if have cardBrand in card IIN mapping table and different cardBrand in request, then use cardBrand in table",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsDB-cybsDB7",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB8",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-\"provider\":[\"NDHK\",\"NDHK\"]"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|AMEX",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "00",
                    "maskedCardNumber": "411111XXXXXX1111",
                    "cardBrand": "VISA",
                    "cardHolderName": "John Doe",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB8": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16294",
        "OD": "For POST /paymentRequest, if send \"isStorePaymentMethod\" : \"y\" in request body, then tokenize the card ",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-\"provider\":[\"NDHK\",\"NDHK\"]"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "00",
                    "maskedCardNumber": "411111XXXXXX1111",
                    "cardBrand": "VISA",
                    "cardHolderName": "John Doe",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16296",
        "OD": "For POST /paymentRequest, if send cardData with wrong card number in request body, then return NE1037",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "/ARrBCMuZnMFKsQau2wzmJO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1037",
                "errorDesc": "Invalid parameter - carddata",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - carddata",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16297",
        "OD": "For POST /paymentRequest, if miss the cvv of the card in request body",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-\"provider\":[\"NDHK\",\"NDHK\"]"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHBz5j2gQ05r3IZJLhOuhDmw=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "00",
                    "maskedCardNumber": "401200XXXXXX7777",
                    "cardBrand": "VISA",
                    "cardHolderName": "John Doe",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "401200XXXXXX7777",
                            "merchantid": "NTT_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16298",
        "OD": "For POST /paymentRequest, if miss the expiry date of the card in request body",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-\"provider\":[\"NDHK\",\"NDHK\"]"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHDrcBeSoOX3I|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "00",
                    "maskedCardNumber": "401200XXXXXX7777",
                    "cardBrand": "VISA",
                    "cardHolderName": "John Doe",
                    "tokenProvider": "GATEWAY"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "401200XXXXXX7777",
                            "merchantid": "NTT_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16299",
        "OD": "For POST /paymentRequest, if miss the card holder name in request body",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-\"provider\":[\"NDHK\",\"NDHK\"]"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLm6HnVN2W8+mg=||CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "respCode": "00",
                    "maskedCardNumber": "401200XXXXXX7777",
                    "cardBrand": "VISA",
                    "cardHolderName": "",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "401200XXXXXX7777",
                            "merchantid": "NTT_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "REFUND",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16300",
        "OD": "For POST /paymentRequest, if send cardData with wrong cvv in request body, then payment failed",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHKE+jRBKB7UF6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "errorCode": "PE4013",
                "errorDesc": "API format error - invalid data by merchants",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "102",
                "respcode": "01",
                "respdesc": "fail",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "errorCode",
                "errorDesc",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16301",
        "OD": "For POST /paymentRequest, if send cardData with wrong expiry date in request body, then payment failed",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLmCnzUEsAfLhc=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "errorCode": "PE4013",
                "errorDesc": "API format error - invalid data by merchants",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "102",
                "respcode": "01",
                "respdesc": "fail",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "errorCode",
                "errorDesc",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-16302",
        "OD": "For POST /paymentRequest, if send cardData with expired expiry date in request body, then payment failed",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHOTZvS7i4kLa6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "authentication": "N",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "errorCode": "AE0017",
                "errorDesc": "Invalid Expiry Date",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "202",
                "respcode": "01",
                "respdesc": "fail",
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "errorCode",
                "errorDesc",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "stage": "Transaction Failed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest [login=NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17850",
        "OD": "verify store cybs Visa card info into transaction_log_extra_info table",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm/zEso9GlT7Y=|holder|CC|VISA",
            "channelType": "cybs",
            "paymentMethod": "card",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "cardnumber",
                            "txn_status",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "cardnumber": "411111XXXXXX1111",
                            "txn_status": "OK",
                            "user_data_43": null,
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\", \"cardLevel\": \"GOLD\", \"tokenType\": \"ntt\", \"cardProgram\": \"GOVERNMENT\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17851",
        "OD": "verify cybs Visa full refund correctly",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHBALHe9uhoHmpq5AOqLgTvg=|John Doe|CC|VISA",
            "channelType": "cybs",
            "paymentMethod": "card",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "refundMode": "REFUND",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "100"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_25",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_25": "Fully_Refunded",
                            "user_data_43": null,
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\", \"tokenType\": \"ntt\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT "
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17852",
        "OD": "verify cybs Visa multiple refund correctly",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHmpq5AOqLgTvg=|holder|CC|VISA",
            "channelType": "cybs",
            "paymentMethod": "card",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "40"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "1",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "60",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "60"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "1",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        },
                        {
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\", \"cardLevel\": \"GOLD\", \"tokenType\": \"ntt\", \"cardProgram\": \"GOVERNMENT\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO "
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17853",
        "OD": "verify store cybs Mastercard info into transaction_log_extra_info table",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "carddata": "1D69PxwTK59HSqPKp9wUmZO8fvyIJoLm6HnVN2W8+mg=|holder|CC|MASTERCARD",
            "channelType": "cybs",
            "paymentMethod": "card",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "cardnumber",
                            "txn_status",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "cardnumber": "520000XXXXXX0007",
                            "txn_status": "OK",
                            "user_data_43": null,
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\", \"tokenType\": \"ntt\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17854",
        "OD": "verify cybs Mastercard full refund correctly",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "carddata": "1D69PxwTK59HSqPKp9wUmZO8fvyIJoLm6HnVN2W8+mg=|holder|CC|VISA",
            "channelType": "cybs",
            "paymentMethod": "card",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "refundMode": "REFUND",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "100"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "cardnumber",
                            "txn_status",
                            "user_data_25",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "cardnumber": "520000XXXXXX0007",
                            "txn_status": "OK",
                            "user_data_25": "Fully_Refunded",
                            "user_data_43": null,
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\", \"tokenType\": \"ntt\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO "
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-17855",
        "OD": "verify cybs Mastercard multiple refund correctly",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "feature_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "feature_config": "#Contains-\"binProcessing\": {\"enabled\": true"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "od": "NTT Test",
            "txncurr": "HKD",
            "carddata": "1D69PxwTK59HSqPKp9wUmZO8fvyIJoLm6HnVN2W8+mg=|holder|CC|VISA",
            "channelType": "cybs",
            "paymentMethod": "card",
            "manualCapture": "N",
            "authentication": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/0617f047-2c4f-4f32-8846-f7f88d986082",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "40"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "1",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "60",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "amt": "60"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "amt"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "is_partial_refund",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "is_partial_refund": "1",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        },
                        {
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\", \"tokenType\": \"ntt\", \"isStorePaymentMethod\": \"N\""
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO "
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19882",
        "OD": "verify cybs [API]-3ds-pruchase-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "N",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19883",
        "OD": "verify cybs-[API]-3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20388",
        "OD": "Non 3ds -purchase-multiple partial refunds for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-purchase",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB2"
        ],
        "purchase": {
            "amt": "100",
            "manualCapture": "N",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "0.5000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.1000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.4000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20425",
        "OD": "verify cybs-[API]-no 3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_cybs-[API]-no 3ds_JPY-Auth-multiple capture-multiple partial refunds is successful",
        "OD": "verify cybs-[API]-no 3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Non 3ds -purchase-multiple partial refunds for cybs_USD",
        "OD": "Non 3ds -purchase-multiple partial refunds for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-purchase",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB2"
        ],
        "purchase": {
            "amt": "100",
            "manualCapture": "N",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "USD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "0.5000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.1000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.4000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-non 3ds HKD_Auth_void",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "channelType",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-non 3ds USD_Auth_void",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "USD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "USD",
                "channelType": "cybs",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "channelType",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "100",
                "txncurr": "USD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19882",
        "OD": "verify cybs [API]-3ds-pruchase-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "N",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19883",
        "OD": "verify cybs-[API]-3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-cybs_isStorePaymentMethod_Y",
        "OD": "PaymentGateway-NDHK-cybs_isStorePaymentMethod_Y",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "provider",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "provider": "NDHK",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "udf1": "1",
            "udf2": "2",
            "udf3": "3",
            "udf4": "4",
            "udf5": "5",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "tokenization": {
                    "cardHolderName": "John Doe",
                    "cardBrand": "VISA",
                    "nickname": "Family card",
                    "tokenProvider": "GATEWAY",
                    "expiryYear": "2033",
                    "expiryMonth ": "12"
                },
                "txncurr": "HKD",
                "udf1": "1",
                "udf2": "2",
                "udf3": "3",
                "udf4": "4",
                "udf5": "5"
            },
            "needAssert": [
                "amt",
                "channelType",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "tokenization.cardHolderName",
                "tokenization.cardBrand",
                "tokenization.nickname",
                "tokenization.tokenProvider",
                "tokenization.expiryYear",
                "tokenization.expiryMonth",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_LENSSMILE",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20388",
        "OD": "Non 3ds -purchase-multiple partial refunds for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-purchase",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB2"
        ],
        "purchase": {
            "amt": "100",
            "manualCapture": "N",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "0.5000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.1000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.4000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20425",
        "OD": "verify cybs-[API]-no 3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_cybs-[API]-no 3ds_JPY-Auth-multiple capture-multiple partial refunds is successful",
        "OD": "verify cybs-[API]-no 3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Non 3ds -purchase-multiple partial refunds for cybs_USD",
        "OD": "Non 3ds -purchase-multiple partial refunds for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-purchase",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB2"
        ],
        "purchase": {
            "amt": "100",
            "manualCapture": "N",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "USD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "0.5000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.1000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.4000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-non 3ds HKD_Auth_void",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "channelType",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-non 3ds USD_Auth_void",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "USD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "USD",
                "channelType": "cybs",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "channelType",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "100",
                "txncurr": "USD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19882",
        "OD": "verify cybs [API]-3ds-pruchase-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "N",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7767",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7763",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token1",
            "paymentRequest-payment",
            "oauthTokenV2-token2",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "150",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "150",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7762",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8720",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7767",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7763",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token1",
            "paymentRequest-payment",
            "oauthTokenV2-token2",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "150",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "150",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7762",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8720",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6480",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "respcode": "00",
                "amt": "100",
                "channelType": "cybs",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "paymentMethod"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6479",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "",
            "nttrefid": "940991740",
            "expectedResult": {
                "respdesc": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "940991740",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6472",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6467",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8597",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "pass": "",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "",
            "nttrefid": "940991740",
            "expectedResult": {
                "respdesc": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "940991740",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8590",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8585",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7767",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6480",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "respcode": "00",
                "amt": "100",
                "channelType": "cybs",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "paymentMethod"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6479",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "",
            "nttrefid": "940991740",
            "expectedResult": {
                "respdesc": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "940991740",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6478",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequest-refund",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6477",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequest-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login",
                "respcode": "01",
                "respdesc": "Missing parameter - login"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6472",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6471",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6467",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6466",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8597",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV2-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "pass": "",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "",
            "nttrefid": "940991740",
            "expectedResult": {
                "respdesc": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "940991740",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8595",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "refundRequest-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login",
                "respcode": "01",
                "respdesc": "Missing parameter - login"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8590",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8589",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund1": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        },
        "refund2": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8585",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "requeryRequestV3-requery",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "requery": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "accounttype": "card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "100",
                "manualCapture": "N",
                "mobile": "",
                "udf5": "YARN",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf1": "HIVE",
                "udf2": "PIG",
                "paymentMethod": "card",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "maskedCardNumber",
                "respdesc",
                "proc_code",
                "voidedAmount",
                "capturedAmount",
                "manualCapture",
                "mobile",
                "udf5",
                "udf4",
                "udf3",
                "udf2",
                "udf1",
                "paymentMethod",
                "refundedAmount"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Request@"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "RequeryController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RequeryController  : Response@"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8584",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "refund": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "Currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "controller.RefundController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6917",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=N)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "success",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "txnid",
                "channelType",
                "login",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_45",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_45": "PURCHASE",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE,udf2=PIG,udf3=SPARK,udf4=MAP-REDUCE,udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE,udf2=PIG,udf3=SPARK,udf4=MAP-REDUCE,udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6916",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseissuccess(ManualCapture=N)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "success",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "txnid",
                "channelType",
                "login",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_45",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_45": "PURCHASE",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE,udf2=PIG,udf3=SPARK,udf4=MAP-REDUCE,udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE,udf2=PIG,udf3=SPARK,udf4=MAP-REDUCE,udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6915",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB2",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "txnid",
                "channelType",
                "login",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "udf1": "HIVE1",
            "udf2": "PIG1",
            "udf3": "SPARK1",
            "udf4": "MAP-REDUCE1",
            "udf5": "YARN1",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "udf1",
                            "udf2",
                            "udf3",
                            "udf4",
                            "udf5"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "udf1",
                            "udf2",
                            "udf3",
                            "udf4",
                            "udf5"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "udf1": null,
                            "udf2": null,
                            "udf3": null,
                            "udf4": null,
                            "udf5": null
                        }
                    ]
                }
            }
        },
        "void": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6914",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseissuccess(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB2",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "txnid",
                "channelType",
                "login",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "udf1": "HIVE1",
            "udf2": "PIG1",
            "udf3": "SPARK1",
            "udf4": "MAP-REDUCE1",
            "udf5": "YARN1",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "udf1",
                            "udf2",
                            "udf3",
                            "udf4",
                            "udf5"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "udf1",
                            "udf2",
                            "udf3",
                            "udf4",
                            "udf5"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "udf1": null,
                            "udf2": null,
                            "udf3": null,
                            "udf4": null,
                            "udf5": null
                        }
                    ]
                }
            }
        },
        "void": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8526",
        "OD": "For cybs,ifwithoutcvvinpaymentrequestincarddata,andpaymentMethodiscreditinrequest,thendopayment",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5sBVeTolnjXeIZJLhOuhDmw=|CardHolder|CC|MASTER",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "card",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "amt": "100",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Cvv removal : FL - No CVV found"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9790",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XpYDMH4e3KLjX7781vqEnbGXO1xRU+Hp4=|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "credit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9791",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5ulgMwfh7couNfvvzW+oSdsZc7XFFT4eng==|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "credit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9792",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5gTglvBvvzQ+wcBi5GiDBQ4=|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "credit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9793",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHmAoXalxFXf0YZc7XFFT4eng==|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "credit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9799",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "USD",
            "od": "NTT Test",
            "paymentMethod": "credit",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Missing parameter - carddata OR token",
                "errorDesc": "Missing parameter - carddata OR token",
                "amt": "100",
                "errorCode": "NE1038",
                "txncurr": "USD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1038",
                            "userData28": "Missing parameter - carddata OR token"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4151",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "date": "00:00:00",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Invalid parameter - date",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1054",
                "errorDesc": "Invalid parameter - date"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "AUTH",
                            "userData27": "NE1054",
                            "user_data_3": "100",
                            "userData28": "Invalid parameter - date",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 15:21:48,383 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-5) 940943830: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=1592378506898, nttrefid=940943830, respcode=01, respdesc=Invalid parameter - date, date=00:00:00, signature=59624e931c8bf04233230dd5d9a077506d0aa245433aea7098bb8ea1c0bfee57f9fa7dc385549538e71f6ff184dad374935807d12322a6bb6df06c7425ffab8b, login=NTT, isEnableRetry=null, udf1=udf1 - uat, udf2=udf2 - uat, udf3=udf3 - uat, udf4=udf4 - uat, udf5=udf5 - uat, errorCode=NE1054, errorDesc=Invalid parameter - date]"
                        },
                        {
                            "raw": "2020-06-17 15:21:48,390 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread3) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"1592378506898\",\"nttrefid\":\"940943830\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - date\",\"date\":\"00:00:00\",\"signature\":\"59624e931c8bf04233230dd5d9a077506d0aa245433aea7098bb8ea1c0bfee57f9fa7dc385549538e71f6ff184dad374935807d12322a6bb6df06c7425ffab8b\",\"login\":\"NTT\",\"udf1\":\"udf1 - uat\",\"udf2\":\"udf2 - uat\",\"udf3\":\"udf3 - uat\",\"udf4\":\"udf4 - uat\",\"udf5\":\"udf5 - uat\",\"errorCode\":\"NE1054\",\"errorDesc\":\"Invalid parameter - date\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4150",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "ABC",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Invalid parameter - manualCapture",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1053",
                "errorDesc": "Invalid parameter - manualCapture"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1053",
                            "user_data_3": "100",
                            "userData28": "Invalid parameter - manualCapture",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:25:01,444 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-25) 940943855: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943855, respcode=01, respdesc=Invalid parameter - manualCapture, date=2020-06-17 16:25:01, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1053, errorDesc=Invalid parameter - manualCapture]"
                        },
                        {
                            "raw": "2020-06-17 16:25:01,445 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread11) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943855\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - manualCapture\",\"date\":\"2020-06-17 16:25:01\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1053\",\"errorDesc\":\"Invalid parameter - manualCapture\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4149",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "ABC",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Invalid parameter - authentication",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1052",
                "errorDesc": "Invalid parameter - authentication"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1052",
                            "user_data_3": "100",
                            "userData28": "Invalid parameter - authentication",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:25:01,444 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-25) 940943855: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943855, respcode=01, respdesc=Invalid parameter - manualCapture, date=2020-06-17 16:25:01, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1053, errorDesc=Invalid parameter - manualCapture]"
                        },
                        {
                            "raw": "2020-06-17 16:25:01,445 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread11) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943855\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - manualCapture\",\"date\":\"2020-06-17 16:25:01\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1053\",\"errorDesc\":\"Invalid parameter - manualCapture\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4143",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "cardEncryptionMethod": "DES1234",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Invalid parameter - cardEncryptionMethod",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1040",
                "errorDesc": "Invalid parameter - cardEncryptionMethod"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1040",
                            "user_data_3": "100",
                            "userData28": "Invalid parameter - cardEncryptionMethod",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4142",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "token": "098765443211356789098765432356",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Both carddata AND token are submitted together",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1039",
                "errorDesc": "Both carddata AND token are submitted together"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1039",
                            "user_data_3": "100",
                            "userData28": "Both carddata AND token are submitted together",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4140",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "invalid",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Invalid parameter - carddata",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1037",
                "errorDesc": "Invalid parameter - carddata"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1037",
                            "user_data_3": "100",
                            "userData28": "Invalid parameter - carddata",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4129",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Missing parameter - signature",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1026",
                            "user_data_3": "100",
                            "userData28": "Missing parameter - signature",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4127",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "99999999999999999999999",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "99999999999999999999999",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1024",
                            "user_data_3": "99999999999999999999999",
                            "userData28": "Requested amt is not in acceptable range",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4125",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Missing parameter - amt",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "0.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1022",
                            "user_data_3": "0",
                            "userData28": "Missing parameter - amt",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4123",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Missing parameter - od",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1020",
                "errorDesc": "Missing parameter - od"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1020",
                            "user_data_3": "100",
                            "userData28": "Missing parameter - od",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4120",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": null,
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Missing parameter - txnid",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1016",
                "errorDesc": "Missing parameter - txnid"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "userData27",
                            "userData28",
                            "merchantid",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "user_data_25": null,
                            "amount": "1.0000",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "userData27": "NE1016",
                            "user_data_3": "100",
                            "userData28": "Missing parameter - txnid",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4116",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "login": "",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentRequest_NE_NDHK-4114",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "PG Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "login": "NTT1",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "date": "00:00:00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 16:33:51,942 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-8) 940943863: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940943863, respcode=01, respdesc=Invalid parameter - cardEncryptionMethod, date=2020-06-17 16:33:51, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, isEnableRetry=null, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=NE1040, errorDesc=Invalid parameter - cardEncryptionMethod]"
                        },
                        {
                            "raw": "2020-06-17 16:33:51,944 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940943863\",\"respcode\":\"01\",\"respdesc\":\"Invalid parameter - cardEncryptionMethod\",\"date\":\"2020-06-17 16:33:51\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"login\":\"NTT\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"NE1040\",\"errorDesc\":\"Invalid parameter - cardEncryptionMethod\"}"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-2124",
        "OD": "payment request general validations",
        "Skip": false,
        "caseType": "portalCreatePaymentLink",
        "merchantId": "nttauto",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "paymentRequest-payment2",
            "paymentRequest-payment3",
            "paymentRequest-payment4"
        ],
        "payment": {
            "login": "AGODA1",
            "amt": "100",
            "txnid": "test3",
            "txncurr": "HKD",
            "carddata": "CYmV40Cc75nZuikjC/FLLxALHe9uhoHmgsIZRbjeG0M=|CardHolder|CC|MASTER",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "nttuattesting",
            "od": "od-migs",
            "paymentMethod": "credit",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "test3",
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "login": "AGODA1",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        },
        "payment1": {
            "pass": "agoda@1234",
            "amt": "100",
            "txnid": "test3",
            "txncurr": "HKD",
            "carddata": "CYmV40Cc75nZuikjC/FLLxALHe9uhoHmgsIZRbjeG0M=|CardHolder|CC|MASTER",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "nttuattesting",
            "od": "od-migs",
            "paymentMethod": "credit",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "expectedResult": {
                "errorDesc": "Invalid API credentials",
                "udf5": "YARN",
                "amt": "100",
                "txncurr": "HKD",
                "errorCode": "NE0100",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "respcode": "01",
                "login": "NTT_AUTO",
                "udf1": "HIVE",
                "udf2": "PIG",
                "respdesc": "Invalid API credentials",
                "txnid": "test3"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        },
        "payment2": {
            "amt": "-100",
            "txnid": "test3",
            "txncurr": "HKD",
            "carddata": "CYmV40Cc75nZuikjC/FLLxALHe9uhoHmgsIZRbjeG0M=|CardHolder|CC|MASTER",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "nttuattesting",
            "od": "od-migs",
            "paymentMethod": "credit",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "expectedResult": {
                "udf5": "YARN",
                "amt": "-100",
                "txncurr": "HKD",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "respcode": "01",
                "login": "NTT_AUTO",
                "udf1": "HIVE",
                "udf2": "PIG",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt",
                "respdesc": "Invalid parameter - amt",
                "txnid": "test3"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        },
        "payment3": {
            "amt": "100",
            "txnid": "test3",
            "txncurr": "",
            "carddata": "CYmV40Cc75nZuikjC/FLLxALHe9uhoHmgsIZRbjeG0M=|CardHolder|CC|MASTER",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "nttuattesting",
            "od": "od-migs",
            "paymentMethod": "credit",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "expectedResult": {
                "udf5": "YARN",
                "amt": "100",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "respcode": "01",
                "login": "NTT_AUTO",
                "udf1": "HIVE",
                "udf2": "PIG",
                "errorCode": "NE1014",
                "errorDesc": "Missing parameter - txncurr",
                "respdesc": "Missing parameter - txncurr",
                "txnid": "test3"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        },
        "payment4": {
            "amt": "100",
            "txnid": "",
            "txncurr": "HKD",
            "carddata": "CYmV40Cc75nZuikjC/FLLxALHe9uhoHmgsIZRbjeG0M=|CardHolder|CC|MASTER",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "nttuattesting",
            "od": "od-migs",
            "paymentMethod": "credit",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "expectedResult": {
                "udf5": "YARN",
                "amt": "100",
                "txncurr": "HKD",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "respcode": "01",
                "login": "NTT_AUTO",
                "udf1": "HIVE",
                "udf2": "PIG",
                "errorCode": "NE1016",
                "errorDesc": "Missing parameter - txnid",
                "respdesc": "Missing parameter - txnid"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4913",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-void",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-capture",
            "frontend_cybsDB-refund",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "150",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "150",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "void": {
            "amt": "50",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Partial void is not allowed",
                "signature": true,
                "errorCode": "NE3018",
                "errorDesc": "Partial void is not allowed"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.5000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "null",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "150",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": []
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 17:11:28,201 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-12) 940936777: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936777, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=2.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,848 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-12) 940936777: Authorization response from cybs to NTT with HKD[ccAuthReply_reconciliationID=5918666882186290004012, purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=2, ccAuthReply_reasonCode=120, decision=ACCEPT, ccAuthReply_amount=0.00, merchantReferenceCode=940936777, requestID=5918666882186290004012, ccAuthReply_authorizedDateTime=2020-06-11T09:11:28Z, ccAuthReply_authorizationCode=831000, reasonCode=120]"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,854 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-12) CybersourcePaymentServiceImpl -  update transaction 940936777"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,885 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-12) #test39 - 940936777 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,885 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-12) Update remove cvv log table - nttrefid: 940936777"
                        },
                        {
                            "raw": "2020-06-11 17:11:30,853 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-12) 940936777: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=200, txncurr=HKD, txnid=test39, nttrefid=940936777, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=120, date=2020-06-11 17:11:28, signature=6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 17:11:30,858 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread2) Callback Json: {\"amt\":\"200\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936777\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"120\",\"date\":\"2020-06-11 17:11:28\",\"signature\":\"6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-11 17:11:43,949 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-26) 940936777: Refund request from NTT_AUTO to NTT with 733914066@210.3.198.58:NttRequest [refundrefnum=733914066, login=NTT, pass=XXX, nttrefid=940936777, amt=50, signature=8e274429d7081766574b8cd328c3fedc14db247d5141fc6798b69868270d2ba290ea7899e3ab86b5b2f2268d4de27fe24c72f131a2664d7ecd7723eec94f8ac1, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:11:43,968 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-26) 940936777: Refund response from NTT to NTT_AUTO with 733914066@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=085b3d2fb6ae6e490f6873280d36741a8ad8bf9b26964c18ab9835e2217c3f41dd7b8600d4c98abfecc9b48a66b8fae8efa6da89dfba06ba116be82efb5e2784, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-11 17:11:55,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-9) 940936777: Refund request from NTT_AUTO to NTT with 235731495@210.3.198.58:NttRequest [refundrefnum=235731495, login=NTT, pass=XXX, nttrefid=940936777, amt=50, signature=6dcec6c60471e951366cceb94005f931824a567cd4728100ae8db28f43f0eeb0e1d4ce5654bb2f48561a2964a472e8d26ecdf8e70e6ed5539f15ffecb76aeabc, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:11:56,026 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-9) 940936777: Refund response from NTT to NTT_AUTO with 235731495@210.3.198.58:NttResponse [respcode=01, respdesc=Partial void is not allowed, signature=c46dfcea510ba677b88bd743aca55ff974eb48b2baf1f8488e70e963cea3f441ea5258c1900eeb90ee5ab41022f93eba158125a8af1acbed3af8a105f020c6ef, isEnableRetry=null, errorCode=NE3018, errorDesc=Partial void is not allowed]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4912",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-void",
            "refundRequestV2-void1",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-capture",
            "frontend_cybsDB-refund",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "150",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "150",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "void": {
            "amt": "150",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "150",
                "txncurr": "HKD",
                "txnid": true,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "signature": "ccfb388519a4fb525b25c12299b82f8bc2741e2cf117906781395ed5cb576e1f772bcc92b58befecb7d9c8891ca5bc3221a4dc38e0e95fad16ce077dbe05cbf3",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "refundMode",
                "amt"
            ]
        },
        "void1": {
            "amt": "150",
            "refundMode": "VOID",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - voided transaction",
                "signature": "978c4be282546bed2bd5e8a3fdfef74b9f20ecc1266609f2cf1c1f455ee796d2481a5fdb46dccb2d0d5444e684f0aed4923fdb7e6b845d9a5070194d889edbdf",
                "errorCode": "NE4023",
                "errorDesc": "Nonvoidable transaction status - voided transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.5000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "Fully_Refunded",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "150",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "is_partial_refund",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "txn_amt": "1.5000",
                            "pending_amt": "0.0000",
                            "refund_mode": "VOID",
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "refund_amt": "1.5000",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS",
                            "rrn": true
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 17:58:19,621 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-32) 940936869: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936869, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,870 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-32) 940936869: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940936869, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5918694992356473604011, ccAuthReply_amount=1.00, requestID=5918694992356473604011, ccAuthReply_authorizedDateTime=2020-06-11T09:58:19Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,877 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-32) CybersourcePaymentServiceImpl -  update transaction 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,902 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-32) #test39 - 940936869 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,902 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-32) Update remove cvv log table - nttrefid: 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:58:21,864 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-32) 940936869: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940936869, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-11 17:58:19, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 17:58:21,865 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread2) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936869\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-11 17:58:19\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-11 17:58:34,635 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-10) 940936869: Refund request from NTT_AUTO to NTT with 6340462979@210.3.198.58:NttRequest [refundrefnum=6340462979, login=NTT, pass=XXX, nttrefid=940936869, amt=50, signature=a74313a61084fa8e246815cb3815065dcbf1dbdcb6c7dbbba0d225e62dd756670a2012802f2b41169d4a636ead91db7c4ab166bbbd75c716ee27a024be733726, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:58:34,664 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-10) 940936869: Refund response from NTT to NTT_AUTO with 6340462979@210.3.198.58:NttResponse [respcode=01, respdesc=Partial void is not allowed, signature=a2a61e12a714acd651b9c00205b3639064060801ba5b799b2bc7872d587e8af57cdf5124079294de7c7dd51a122f51c24c062c076d618b644758b502118aec6a, isEnableRetry=null, errorCode=NE3018, errorDesc=Partial void is not allowed]"
                        },
                        {
                            "raw": "2020-06-11 17:58:43,100 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940936869: Refund request from NTT_AUTO to NTT with 6065042979@210.3.198.58:NttRequest [refundrefnum=6065042979, login=NTT, pass=XXX, nttrefid=940936869, amt=150, signature=22c564df841a401916eaee3f2cb5cc1c24c78e82ee6b0f5c10dba54ae92540e35e81416ea722caa788c2a5182134a2e34612f5a371c2ae88ce6a8b71cfcb2580, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:58:43,128 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940936869: Refund response from NTT to NTT_AUTO with 6065042979@210.3.198.58:NttResponse [respcode=01, respdesc=Partial void is not allowed, signature=bfcd9123af1cc19e1d1d95c9d930b23fbe03ab14d9209b917e6e38b5f9085d549ed7e8d713ef91b29267304bb00b40a3733c83725e0c5de1a6d7f688c9e86206, isEnableRetry=null, errorCode=NE3018, errorDesc=Partial void is not allowed]"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,446 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-18) 940936869: Refund request from NTT_AUTO to NTT with 588087072@210.3.198.58:NttRequest [refundrefnum=588087072, login=NTT, pass=XXX, nttrefid=940936869, amt=100, signature=03aee97eb34a2ea956aed5db4650ea815d65b1b66cbf564d4b88634a678874468a91ece1d451a975851e4d6f40b1345e20c935d6445d25b4251bc8cc7e708d57, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,470 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-18) start refund record processing 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,477 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-18) 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,504 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-18) Refunddataarray::::::::940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,521 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-18) 940936869: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5918694992356473604011, merchantReferenceCode=588087072, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 17:59:07,751 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-18) 940936869: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-11T09:59:06Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=588087072, requestID=5918695461226160904012, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-11 17:59:07,766 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-18) finish refund record processing 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:07,771 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-18) 940936869: Refund response from NTT to NTT_AUTO with 588087072@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940936869, respcode=00, respdesc=success, proc_code=100, signature=a69adc6d62b894bce6fbd9ae7f0af9931328bd1ec9c9237904ff6a43d9f9ed704857ac90ca35ddc8cef0f5db82dfb3e6f42fbd6503db558dff41586230e27506, isEnableRetry=null, refundRefNum=588087072, ]"
                        },
                        {
                            "raw": "2020-06-11 17:59:15,386 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940936869: Refund request from NTT_AUTO to NTT with 4390745320@210.3.198.58:NttRequest [refundrefnum=4390745320, login=NTT, pass=XXX, nttrefid=940936869, amt=100, signature=8bee67205b29d0322ca35d34824751a0e8ec38d113ca4b0d6593fe9beefd4dd68d73855fb80fcf6618a457d0d74e78caba2f1be08902d8e81634947ff4aaf011, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:59:15,414 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940936869: Refund response from NTT to NTT_AUTO with 4390745320@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - voided transaction, signature=d6e623a0238963e93deb9a456edc7d9f83b1c4354c16609b83eca506da63777038f8b4c7f8a33b8fce1c75e68eb64fe769c14258c375c8a18170589fbe370781, isEnableRetry=null, errorCode=NE4023, errorDesc=Nonvoidable transaction status - voided transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4911",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "150",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "150",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "refundMode": "VOID",
            "amt": "150",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - captured transaction",
                "signature": true,
                "errorCode": "NE4024",
                "errorDesc": "Nonvoidable transaction status - captured transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.5000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "null",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Completed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "user_data_3": "150",
                            "currency": "HKD",
                            "user_data_43": "null",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 17:54:38,296 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936864, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,581 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940936864, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5918692779146421604011, ccAuthReply_amount=1.00, requestID=5918692779146421604011, ccAuthReply_authorizedDateTime=2020-06-11T09:54:38Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,588 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-27) CybersourcePaymentServiceImpl -  update transaction 940936864"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,588 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorCaptureServiceImpl] (default task-27) CybersourceCaptureServiceImpl - CaptureEntity [id=null, transactionId=940936864, captureAmt=1.00, partialCapture=false, txnAmt=1.00, respCode=02, respMsg=EN, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918692779146421604011, captureMode=AUTO, ]"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,600 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Capture request from NTT to cybs with HKD[purchaseTotals_currency=HKD, merchantReferenceCode=940936864, ccCaptureService_run=true, ccCaptureService_authRequestID=5918692779146421604011, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,090 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Capture response from cybs to NTT with HKD[purchaseTotals_currency=HKD, decision=ACCEPT, requestID=5918692784466623504008, merchantReferenceCode=940936864, ccCaptureReply_reconciliationID=5918692779146421604011, reasonCode=100, ccCaptureReply_requestDateTime=2020-06-11T09:54:38Z, ccCaptureReply_reasonCode=100, ccCaptureReply_amount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,090 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-27) update captureEntity CaptureEntity [id=97411, transactionId=940936864, captureAmt=1.00, partialCapture=false, txnAmt=1.00, respCode=00, respMsg=OK, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918692784466623504008, captureMode=AUTO, createdAt=2020-06-11 17:54:39.588, updatedAt=2020-06-11 17:54:39.588]"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,131 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-27) #test39 - 940936864 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,131 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-27) Update remove cvv log table - nttrefid: 940936864"
                        },
                        {
                            "raw": "2020-06-11 17:54:41,115 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-27) 940936864: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940936864, respcode=00, respdesc=Transaction Completed, proc_code=100, date=2020-06-11 17:54:38, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, captureId=97411, manualCapture=N, manualCaptureStatus=F, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 17:54:41,121 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936864\",\"respcode\":\"00\",\"respdesc\":\"Transaction Completed\",\"proc_code\":\"100\",\"date\":\"2020-06-11 17:54:38\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"captureId\":\"97411\",\"manualCapture\":\"N\",\"manualCaptureStatus\":\"F\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-11 17:54:52,623 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-32) 940936864: Refund request from NTT_AUTO to NTT with 5737786875@210.3.198.58:NttRequest [refundrefnum=5737786875, login=NTT, pass=XXX, nttrefid=940936864, amt=50, signature=b988565984b89b0f87c97681149e106240ac718c862e292fdfdc7300e8493264575499dc2754bd380a318909de2f261c1b9331c96349daa3e9a554ae79545ff5, isEnableRetry=false, refundMode={{VOID}}, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:54:52,648 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-32) 940936864: Refund response from NTT to NTT_AUTO with 5737786875@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid parameter - refundMode, signature=f49fb1c6e1cc2b56c8edb60573debf41a1c2e60062f1845ba89c513fc7a44471c20f6f914112befc6ad0219ec0c2c86297f0533fa7ed42f0f75f81a409ef1418, isEnableRetry=null, errorCode=NE1079, errorDesc=Invalid parameter - refundMode]"
                        },
                        {
                            "raw": "2020-06-11 17:55:05,139 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-3) 940936864: Refund request from NTT_AUTO to NTT with 4611819396@210.3.198.58:NttRequest [refundrefnum=4611819396, login=NTT, pass=XXX, nttrefid=940936864, amt=50, signature=1edcbb5e984071dc69ecccaf990b9abf1dfe135517d92d1538c911dfc8f5f0a1a4196c3534f9cbd0c3bc1b636ff01614ed604adb82c16f140b0cf8ed389e6760, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:55:05,166 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-3) 940936864: Refund response from NTT to NTT_AUTO with 4611819396@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - captured transaction, signature=faea794ef4209f560abd4cb0a36f0059ea53c38f9623a10c435f9039699676315aebd75330d9c630f7331a8fafe55dc035c0cc76cbc7e21ab8f4c4d490144d60, isEnableRetry=null, errorCode=NE4024, errorDesc=Nonvoidable transaction status - captured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4905",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "5nqO8sxAlrruZVZ5PJq5uRALHe9uhoHm2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "Y",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "proc_code": "475",
                "redirect_url": true,
                "date": "2020-06-11 18:17:59",
                "signature": true,
                "login": "NTT_AUTO",
                "maskcardnumber": "411111XXXXXX1111",
                "authenticationStatus": "Y",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - pending transaction",
                "signature": true,
                "errorCode": "NE4021",
                "errorDesc": "Nonvoidable transaction status - pending transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4902",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE1",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE1",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "50",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "signature": true,
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE1",
                            "user_data_25": null,
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "pending_amt": "0.5000",
                            "capture_amt": "0.5000",
                            "resp_code": "100",
                            "capture_mode": "MANUAL",
                            "currency": "HKD",
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 10:53:59,919 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-15) 940938478: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940938478, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,596 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-15) 940938478: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940938478, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919304392876741603011, ccAuthReply_amount=1.00, requestID=5919304392876741603011, ccAuthReply_authorizedDateTime=2020-06-12T02:53:59Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,603 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-15) CybersourcePaymentServiceImpl -  update transaction 940938478"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,635 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-15) #test39 - 940938478 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,636 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-15) Update remove cvv log table - nttrefid: 940938478"
                        },
                        {
                            "raw": "2020-06-12 10:54:02,585 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-15) 940938478: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940938478, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 10:53:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 10:54:31,395 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-32) Capture request from NTT_AUTO to NTT with null@210.3.198.58:NttRequest [login=NTT, pass=XXX, nttrefid=940938478, amt={amt}, signature=990e2745e66c12eebfcc9908fc08027911136edf2e7b3f450228fdf8afeed9a1cd06d38d33b71c962c19391d69e4cf16bb4d51e1f814baac39eea3e60eed79bb, callbackUrl=https://webhook.site/cf1a88fe-6ebe-4430-855c-899cf3149d3f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:54:31,413 INFO  [com.nttdata.hk.api.controller.CaptureController] (default task-32) Capture: 940938478 response from NTT to NTT_AUTO with null@210.3.198.58:NttCaptureResponse [result=Invalid parameter - amt, errorCode=NE1023, errorDesc=Invalid parameter - amt]"
                        },
                        {
                            "raw": "2020-06-12 10:55:07,422 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-18) CaptureV2 request from NTT_AUTO to NTT with null@210.3.198.58:NttRequest [login=NTT, pass=XXX, nttrefid=940938478, amt={amt}, signature=990e2745e66c12eebfcc9908fc08027911136edf2e7b3f450228fdf8afeed9a1cd06d38d33b71c962c19391d69e4cf16bb4d51e1f814baac39eea3e60eed79bb, callbackUrl=https://webhook.site/cf1a88fe-6ebe-4430-855c-899cf3149d3f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:55:17,539 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-19) CaptureV2 request from NTT_AUTO to NTT with null@210.3.198.58:NttRequest [login=NTT, pass=XXX, nttrefid=940938478, amt=50, signature=990e2745e66c12eebfcc9908fc08027911136edf2e7b3f450228fdf8afeed9a1cd06d38d33b71c962c19391d69e4cf16bb4d51e1f814baac39eea3e60eed79bb, callbackUrl=https://webhook.site/cf1a88fe-6ebe-4430-855c-899cf3149d3f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:55:17,580 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-19) 940938478: Capture request from NTT to cybs with HKD[purchaseTotals_currency=HKD, merchantReferenceCode=940938478, ccCaptureService_run=true, ccCaptureService_authRequestID=5919304392876741603011, purchaseTotals_grandTotalAmount=0.50]"
                        },
                        {
                            "raw": "2020-06-12 10:55:19,058 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-19) 940938478: Capture response from cybs to NTT with HKD[purchaseTotals_currency=HKD, decision=ACCEPT, requestID=5919305169146067203012, merchantReferenceCode=940938478, ccCaptureReply_reconciliationID=5919304392876741603011, reasonCode=100, ccCaptureReply_requestDateTime=2020-06-12T02:55:17Z, ccCaptureReply_reasonCode=100, ccCaptureReply_amount=0.50]"
                        },
                        {
                            "raw": "2020-06-12 10:55:19,059 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-19) update captureEntity CaptureEntity [id=98057, transactionId=940938478, captureAmt=0.50, partialCapture=true, txnAmt=1.00, respCode=00, respMsg=OK, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5919305169146067203012, captureMode=MANUAL, createdAt=2020-06-12 10:55:17.565, updatedAt=2020-06-12 10:55:17.565]"
                        },
                        {
                            "raw": "2020-06-12 10:55:19,072 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-19) 940938478: CaptureV2 response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=50, txncurr=HKD, txnid=test39, nttrefid=940938478, respcode=00, respdesc=success, proc_code=100, signature=e69cc4082ec54b843e3ddcd902f19e7a71f2775d1ea6283bdc59eeef974a46eab999ff3a755b61f303424bdcebfc6c30e59a3bc3b31599ac1119edc98603774d, login=NTT, isEnableRetry=null, captureId=98057, ]"
                        },
                        {
                            "raw": "2020-06-12 10:55:53,727 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-20) 940938478: Refund request from NTT_AUTO to NTT with 1832631050@210.3.198.58:NttRequest [refundrefnum=1832631050, login=NTT, pass=XXX, nttrefid=940938478, amt=100, signature=0a04b3a382db9933537c77fb77e5e0d36c6724dd63f217e528934ee7b8b5a16fd2df245ddee1054c8aa5fd45a0f4050c983fd1b904ce6a88cd8a6213d7ad6d82, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:55:53,760 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-20) 940938478: Refund response from NTT to NTT_AUTO with 1832631050@210.3.198.58:NttResponse [respcode=01, respdesc=Refund amount exceeded the captured amount, signature=d9191329c29d08c0d957576e1e2e7b9679611841bffe8b563ffc2aaed1fa2c6fa0583325574d858d600a9ae61b93dd5d451ef73958cc847eff063cfa901df43e, isEnableRetry=null, errorCode=NE3019, errorDesc=Refund amount exceeded the captured amount]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4901",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "test39",
                "nttrefid": "940938478",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - uncaptured transaction",
                "signature": true,
                "errorCode": "NE4017",
                "errorDesc": "Nonrefundable transaction status - uncaptured transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": null,
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 15:22:05,180 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940939414, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,829 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940939414, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919465244876350603011, ccAuthReply_amount=1.00, requestID=5919465244876350603011, ccAuthReply_authorizedDateTime=2020-06-12T07:22:04Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,836 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-6) CybersourcePaymentServiceImpl -  update transaction 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-6) #test391 - 940939414 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-6) Update remove cvv log table - nttrefid: 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:07,784 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-6) 940939414: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940939414, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 15:22:05, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,034 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund request from NTT_AUTO to NTT with 6535920723@210.3.198.58:NttRequest [refundrefnum=6535920723, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=10eb9696ac82b74f69af8c11307232f028727193c74eab4344ff5f499af5f7dd53e90b78c7a537c4c9bdbb5b25ba99498424dd9cca5c2365b4af9002be41232c, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,060 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund response from NTT to NTT_AUTO with 6535920723@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=0fbf15d502c354e60f5f65792ef37b1c33d701366dbdd94d97f600d4d8025ff8c1a31f1148646114565267afc5bbbd7409679e696a8e027ca15f5f8bb870d775, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,730 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund request from NTT_AUTO to NTT with 9895200520@210.3.198.58:NttRequest [refundrefnum=9895200520, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=0bd9b152c7fae77383c09bdea10a0f590db104f6330af34bedc7a8b310accc3694d24aa6bbd3b77d9eed293a61996e43ab76052cab5ae1785bd38eb3a65b3d4f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,749 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund response from NTT to NTT_AUTO with 9895200520@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=718714ccc3ca7656085510e582f4df44e187f6a16320c40dde6bd65197ab282253e8c2012f450c2100499e216455a5e85fad54af817dc7e5b9cc97f83dfc0d86, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,053 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund request from NTT_AUTO to NTT with 1606102930@210.3.198.58:NttRequest [refundrefnum=1606102930, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=ee12ad7b8ba3d2611c5a648ad7712a731804cb0eddc4bff624076ba96f7a66979e18151581f36c40e4490ac1ce1ed439d6dc7073be565f9381232cc503d05b8f, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,077 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund response from NTT to NTT_AUTO with 1606102930@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=14e40f9deff6136d98e616a4adaee98cf7fd6562f20c26fe36e4d7d84f77f756bd6f111d7db2fdc0a251da344ef3a87e21352df7fc3686e33bc4beb97cd0eeac, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,747 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund request from NTT_AUTO to NTT with 6595911377@210.3.198.58:NttRequest [refundrefnum=6595911377, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=93bcb56fe3709ddeed562257b0ac3c85dce04ff5e36ace5d504517e8da106c873f55aa8bc9e43ad4da8e3c52c0393d290961397ef05ba093f901d9ce724c74ca, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,780 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund response from NTT to NTT_AUTO with 6595911377@210.3.198.58:NttResponse [respcode=01, respdesc=Nonrefundable transaction status - uncaptured transaction, signature=ee24b4315a0f01b5e341fae6659b58d9970b3ca294644c4d99d79a3f1ec0f85875462b1058ea4752659b75efd327bfdd731a235b7a6b3f95dcf7d0b520209cee, isEnableRetry=null, errorCode=NE4017, errorDesc=Nonrefundable transaction status - uncaptured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "4900",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund1": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "Fully_Refunded",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Completed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 15:22:05,180 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940939414, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,829 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940939414, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919465244876350603011, ccAuthReply_amount=1.00, requestID=5919465244876350603011, ccAuthReply_authorizedDateTime=2020-06-12T07:22:04Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,836 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-6) CybersourcePaymentServiceImpl -  update transaction 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-6) #test391 - 940939414 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-6) Update remove cvv log table - nttrefid: 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:07,784 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-6) 940939414: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940939414, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 15:22:05, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,034 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund request from NTT_AUTO to NTT with 6535920723@210.3.198.58:NttRequest [refundrefnum=6535920723, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=10eb9696ac82b74f69af8c11307232f028727193c74eab4344ff5f499af5f7dd53e90b78c7a537c4c9bdbb5b25ba99498424dd9cca5c2365b4af9002be41232c, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,060 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund response from NTT to NTT_AUTO with 6535920723@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=0fbf15d502c354e60f5f65792ef37b1c33d701366dbdd94d97f600d4d8025ff8c1a31f1148646114565267afc5bbbd7409679e696a8e027ca15f5f8bb870d775, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,730 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund request from NTT_AUTO to NTT with 9895200520@210.3.198.58:NttRequest [refundrefnum=9895200520, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=0bd9b152c7fae77383c09bdea10a0f590db104f6330af34bedc7a8b310accc3694d24aa6bbd3b77d9eed293a61996e43ab76052cab5ae1785bd38eb3a65b3d4f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,749 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund response from NTT to NTT_AUTO with 9895200520@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=718714ccc3ca7656085510e582f4df44e187f6a16320c40dde6bd65197ab282253e8c2012f450c2100499e216455a5e85fad54af817dc7e5b9cc97f83dfc0d86, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,053 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund request from NTT_AUTO to NTT with 1606102930@210.3.198.58:NttRequest [refundrefnum=1606102930, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=ee12ad7b8ba3d2611c5a648ad7712a731804cb0eddc4bff624076ba96f7a66979e18151581f36c40e4490ac1ce1ed439d6dc7073be565f9381232cc503d05b8f, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,077 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund response from NTT to NTT_AUTO with 1606102930@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=14e40f9deff6136d98e616a4adaee98cf7fd6562f20c26fe36e4d7d84f77f756bd6f111d7db2fdc0a251da344ef3a87e21352df7fc3686e33bc4beb97cd0eeac, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,747 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund request from NTT_AUTO to NTT with 6595911377@210.3.198.58:NttRequest [refundrefnum=6595911377, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=93bcb56fe3709ddeed562257b0ac3c85dce04ff5e36ace5d504517e8da106c873f55aa8bc9e43ad4da8e3c52c0393d290961397ef05ba093f901d9ce724c74ca, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,780 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund response from NTT to NTT_AUTO with 6595911377@210.3.198.58:NttResponse [respcode=01, respdesc=Nonrefundable transaction status - uncaptured transaction, signature=ee24b4315a0f01b5e341fae6659b58d9970b3ca294644c4d99d79a3f1ec0f85875462b1058ea4752659b75efd327bfdd731a235b7a6b3f95dcf7d0b520209cee, isEnableRetry=null, errorCode=NE4017, errorDesc=Nonrefundable transaction status - uncaptured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4899",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-void",
            "refundRequestV2-void1",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "void": {
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "void1": {
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - voided transaction",
                "errorCode": "NE4023",
                "errorDesc": "Nonvoidable transaction status - voided transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "Fully_Refunded",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 15:22:05,180 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940939414, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,829 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940939414, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919465244876350603011, ccAuthReply_amount=1.00, requestID=5919465244876350603011, ccAuthReply_authorizedDateTime=2020-06-12T07:22:04Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,836 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-6) CybersourcePaymentServiceImpl -  update transaction 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-6) #test391 - 940939414 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-6) Update remove cvv log table - nttrefid: 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:07,784 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-6) 940939414: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940939414, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 15:22:05, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,034 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund request from NTT_AUTO to NTT with 6535920723@210.3.198.58:NttRequest [refundrefnum=6535920723, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=10eb9696ac82b74f69af8c11307232f028727193c74eab4344ff5f499af5f7dd53e90b78c7a537c4c9bdbb5b25ba99498424dd9cca5c2365b4af9002be41232c, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,060 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund response from NTT to NTT_AUTO with 6535920723@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=0fbf15d502c354e60f5f65792ef37b1c33d701366dbdd94d97f600d4d8025ff8c1a31f1148646114565267afc5bbbd7409679e696a8e027ca15f5f8bb870d775, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,730 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund request from NTT_AUTO to NTT with 9895200520@210.3.198.58:NttRequest [refundrefnum=9895200520, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=0bd9b152c7fae77383c09bdea10a0f590db104f6330af34bedc7a8b310accc3694d24aa6bbd3b77d9eed293a61996e43ab76052cab5ae1785bd38eb3a65b3d4f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,749 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund response from NTT to NTT_AUTO with 9895200520@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=718714ccc3ca7656085510e582f4df44e187f6a16320c40dde6bd65197ab282253e8c2012f450c2100499e216455a5e85fad54af817dc7e5b9cc97f83dfc0d86, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,053 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund request from NTT_AUTO to NTT with 1606102930@210.3.198.58:NttRequest [refundrefnum=1606102930, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=ee12ad7b8ba3d2611c5a648ad7712a731804cb0eddc4bff624076ba96f7a66979e18151581f36c40e4490ac1ce1ed439d6dc7073be565f9381232cc503d05b8f, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,077 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund response from NTT to NTT_AUTO with 1606102930@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=14e40f9deff6136d98e616a4adaee98cf7fd6562f20c26fe36e4d7d84f77f756bd6f111d7db2fdc0a251da344ef3a87e21352df7fc3686e33bc4beb97cd0eeac, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,747 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund request from NTT_AUTO to NTT with 6595911377@210.3.198.58:NttRequest [refundrefnum=6595911377, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=93bcb56fe3709ddeed562257b0ac3c85dce04ff5e36ace5d504517e8da106c873f55aa8bc9e43ad4da8e3c52c0393d290961397ef05ba093f901d9ce724c74ca, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,780 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund response from NTT to NTT_AUTO with 6595911377@210.3.198.58:NttResponse [respcode=01, respdesc=Nonrefundable transaction status - uncaptured transaction, signature=ee24b4315a0f01b5e341fae6659b58d9970b3ca294644c4d99d79a3f1ec0f85875462b1058ea4752659b75efd327bfdd731a235b7a6b3f95dcf7d0b520209cee, isEnableRetry=null, errorCode=NE4017, errorDesc=Nonrefundable transaction status - uncaptured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4894",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "MMK",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "errorCode": "PE1016",
                "errorDesc": "Payment Processor General System Error",
                "respcode": "01",
                "respdesc": "fail",
                "proc_code": "150",
                "channelType": "cybs"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "200",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - failed transaction",
                "signature": true,
                "errorCode": "NE4016",
                "errorDesc": "Nonrefundable transaction status - failed transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "2.0000",
                            "response_code": "150",
                            "auth_code": null,
                            "booking_id": "Refund_NE",
                            "user_data_25": null,
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "user_data_3": "200",
                            "currency": "MMK",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:09:22,299 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936873, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=2.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,534 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Authorization response from cybs to NTT with HKD[ccAuthReply_reconciliationID=5918701618976797804011, purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=2, ccAuthReply_reasonCode=120, decision=ACCEPT, ccAuthReply_amount=0.00, merchantReferenceCode=940936873, requestID=5918701618976797804011, ccAuthReply_authorizedDateTime=2020-06-11T10:09:22Z, ccAuthReply_authorizationCode=831000, reasonCode=120]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,540 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-25) CybersourcePaymentServiceImpl -  update transaction 940936873"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,541 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorCaptureServiceImpl] (default task-25) CybersourceCaptureServiceImpl - CaptureEntity [id=null, transactionId=940936873, captureAmt=2.00, partialCapture=false, txnAmt=2.00, respCode=02, respMsg=EN, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918701618976797804011, captureMode=AUTO, ]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,553 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Capture request from NTT to cybs with HKD[purchaseTotals_currency=HKD, merchantReferenceCode=940936873, ccCaptureService_run=true, ccCaptureService_authRequestID=5918701618976797804011, purchaseTotals_grandTotalAmount=2.00]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,962 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Capture response from cybs to NTT with HKD[decision=REJECT, merchantReferenceCode=940936873, requestID=5918701624106461204012, reasonCode=235, ccCaptureReply_reasonCode=235]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,962 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-25) update captureEntity CaptureEntity [id=97414, transactionId=940936873, captureAmt=2.00, partialCapture=false, txnAmt=2.00, respCode=235, respMsg=FL, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918701624106461204012, captureMode=AUTO, createdAt=2020-06-11 18:09:23.541, updatedAt=2020-06-11 18:09:23.541]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,998 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-25) #test39 - 940936873 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,998 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-25) Update remove cvv log table - nttrefid: 940936873"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,017 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-25) 940936873: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=200, txncurr=HKD, txnid=test39, nttrefid=940936873, respcode=01, respdesc=Transaction Capture Failed, proc_code=235, date=2020-06-11 18:09:22, signature=6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=PE3011, errorDesc=Invalid capture amount requested]"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,021 INFO  [com.nttdata.hk.business.utils.CommonUtil] (common_util_thread5) Send slack message We have encountered PE3011 PE3011 for a transaction initiated by NTT with nttrefid 940936873, which the processor is cybs with error code 235. Please check the server logs in details if necessary"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,022 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread9) Callback Json: {\"amt\":\"200\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936873\",\"respcode\":\"01\",\"respdesc\":\"Transaction Capture Failed\",\"proc_code\":\"235\",\"date\":\"2020-06-11 18:09:22\",\"signature\":\"6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"PE3011\",\"errorDesc\":\"Invalid capture amount requested\"}"
                        },
                        {
                            "raw": "2020-06-11 18:09:36,453 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-28) 940936873: Refund request from NTT_AUTO to NTT with 9615735770@210.3.198.58:NttRequest [refundrefnum=9615735770, login=NTT, pass=XXX, nttrefid=940936873, amt=100, signature=975ce0139ea21f0960bbc9f660a3507b7cd0ac501ee01300cc930aa5291c42c6b32ac02ec3a49f91af58d6b2309b9aad590567aa4bd1bde2ad54eab60faaa7e1, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:09:36,495 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-28) 940936873: Refund response from NTT to NTT_AUTO with 9615735770@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - failed transaction, signature=c5db6bd6c735ffb3a41aa7708af6d78939a03f3599d18558934a00c0d76457bad1582fc0b8ead0e37f554726d7f97b8a575a8cfd3590c095879c1865ecd0b539, isEnableRetry=null, errorCode=NE4022, errorDesc=Nonvoidable transaction status - failed transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4893",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "5nqO8sxAlrruZVZ5PJq5uRALHe9uhoHm2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "Y",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "proc_code": "475",
                "redirect_url": true,
                "date": "2020-06-11 18:17:59",
                "signature": true,
                "login": "NTT_AUTO",
                "maskcardnumber": "411111XXXXXX1111",
                "authenticationStatus": "Y",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - pending transaction",
                "signature": true,
                "errorCode": "NE4015",
                "errorDesc": "Nonrefundable transaction status - pending transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4892",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "refundMode": "INVALID",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - refundMode",
                "signature": true,
                "errorCode": "NE1079",
                "errorDesc": "Invalid parameter - refundMode"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4890",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "100",
            "refundrefnum": "940890268_R111111111111111",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - refundrefnum",
                "signature": true,
                "errorCode": "NE1042",
                "errorDesc": "Invalid parameter - refundrefnum"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4889",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "200",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "100",
            "refundrefnum": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - refundrefnum",
                "signature": true,
                "errorCode": "NE1041",
                "errorDesc": "Missing parameter - refundrefnum"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4891",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "50",
            "refundrefnum": "123455-R1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Provided refundrefnum already in use",
                "errorCode": "NE1090",
                "errorDesc": "Provided refundrefnum already in use"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "currency": "HKD"
                        }
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4888",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "0",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4889",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "9999",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4887",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "99999999999999999999",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4885",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4883",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": null,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - amt",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4881",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "100",
            "nttrefid": "ABCD",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4879",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "login": "NTT1",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4878",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "pass": "",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4876",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "login": "",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4806-1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "captureId": true,
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "300",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Partial void is not allowed",
                "errorCode": "NE3018",
                "errorDesc": "Partial void is not allowed"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-4806-2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "captureId": true,
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "50",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Partial void is not allowed",
                "errorCode": "NE3018",
                "errorDesc": "Partial void is not allowed"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4856",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-void",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-capture",
            "frontend_cybsDB-refund",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "150",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "150",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "void": {
            "amt": "50",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Partial void is not allowed",
                "signature": true,
                "errorCode": "NE3018",
                "errorDesc": "Partial void is not allowed"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.5000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "null",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "150",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": []
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 17:11:28,201 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-12) 940936777: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936777, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=2.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,848 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-12) 940936777: Authorization response from cybs to NTT with HKD[ccAuthReply_reconciliationID=5918666882186290004012, purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=2, ccAuthReply_reasonCode=120, decision=ACCEPT, ccAuthReply_amount=0.00, merchantReferenceCode=940936777, requestID=5918666882186290004012, ccAuthReply_authorizedDateTime=2020-06-11T09:11:28Z, ccAuthReply_authorizationCode=831000, reasonCode=120]"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,854 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-12) CybersourcePaymentServiceImpl -  update transaction 940936777"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,885 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-12) #test39 - 940936777 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 17:11:29,885 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-12) Update remove cvv log table - nttrefid: 940936777"
                        },
                        {
                            "raw": "2020-06-11 17:11:30,853 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-12) 940936777: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=200, txncurr=HKD, txnid=test39, nttrefid=940936777, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=120, date=2020-06-11 17:11:28, signature=6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 17:11:30,858 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread2) Callback Json: {\"amt\":\"200\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936777\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"120\",\"date\":\"2020-06-11 17:11:28\",\"signature\":\"6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-11 17:11:43,949 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-26) 940936777: Refund request from NTT_AUTO to NTT with 733914066@210.3.198.58:NttRequest [refundrefnum=733914066, login=NTT, pass=XXX, nttrefid=940936777, amt=50, signature=8e274429d7081766574b8cd328c3fedc14db247d5141fc6798b69868270d2ba290ea7899e3ab86b5b2f2268d4de27fe24c72f131a2664d7ecd7723eec94f8ac1, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:11:43,968 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-26) 940936777: Refund response from NTT to NTT_AUTO with 733914066@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=085b3d2fb6ae6e490f6873280d36741a8ad8bf9b26964c18ab9835e2217c3f41dd7b8600d4c98abfecc9b48a66b8fae8efa6da89dfba06ba116be82efb5e2784, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-11 17:11:55,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-9) 940936777: Refund request from NTT_AUTO to NTT with 235731495@210.3.198.58:NttRequest [refundrefnum=235731495, login=NTT, pass=XXX, nttrefid=940936777, amt=50, signature=6dcec6c60471e951366cceb94005f931824a567cd4728100ae8db28f43f0eeb0e1d4ce5654bb2f48561a2964a472e8d26ecdf8e70e6ed5539f15ffecb76aeabc, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:11:56,026 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-9) 940936777: Refund response from NTT to NTT_AUTO with 235731495@210.3.198.58:NttResponse [respcode=01, respdesc=Partial void is not allowed, signature=c46dfcea510ba677b88bd743aca55ff974eb48b2baf1f8488e70e963cea3f441ea5258c1900eeb90ee5ab41022f93eba158125a8af1acbed3af8a105f020c6ef, isEnableRetry=null, errorCode=NE3018, errorDesc=Partial void is not allowed]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4855",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-void",
            "refundRequest-void1",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-capture",
            "frontend_cybsDB-refund",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "150",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "150",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "void": {
            "amt": "150",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "150",
                "txncurr": "HKD",
                "txnid": true,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "signature": "ccfb388519a4fb525b25c12299b82f8bc2741e2cf117906781395ed5cb576e1f772bcc92b58befecb7d9c8891ca5bc3221a4dc38e0e95fad16ce077dbe05cbf3",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "refundMode",
                "amt"
            ]
        },
        "void1": {
            "amt": "150",
            "refundMode": "VOID",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - voided transaction",
                "signature": "978c4be282546bed2bd5e8a3fdfef74b9f20ecc1266609f2cf1c1f455ee796d2481a5fdb46dccb2d0d5444e684f0aed4923fdb7e6b845d9a5070194d889edbdf",
                "errorCode": "NE4023",
                "errorDesc": "Nonvoidable transaction status - voided transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.5000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "Fully_Refunded",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "150",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "is_partial_refund",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "txn_amt": "1.5000",
                            "pending_amt": "0.0000",
                            "refund_mode": "VOID",
                            "is_partial_refund": "0",
                            "resp_code": "00",
                            "refund_amt": "1.5000",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS",
                            "rrn": true
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 17:58:19,621 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-32) 940936869: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936869, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,870 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-32) 940936869: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940936869, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5918694992356473604011, ccAuthReply_amount=1.00, requestID=5918694992356473604011, ccAuthReply_authorizedDateTime=2020-06-11T09:58:19Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,877 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-32) CybersourcePaymentServiceImpl -  update transaction 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,902 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-32) #test39 - 940936869 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 17:58:20,902 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-32) Update remove cvv log table - nttrefid: 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:58:21,864 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-32) 940936869: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940936869, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-11 17:58:19, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 17:58:21,865 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread2) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936869\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-11 17:58:19\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-11 17:58:34,635 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-10) 940936869: Refund request from NTT_AUTO to NTT with 6340462979@210.3.198.58:NttRequest [refundrefnum=6340462979, login=NTT, pass=XXX, nttrefid=940936869, amt=50, signature=a74313a61084fa8e246815cb3815065dcbf1dbdcb6c7dbbba0d225e62dd756670a2012802f2b41169d4a636ead91db7c4ab166bbbd75c716ee27a024be733726, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:58:34,664 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-10) 940936869: Refund response from NTT to NTT_AUTO with 6340462979@210.3.198.58:NttResponse [respcode=01, respdesc=Partial void is not allowed, signature=a2a61e12a714acd651b9c00205b3639064060801ba5b799b2bc7872d587e8af57cdf5124079294de7c7dd51a122f51c24c062c076d618b644758b502118aec6a, isEnableRetry=null, errorCode=NE3018, errorDesc=Partial void is not allowed]"
                        },
                        {
                            "raw": "2020-06-11 17:58:43,100 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940936869: Refund request from NTT_AUTO to NTT with 6065042979@210.3.198.58:NttRequest [refundrefnum=6065042979, login=NTT, pass=XXX, nttrefid=940936869, amt=150, signature=22c564df841a401916eaee3f2cb5cc1c24c78e82ee6b0f5c10dba54ae92540e35e81416ea722caa788c2a5182134a2e34612f5a371c2ae88ce6a8b71cfcb2580, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:58:43,128 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940936869: Refund response from NTT to NTT_AUTO with 6065042979@210.3.198.58:NttResponse [respcode=01, respdesc=Partial void is not allowed, signature=bfcd9123af1cc19e1d1d95c9d930b23fbe03ab14d9209b917e6e38b5f9085d549ed7e8d713ef91b29267304bb00b40a3733c83725e0c5de1a6d7f688c9e86206, isEnableRetry=null, errorCode=NE3018, errorDesc=Partial void is not allowed]"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,446 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-18) 940936869: Refund request from NTT_AUTO to NTT with 588087072@210.3.198.58:NttRequest [refundrefnum=588087072, login=NTT, pass=XXX, nttrefid=940936869, amt=100, signature=03aee97eb34a2ea956aed5db4650ea815d65b1b66cbf564d4b88634a678874468a91ece1d451a975851e4d6f40b1345e20c935d6445d25b4251bc8cc7e708d57, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,470 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-18) start refund record processing 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,477 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-18) 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,504 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-18) Refunddataarray::::::::940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:06,521 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-18) 940936869: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5918694992356473604011, merchantReferenceCode=588087072, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 17:59:07,751 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-18) 940936869: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-11T09:59:06Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=588087072, requestID=5918695461226160904012, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-11 17:59:07,766 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-18) finish refund record processing 940936869"
                        },
                        {
                            "raw": "2020-06-11 17:59:07,771 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-18) 940936869: Refund response from NTT to NTT_AUTO with 588087072@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940936869, respcode=00, respdesc=success, proc_code=100, signature=a69adc6d62b894bce6fbd9ae7f0af9931328bd1ec9c9237904ff6a43d9f9ed704857ac90ca35ddc8cef0f5db82dfb3e6f42fbd6503db558dff41586230e27506, isEnableRetry=null, refundRefNum=588087072, ]"
                        },
                        {
                            "raw": "2020-06-11 17:59:15,386 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940936869: Refund request from NTT_AUTO to NTT with 4390745320@210.3.198.58:NttRequest [refundrefnum=4390745320, login=NTT, pass=XXX, nttrefid=940936869, amt=100, signature=8bee67205b29d0322ca35d34824751a0e8ec38d113ca4b0d6593fe9beefd4dd68d73855fb80fcf6618a457d0d74e78caba2f1be08902d8e81634947ff4aaf011, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:59:15,414 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940936869: Refund response from NTT to NTT_AUTO with 4390745320@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - voided transaction, signature=d6e623a0238963e93deb9a456edc7d9f83b1c4354c16609b83eca506da63777038f8b4c7f8a33b8fce1c75e68eb64fe769c14258c375c8a18170589fbe370781, isEnableRetry=null, errorCode=NE4023, errorDesc=Nonvoidable transaction status - voided transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4854",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "150",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "150",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "refundMode": "VOID",
            "amt": "150",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - captured transaction",
                "signature": true,
                "errorCode": "NE4024",
                "errorDesc": "Nonvoidable transaction status - captured transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.5000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "null",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Completed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "user_data_3": "150",
                            "currency": "HKD",
                            "user_data_43": "null",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 17:54:38,296 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936864, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,581 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940936864, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5918692779146421604011, ccAuthReply_amount=1.00, requestID=5918692779146421604011, ccAuthReply_authorizedDateTime=2020-06-11T09:54:38Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,588 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-27) CybersourcePaymentServiceImpl -  update transaction 940936864"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,588 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorCaptureServiceImpl] (default task-27) CybersourceCaptureServiceImpl - CaptureEntity [id=null, transactionId=940936864, captureAmt=1.00, partialCapture=false, txnAmt=1.00, respCode=02, respMsg=EN, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918692779146421604011, captureMode=AUTO, ]"
                        },
                        {
                            "raw": "2020-06-11 17:54:39,600 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Capture request from NTT to cybs with HKD[purchaseTotals_currency=HKD, merchantReferenceCode=940936864, ccCaptureService_run=true, ccCaptureService_authRequestID=5918692779146421604011, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,090 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-27) 940936864: Capture response from cybs to NTT with HKD[purchaseTotals_currency=HKD, decision=ACCEPT, requestID=5918692784466623504008, merchantReferenceCode=940936864, ccCaptureReply_reconciliationID=5918692779146421604011, reasonCode=100, ccCaptureReply_requestDateTime=2020-06-11T09:54:38Z, ccCaptureReply_reasonCode=100, ccCaptureReply_amount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,090 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-27) update captureEntity CaptureEntity [id=97411, transactionId=940936864, captureAmt=1.00, partialCapture=false, txnAmt=1.00, respCode=00, respMsg=OK, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918692784466623504008, captureMode=AUTO, createdAt=2020-06-11 17:54:39.588, updatedAt=2020-06-11 17:54:39.588]"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,131 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-27) #test39 - 940936864 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 17:54:40,131 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-27) Update remove cvv log table - nttrefid: 940936864"
                        },
                        {
                            "raw": "2020-06-11 17:54:41,115 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-27) 940936864: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940936864, respcode=00, respdesc=Transaction Completed, proc_code=100, date=2020-06-11 17:54:38, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, captureId=97411, manualCapture=N, manualCaptureStatus=F, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 17:54:41,121 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread8) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936864\",\"respcode\":\"00\",\"respdesc\":\"Transaction Completed\",\"proc_code\":\"100\",\"date\":\"2020-06-11 17:54:38\",\"signature\":\"120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"captureId\":\"97411\",\"manualCapture\":\"N\",\"manualCaptureStatus\":\"F\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-11 17:54:52,623 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-32) 940936864: Refund request from NTT_AUTO to NTT with 5737786875@210.3.198.58:NttRequest [refundrefnum=5737786875, login=NTT, pass=XXX, nttrefid=940936864, amt=50, signature=b988565984b89b0f87c97681149e106240ac718c862e292fdfdc7300e8493264575499dc2754bd380a318909de2f261c1b9331c96349daa3e9a554ae79545ff5, isEnableRetry=false, refundMode={{VOID}}, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:54:52,648 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-32) 940936864: Refund response from NTT to NTT_AUTO with 5737786875@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid parameter - refundMode, signature=f49fb1c6e1cc2b56c8edb60573debf41a1c2e60062f1845ba89c513fc7a44471c20f6f914112befc6ad0219ec0c2c86297f0533fa7ed42f0f75f81a409ef1418, isEnableRetry=null, errorCode=NE1079, errorDesc=Invalid parameter - refundMode]"
                        },
                        {
                            "raw": "2020-06-11 17:55:05,139 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-3) 940936864: Refund request from NTT_AUTO to NTT with 4611819396@210.3.198.58:NttRequest [refundrefnum=4611819396, login=NTT, pass=XXX, nttrefid=940936864, amt=50, signature=1edcbb5e984071dc69ecccaf990b9abf1dfe135517d92d1538c911dfc8f5f0a1a4196c3534f9cbd0c3bc1b636ff01614ed604adb82c16f140b0cf8ed389e6760, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 17:55:05,166 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-3) 940936864: Refund response from NTT to NTT_AUTO with 4611819396@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - captured transaction, signature=faea794ef4209f560abd4cb0a36f0059ea53c38f9623a10c435f9039699676315aebd75330d9c630f7331a8fafe55dc035c0cc76cbc7e21ab8f4c4d490144d60, isEnableRetry=null, errorCode=NE4024, errorDesc=Nonvoidable transaction status - captured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4848",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "authentication": "Y",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "proc_code": "475"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "VOID",
            "amt": "200",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - pending transaction",
                "signature": true,
                "errorCode": "NE4021",
                "errorDesc": "Nonvoidable transaction status - pending transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "amount",
                            "response_code",
                            "booking_id",
                            "merchantid",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "2.0000",
                            "response_code": "475",
                            "booking_id": "Refund_NE",
                            "user_data_25": "null",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "3d secure verification is pending",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "AUTH",
                            "user_data_3": "200",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "EN"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:09:22,299 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936873, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=2.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,534 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Authorization response from cybs to NTT with HKD[ccAuthReply_reconciliationID=5918701618976797804011, purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=2, ccAuthReply_reasonCode=120, decision=ACCEPT, ccAuthReply_amount=0.00, merchantReferenceCode=940936873, requestID=5918701618976797804011, ccAuthReply_authorizedDateTime=2020-06-11T10:09:22Z, ccAuthReply_authorizationCode=831000, reasonCode=120]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,540 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-25) CybersourcePaymentServiceImpl -  update transaction 940936873"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,541 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorCaptureServiceImpl] (default task-25) CybersourceCaptureServiceImpl - CaptureEntity [id=null, transactionId=940936873, captureAmt=2.00, partialCapture=false, txnAmt=2.00, respCode=02, respMsg=EN, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918701618976797804011, captureMode=AUTO, ]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,553 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Capture request from NTT to cybs with HKD[purchaseTotals_currency=HKD, merchantReferenceCode=940936873, ccCaptureService_run=true, ccCaptureService_authRequestID=5918701618976797804011, purchaseTotals_grandTotalAmount=2.00]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,962 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Capture response from cybs to NTT with HKD[decision=REJECT, merchantReferenceCode=940936873, requestID=5918701624106461204012, reasonCode=235, ccCaptureReply_reasonCode=235]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,962 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-25) update captureEntity CaptureEntity [id=97414, transactionId=940936873, captureAmt=2.00, partialCapture=false, txnAmt=2.00, respCode=235, respMsg=FL, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918701624106461204012, captureMode=AUTO, createdAt=2020-06-11 18:09:23.541, updatedAt=2020-06-11 18:09:23.541]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,998 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-25) #test39 - 940936873 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,998 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-25) Update remove cvv log table - nttrefid: 940936873"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,017 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-25) 940936873: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=200, txncurr=HKD, txnid=test39, nttrefid=940936873, respcode=01, respdesc=Transaction Capture Failed, proc_code=235, date=2020-06-11 18:09:22, signature=6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=PE3011, errorDesc=Invalid capture amount requested]"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,021 INFO  [com.nttdata.hk.business.utils.CommonUtil] (common_util_thread5) Send slack message We have encountered PE3011 PE3011 for a transaction initiated by NTT with nttrefid 940936873, which the processor is cybs with error code 235. Please check the server logs in details if necessary"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,022 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread9) Callback Json: {\"amt\":\"200\",\"txncurr\":\"HKD\",\"txnid\":\"test39\",\"nttrefid\":\"940936873\",\"respcode\":\"01\",\"respdesc\":\"Transaction Capture Failed\",\"proc_code\":\"235\",\"date\":\"2020-06-11 18:09:22\",\"signature\":\"6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"PE3011\",\"errorDesc\":\"Invalid capture amount requested\"}"
                        },
                        {
                            "raw": "2020-06-11 18:09:36,453 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-28) 940936873: Refund request from NTT_AUTO to NTT with 9615735770@210.3.198.58:NttRequest [refundrefnum=9615735770, login=NTT, pass=XXX, nttrefid=940936873, amt=100, signature=975ce0139ea21f0960bbc9f660a3507b7cd0ac501ee01300cc930aa5291c42c6b32ac02ec3a49f91af58d6b2309b9aad590567aa4bd1bde2ad54eab60faaa7e1, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:09:36,495 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-28) 940936873: Refund response from NTT to NTT_AUTO with 9615735770@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - failed transaction, signature=c5db6bd6c735ffb3a41aa7708af6d78939a03f3599d18558934a00c0d76457bad1582fc0b8ead0e37f554726d7f97b8a575a8cfd3590c095879c1865ecd0b539, isEnableRetry=null, errorCode=NE4022, errorDesc=Nonvoidable transaction status - failed transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4847",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "5nqO8sxAlrruZVZ5PJq5uRALHe9uhoHm2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "Y",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "proc_code": "475",
                "redirect_url": true,
                "date": "2020-06-11 18:17:59",
                "signature": true,
                "login": "NTT_AUTO",
                "maskcardnumber": "411111XXXXXX1111",
                "authenticationStatus": "Y",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - pending transaction",
                "signature": true,
                "errorCode": "NE4021",
                "errorDesc": "Nonvoidable transaction status - pending transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4845",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "captureRequestV2-capture",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE1",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE1",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "50",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "signature": true,
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE1",
                            "user_data_25": null,
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "pending_amt": "0.5000",
                            "capture_amt": "0.5000",
                            "resp_code": "100",
                            "capture_mode": "MANUAL",
                            "currency": "HKD",
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 10:53:59,919 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-15) 940938478: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940938478, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,596 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-15) 940938478: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940938478, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919304392876741603011, ccAuthReply_amount=1.00, requestID=5919304392876741603011, ccAuthReply_authorizedDateTime=2020-06-12T02:53:59Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,603 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-15) CybersourcePaymentServiceImpl -  update transaction 940938478"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,635 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-15) #test39 - 940938478 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 10:54:01,636 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-15) Update remove cvv log table - nttrefid: 940938478"
                        },
                        {
                            "raw": "2020-06-12 10:54:02,585 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-15) 940938478: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940938478, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 10:53:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 10:54:31,395 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-32) Capture request from NTT_AUTO to NTT with null@210.3.198.58:NttRequest [login=NTT, pass=XXX, nttrefid=940938478, amt={amt}, signature=990e2745e66c12eebfcc9908fc08027911136edf2e7b3f450228fdf8afeed9a1cd06d38d33b71c962c19391d69e4cf16bb4d51e1f814baac39eea3e60eed79bb, callbackUrl=https://webhook.site/cf1a88fe-6ebe-4430-855c-899cf3149d3f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:54:31,413 INFO  [com.nttdata.hk.api.controller.CaptureController] (default task-32) Capture: 940938478 response from NTT to NTT_AUTO with null@210.3.198.58:NttCaptureResponse [result=Invalid parameter - amt, errorCode=NE1023, errorDesc=Invalid parameter - amt]"
                        },
                        {
                            "raw": "2020-06-12 10:55:07,422 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-18) CaptureV2 request from NTT_AUTO to NTT with null@210.3.198.58:NttRequest [login=NTT, pass=XXX, nttrefid=940938478, amt={amt}, signature=990e2745e66c12eebfcc9908fc08027911136edf2e7b3f450228fdf8afeed9a1cd06d38d33b71c962c19391d69e4cf16bb4d51e1f814baac39eea3e60eed79bb, callbackUrl=https://webhook.site/cf1a88fe-6ebe-4430-855c-899cf3149d3f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:55:17,539 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-19) CaptureV2 request from NTT_AUTO to NTT with null@210.3.198.58:NttRequest [login=NTT, pass=XXX, nttrefid=940938478, amt=50, signature=990e2745e66c12eebfcc9908fc08027911136edf2e7b3f450228fdf8afeed9a1cd06d38d33b71c962c19391d69e4cf16bb4d51e1f814baac39eea3e60eed79bb, callbackUrl=https://webhook.site/cf1a88fe-6ebe-4430-855c-899cf3149d3f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:55:17,580 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-19) 940938478: Capture request from NTT to cybs with HKD[purchaseTotals_currency=HKD, merchantReferenceCode=940938478, ccCaptureService_run=true, ccCaptureService_authRequestID=5919304392876741603011, purchaseTotals_grandTotalAmount=0.50]"
                        },
                        {
                            "raw": "2020-06-12 10:55:19,058 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-19) 940938478: Capture response from cybs to NTT with HKD[purchaseTotals_currency=HKD, decision=ACCEPT, requestID=5919305169146067203012, merchantReferenceCode=940938478, ccCaptureReply_reconciliationID=5919304392876741603011, reasonCode=100, ccCaptureReply_requestDateTime=2020-06-12T02:55:17Z, ccCaptureReply_reasonCode=100, ccCaptureReply_amount=0.50]"
                        },
                        {
                            "raw": "2020-06-12 10:55:19,059 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-19) update captureEntity CaptureEntity [id=98057, transactionId=940938478, captureAmt=0.50, partialCapture=true, txnAmt=1.00, respCode=00, respMsg=OK, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5919305169146067203012, captureMode=MANUAL, createdAt=2020-06-12 10:55:17.565, updatedAt=2020-06-12 10:55:17.565]"
                        },
                        {
                            "raw": "2020-06-12 10:55:19,072 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-19) 940938478: CaptureV2 response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=50, txncurr=HKD, txnid=test39, nttrefid=940938478, respcode=00, respdesc=success, proc_code=100, signature=e69cc4082ec54b843e3ddcd902f19e7a71f2775d1ea6283bdc59eeef974a46eab999ff3a755b61f303424bdcebfc6c30e59a3bc3b31599ac1119edc98603774d, login=NTT, isEnableRetry=null, captureId=98057, ]"
                        },
                        {
                            "raw": "2020-06-12 10:55:53,727 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-20) 940938478: Refund request from NTT_AUTO to NTT with 1832631050@210.3.198.58:NttRequest [refundrefnum=1832631050, login=NTT, pass=XXX, nttrefid=940938478, amt=100, signature=0a04b3a382db9933537c77fb77e5e0d36c6724dd63f217e528934ee7b8b5a16fd2df245ddee1054c8aa5fd45a0f4050c983fd1b904ce6a88cd8a6213d7ad6d82, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 10:55:53,760 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-20) 940938478: Refund response from NTT to NTT_AUTO with 1832631050@210.3.198.58:NttResponse [respcode=01, respdesc=Refund amount exceeded the captured amount, signature=d9191329c29d08c0d957576e1e2e7b9679611841bffe8b563ffc2aaed1fa2c6fa0583325574d858d600a9ae61b93dd5d451ef73958cc847eff063cfa901df43e, isEnableRetry=null, errorCode=NE3019, errorDesc=Refund amount exceeded the captured amount]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4844",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "test39",
                "nttrefid": "940938478",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - uncaptured transaction",
                "signature": true,
                "errorCode": "NE4017",
                "errorDesc": "Nonrefundable transaction status - uncaptured transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": null,
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 15:22:05,180 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940939414, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,829 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940939414, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919465244876350603011, ccAuthReply_amount=1.00, requestID=5919465244876350603011, ccAuthReply_authorizedDateTime=2020-06-12T07:22:04Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,836 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-6) CybersourcePaymentServiceImpl -  update transaction 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-6) #test391 - 940939414 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-6) Update remove cvv log table - nttrefid: 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:07,784 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-6) 940939414: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940939414, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 15:22:05, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,034 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund request from NTT_AUTO to NTT with 6535920723@210.3.198.58:NttRequest [refundrefnum=6535920723, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=10eb9696ac82b74f69af8c11307232f028727193c74eab4344ff5f499af5f7dd53e90b78c7a537c4c9bdbb5b25ba99498424dd9cca5c2365b4af9002be41232c, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,060 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund response from NTT to NTT_AUTO with 6535920723@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=0fbf15d502c354e60f5f65792ef37b1c33d701366dbdd94d97f600d4d8025ff8c1a31f1148646114565267afc5bbbd7409679e696a8e027ca15f5f8bb870d775, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,730 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund request from NTT_AUTO to NTT with 9895200520@210.3.198.58:NttRequest [refundrefnum=9895200520, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=0bd9b152c7fae77383c09bdea10a0f590db104f6330af34bedc7a8b310accc3694d24aa6bbd3b77d9eed293a61996e43ab76052cab5ae1785bd38eb3a65b3d4f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,749 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund response from NTT to NTT_AUTO with 9895200520@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=718714ccc3ca7656085510e582f4df44e187f6a16320c40dde6bd65197ab282253e8c2012f450c2100499e216455a5e85fad54af817dc7e5b9cc97f83dfc0d86, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,053 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund request from NTT_AUTO to NTT with 1606102930@210.3.198.58:NttRequest [refundrefnum=1606102930, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=ee12ad7b8ba3d2611c5a648ad7712a731804cb0eddc4bff624076ba96f7a66979e18151581f36c40e4490ac1ce1ed439d6dc7073be565f9381232cc503d05b8f, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,077 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund response from NTT to NTT_AUTO with 1606102930@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=14e40f9deff6136d98e616a4adaee98cf7fd6562f20c26fe36e4d7d84f77f756bd6f111d7db2fdc0a251da344ef3a87e21352df7fc3686e33bc4beb97cd0eeac, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,747 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund request from NTT_AUTO to NTT with 6595911377@210.3.198.58:NttRequest [refundrefnum=6595911377, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=93bcb56fe3709ddeed562257b0ac3c85dce04ff5e36ace5d504517e8da106c873f55aa8bc9e43ad4da8e3c52c0393d290961397ef05ba093f901d9ce724c74ca, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,780 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund response from NTT to NTT_AUTO with 6595911377@210.3.198.58:NttResponse [respcode=01, respdesc=Nonrefundable transaction status - uncaptured transaction, signature=ee24b4315a0f01b5e341fae6659b58d9970b3ca294644c4d99d79a3f1ec0f85875462b1058ea4752659b75efd327bfdd731a235b7a6b3f95dcf7d0b520209cee, isEnableRetry=null, errorCode=NE4017, errorDesc=Nonrefundable transaction status - uncaptured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4843",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "refundRequest-refund1",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund1": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "Fully_Refunded",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Completed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 15:22:05,180 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940939414, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,829 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940939414, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919465244876350603011, ccAuthReply_amount=1.00, requestID=5919465244876350603011, ccAuthReply_authorizedDateTime=2020-06-12T07:22:04Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,836 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-6) CybersourcePaymentServiceImpl -  update transaction 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-6) #test391 - 940939414 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-6) Update remove cvv log table - nttrefid: 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:07,784 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-6) 940939414: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940939414, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 15:22:05, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,034 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund request from NTT_AUTO to NTT with 6535920723@210.3.198.58:NttRequest [refundrefnum=6535920723, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=10eb9696ac82b74f69af8c11307232f028727193c74eab4344ff5f499af5f7dd53e90b78c7a537c4c9bdbb5b25ba99498424dd9cca5c2365b4af9002be41232c, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,060 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund response from NTT to NTT_AUTO with 6535920723@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=0fbf15d502c354e60f5f65792ef37b1c33d701366dbdd94d97f600d4d8025ff8c1a31f1148646114565267afc5bbbd7409679e696a8e027ca15f5f8bb870d775, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,730 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund request from NTT_AUTO to NTT with 9895200520@210.3.198.58:NttRequest [refundrefnum=9895200520, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=0bd9b152c7fae77383c09bdea10a0f590db104f6330af34bedc7a8b310accc3694d24aa6bbd3b77d9eed293a61996e43ab76052cab5ae1785bd38eb3a65b3d4f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,749 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund response from NTT to NTT_AUTO with 9895200520@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=718714ccc3ca7656085510e582f4df44e187f6a16320c40dde6bd65197ab282253e8c2012f450c2100499e216455a5e85fad54af817dc7e5b9cc97f83dfc0d86, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,053 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund request from NTT_AUTO to NTT with 1606102930@210.3.198.58:NttRequest [refundrefnum=1606102930, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=ee12ad7b8ba3d2611c5a648ad7712a731804cb0eddc4bff624076ba96f7a66979e18151581f36c40e4490ac1ce1ed439d6dc7073be565f9381232cc503d05b8f, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,077 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund response from NTT to NTT_AUTO with 1606102930@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=14e40f9deff6136d98e616a4adaee98cf7fd6562f20c26fe36e4d7d84f77f756bd6f111d7db2fdc0a251da344ef3a87e21352df7fc3686e33bc4beb97cd0eeac, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,747 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund request from NTT_AUTO to NTT with 6595911377@210.3.198.58:NttRequest [refundrefnum=6595911377, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=93bcb56fe3709ddeed562257b0ac3c85dce04ff5e36ace5d504517e8da106c873f55aa8bc9e43ad4da8e3c52c0393d290961397ef05ba093f901d9ce724c74ca, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,780 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund response from NTT to NTT_AUTO with 6595911377@210.3.198.58:NttResponse [respcode=01, respdesc=Nonrefundable transaction status - uncaptured transaction, signature=ee24b4315a0f01b5e341fae6659b58d9970b3ca294644c4d99d79a3f1ec0f85875462b1058ea4752659b75efd327bfdd731a235b7a6b3f95dcf7d0b520209cee, isEnableRetry=null, errorCode=NE4017, errorDesc=Nonrefundable transaction status - uncaptured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4842",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-void",
            "refundRequest-void1",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "void": {
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "void1": {
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - voided transaction",
                "errorCode": "NE4023",
                "errorDesc": "Nonvoidable transaction status - voided transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "auth_code": "831000",
                            "booking_id": "Refund_NE",
                            "user_data_25": "Fully_Refunded",
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Authorization Succeeded",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH",
                            "user_data_3": "100",
                            "currency": "HKD",
                            "channel_type": "cybs",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-12 15:22:05,180 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940939414, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,829 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-6) 940939414: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940939414, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5919465244876350603011, ccAuthReply_amount=1.00, requestID=5919465244876350603011, ccAuthReply_authorizedDateTime=2020-06-12T07:22:04Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,836 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-6) CybersourcePaymentServiceImpl -  update transaction 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-6) #test391 - 940939414 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-12 15:22:06,860 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-6) Update remove cvv log table - nttrefid: 940939414"
                        },
                        {
                            "raw": "2020-06-12 15:22:07,784 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-6) 940939414: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940939414, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-12 15:22:05, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,034 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund request from NTT_AUTO to NTT with 6535920723@210.3.198.58:NttRequest [refundrefnum=6535920723, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=10eb9696ac82b74f69af8c11307232f028727193c74eab4344ff5f499af5f7dd53e90b78c7a537c4c9bdbb5b25ba99498424dd9cca5c2365b4af9002be41232c, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:22,060 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-24) 940939414: Refund response from NTT to NTT_AUTO with 6535920723@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=0fbf15d502c354e60f5f65792ef37b1c33d701366dbdd94d97f600d4d8025ff8c1a31f1148646114565267afc5bbbd7409679e696a8e027ca15f5f8bb870d775, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,730 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund request from NTT_AUTO to NTT with 9895200520@210.3.198.58:NttRequest [refundrefnum=9895200520, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=0bd9b152c7fae77383c09bdea10a0f590db104f6330af34bedc7a8b310accc3694d24aa6bbd3b77d9eed293a61996e43ab76052cab5ae1785bd38eb3a65b3d4f, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:42,749 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940939414: Refund response from NTT to NTT_AUTO with 9895200520@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=718714ccc3ca7656085510e582f4df44e187f6a16320c40dde6bd65197ab282253e8c2012f450c2100499e216455a5e85fad54af817dc7e5b9cc97f83dfc0d86, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,053 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund request from NTT_AUTO to NTT with 1606102930@210.3.198.58:NttRequest [refundrefnum=1606102930, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=ee12ad7b8ba3d2611c5a648ad7712a731804cb0eddc4bff624076ba96f7a66979e18151581f36c40e4490ac1ce1ed439d6dc7073be565f9381232cc503d05b8f, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:22:58,077 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-5) 940939414: Refund response from NTT to NTT_AUTO with 1606102930@210.3.198.58:NttResponse [respcode=01, respdesc=Invalid API credentials, signature=14e40f9deff6136d98e616a4adaee98cf7fd6562f20c26fe36e4d7d84f77f756bd6f111d7db2fdc0a251da344ef3a87e21352df7fc3686e33bc4beb97cd0eeac, isEnableRetry=null, errorCode=NE0100, errorDesc=Invalid API credentials]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,747 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund request from NTT_AUTO to NTT with 6595911377@210.3.198.58:NttRequest [refundrefnum=6595911377, login=NTT, pass=XXX, nttrefid=940939414, amt=100, signature=93bcb56fe3709ddeed562257b0ac3c85dce04ff5e36ace5d504517e8da106c873f55aa8bc9e43ad4da8e3c52c0393d290961397ef05ba093f901d9ce724c74ca, isEnableRetry=false, refundMode=REFUND, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-12 15:23:14,780 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-17) 940939414: Refund response from NTT to NTT_AUTO with 6595911377@210.3.198.58:NttResponse [respcode=01, respdesc=Nonrefundable transaction status - uncaptured transaction, signature=ee24b4315a0f01b5e341fae6659b58d9970b3ca294644c4d99d79a3f1ec0f85875462b1058ea4752659b75efd327bfdd731a235b7a6b3f95dcf7d0b520209cee, isEnableRetry=null, errorCode=NE4017, errorDesc=Nonrefundable transaction status - uncaptured transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4837",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "MMK",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "errorCode": "PE1016",
                "errorDesc": "Payment Processor General System Error",
                "respcode": "01",
                "respdesc": "fail",
                "proc_code": "150",
                "channelType": "cybs"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "200",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - failed transaction",
                "signature": true,
                "errorCode": "NE4016",
                "errorDesc": "Nonrefundable transaction status - failed transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "amount": "2.0000",
                            "response_code": "150",
                            "auth_code": null,
                            "booking_id": "Refund_NE",
                            "user_data_25": null,
                            "user_data_16": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                            "stage": "Transaction Failed",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "user_data_3": "200",
                            "currency": "MMK",
                            "channel_type": "cybs",
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:09:22,299 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Authorization request from NTT to cybs with MMK[purchaseTotals_currency=MMK, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940936873, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=2.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,534 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Authorization response from cybs to NTT with MMK[ccAuthReply_reconciliationID=5918701618976797804011, purchaseTotals_currency=MMK, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=2, ccAuthReply_reasonCode=120, decision=ACCEPT, ccAuthReply_amount=0.00, merchantReferenceCode=940936873, requestID=5918701618976797804011, ccAuthReply_authorizedDateTime=2020-06-11T10:09:22Z, ccAuthReply_authorizationCode=831000, reasonCode=120]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,540 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-25) CybersourcePaymentServiceImpl -  update transaction 940936873"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,541 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorCaptureServiceImpl] (default task-25) CybersourceCaptureServiceImpl - CaptureEntity [id=null, transactionId=940936873, captureAmt=2.00, partialCapture=false, txnAmt=2.00, respCode=02, respMsg=EN, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918701618976797804011, captureMode=AUTO, ]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,553 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Capture request from NTT to cybs with MMK[purchaseTotals_currency=MMK, merchantReferenceCode=940936873, ccCaptureService_run=true, ccCaptureService_authRequestID=5918701618976797804011, purchaseTotals_grandTotalAmount=2.00]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,962 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-25) 940936873: Capture response from cybs to NTT with MMK[decision=REJECT, merchantReferenceCode=940936873, requestID=5918701624106461204012, reasonCode=235, ccCaptureReply_reasonCode=235]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,962 INFO  [com.nttdata.hk.processor.cybersource.serivce.Impl.CybersourceCaptureServiceImpl] (default task-25) update captureEntity CaptureEntity [id=97414, transactionId=940936873, captureAmt=2.00, partialCapture=false, txnAmt=2.00, respCode=235, respMsg=FL, accNo=411111XXXXXX1111, merchantId=NTT, rrn=5918701624106461204012, captureMode=AUTO, createdAt=2020-06-11 18:09:23.541, updatedAt=2020-06-11 18:09:23.541]"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,998 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-25) #test39 - 940936873 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-11 18:09:23,998 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-25) Update remove cvv log table - nttrefid: 940936873"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,017 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-25) 940936873: Payment response from NTT to NTT_AUTO with MMK@210.3.198.58:NttResponse [amt=200, txncurr=MMK, txnid=test39, nttrefid=940936873, respcode=01, respdesc=Transaction Capture Failed, proc_code=235, date=2020-06-11 18:09:22, signature=6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, errorCode=PE3011, errorDesc=Invalid capture amount requested]"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,021 INFO  [com.nttdata.hk.business.utils.CommonUtil] (common_util_thread5) Send slack message We have encountered PE3011 PE3011 for a transaction initiated by NTT with nttrefid 940936873, which the processor is cybs with error code 235. Please check the server logs in details if necessary"
                        },
                        {
                            "raw": "2020-06-11 18:09:24,022 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread9) Callback Json: {\"amt\":\"200\",\"txncurr\":\"MMK\",\"txnid\":\"test39\",\"nttrefid\":\"940936873\",\"respcode\":\"01\",\"respdesc\":\"Transaction Capture Failed\",\"proc_code\":\"235\",\"date\":\"2020-06-11 18:09:22\",\"signature\":\"6ab1a471e7ad4a02e4e62b1c4168c872b9ad05002e8776d31b7f89330af2b0f39ef6edb9dd4d20cd97c5ed0f3b31cd3fa07ece217c836526d239ac8e0ca0ef9a\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"errorCode\":\"PE3011\",\"errorDesc\":\"Invalid capture amount requested\"}"
                        },
                        {
                            "raw": "2020-06-11 18:09:36,453 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-28) 940936873: Refund request from NTT_AUTO to NTT with 9615735770@210.3.198.58:NttRequest [refundrefnum=9615735770, login=NTT, pass=XXX, nttrefid=940936873, amt=100, signature=975ce0139ea21f0960bbc9f660a3507b7cd0ac501ee01300cc930aa5291c42c6b32ac02ec3a49f91af58d6b2309b9aad590567aa4bd1bde2ad54eab60faaa7e1, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:09:36,495 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-28) 940936873: Refund response from NTT to NTT_AUTO with 9615735770@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - failed transaction, signature=c5db6bd6c735ffb3a41aa7708af6d78939a03f3599d18558934a00c0d76457bad1582fc0b8ead0e37f554726d7f97b8a575a8cfd3590c095879c1865ecd0b539, isEnableRetry=null, errorCode=NE4022, errorDesc=Nonvoidable transaction status - failed transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4836",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_logtable",
            "frontend_cybsDB-capturetable",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "5nqO8sxAlrruZVZ5PJq5uRALHe9uhoHm2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "Y",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "proc_code": "475",
                "redirect_url": true,
                "date": "2020-06-11 18:17:59",
                "signature": true,
                "login": "NTT_AUTO",
                "maskcardnumber": "411111XXXXXX1111",
                "authenticationStatus": "Y",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - pending transaction",
                "signature": true,
                "errorCode": "NE4015",
                "errorDesc": "Nonrefundable transaction status - pending transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_logtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code",
                            "user_data_25",
                            "channel_type",
                            "stage",
                            "user_data_3",
                            "user_data_16",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "currency",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "capture_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4835",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "refundMode": "INVALID",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - refundMode",
                "signature": true,
                "errorCode": "NE1079",
                "errorDesc": "Invalid parameter - refundMode"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4833",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "amt": "200",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "100",
            "refundrefnum": "940890268_R111111111111111",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - refundrefnum",
                "signature": true,
                "errorCode": "NE1042",
                "errorDesc": "Invalid parameter - refundrefnum"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} and rrn is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4832",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "200",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "200",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "refundrefnum": null,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - refundrefnum",
                "signature": true,
                "errorCode": "NE1041",
                "errorDesc": "Missing parameter - refundrefnum"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "card_expirationMonth": "12",
                            "raw": "2020-06-11 18:17:59,778 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll request from NTT to cybs with HKD[payerAuthEnrollService_run=true, purchaseTotals_currency=HKD, card_expirationMonth=12, merchantReferenceCode=940937095, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,144 INFO  [com.nttdata.hk.secureManager.service.Impl.SecureCybersourceServiceImpl] (default task-23) 940937095: AuthEnroll response from cybs to NTT with HKD[payerAuthEnrollReply_proxyPAN=3739974, payerAuthEnrollReply_reasonCode=475, decision=REJECT, payerAuthEnrollReply_paReq=eNpVUstuwjAQvPsrItQzjkMgDVosQVHLQ6WhDZXg5jpbiNS8nITA39cO0IcP1s6udz0zNoQHhTh9Q1kr5PCMZSn2aMXRqHOSx2axKLwMX4JivZXB59rucAjGr1hwOKIq4yzlrGt3HaA3SPQIJQ8irTgIWUzmK86cntsfePdArwkCCar5lPdc5jqO69iXBfSSJpCKBPkqDK2pqIQ1y9K9tdQb0LZAQGZ1WqmzHuACvQECtfrih6rKh5Q2TdOV5w9NKquVxK7MEqCmToD+EgxqE5Va9ymOOD6tnMjOlzKMjruNv5bvj7stmySbcDwCak4QiESF3LE15QFjFrOHzBv2faBtnoBIDBk+W95pW7SgKyaQm5vGF8RM5W9CC6qVwlTeFN0QATzlWYr6jLb4J9Yafpk/zIzRsjJ+ej3f91zjc4vb9lhb49js0h+3PlHTQ6/vSK9PrqN/X+Ebhh+suA==, merchantReferenceCode=940937095, payerAuthEnrollReply_proofXML=<AuthProof><Time>2020 Jun 11 10:17:59</Time><DSUrl>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/vereq.jsp?acqid=StandardCATestCases</DSUrl><VEReqProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VEReq><version>1.0.2</version><pan>XXXXXXXXXXXX1111</pan><Merchant><acqBIN>12345678</acqBIN><merID>341422420000000</merID><password></password></Merchant><Browser><deviceCategory>0</deviceCategory></Browser></VEReq></Message></VEReqProof><VEResProof><Message id=\"xcvwJJq7oeOPqQYcPfQ0\"><VERes><version>1.0.2</version><CH><enrolled>Y</enrolled><acctID>3739974</acctID></CH><url>https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&amp;gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</url><protocol>ThreeDSecure</protocol></VERes></Message></VEResProof></AuthProof>, requestID=5918706794276852504009, payerAuthEnrollReply_acsURL=https://merchantacsstag.cardinalcommerce.com/MerchantACSWeb/pareq.jsp?vaa=b&gold=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, reasonCode=475, payerAuthEnrollReply_xid=eGN2d0pKcTdvZU9QcVFZY1BmUTA=]"
                        },
                        {
                            "raw": "2020-06-11 18:18:01,183 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-23) 940937095: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test39, nttrefid=940937095, respcode=02, respdesc=Redirect To 3D Secure Page, proc_code=475, redirect_url=https://uat.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=ef0b2452d317dd017bf3a365938ef28d, date=2020-06-11 18:17:59, signature=120994c7c09f888ef1a156f8d3f3a5814a9d00ed95f194f961c7639f87985b67ec0e5b0e8128ef572615e7e2a80d2e8146ef8d91759c0931123ccbb628b52535, login=NTT, maskcardnumber=411111XXXXXX1111, isEnableRetry=null, authenticationStatus=Y, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,073 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund request from NTT_AUTO to NTT with 2899589650@210.3.198.58:NttRequest [refundrefnum=2899589650, login=NTT, pass=XXX, nttrefid=940937095, amt=100, signature=5fcf757078a0f8b9014a72ab0943bec448e1503b0bddb45026fdd678fa4921c093dca3cb8b2acc5a3a512f9757690b4cc6165e720922494e01dce36f97f9fe5b, isEnableRetry=false, refundMode=VOID, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-11 18:21:23,097 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-15) 940937095: Refund response from NTT to NTT_AUTO with 2899589650@210.3.198.58:NttResponse [respcode=01, respdesc=Nonvoidable transaction status - pending transaction, signature=1e481d69d3a46bad5949ccdfe8773f17d9c1ba1455e214037f3feea346fb2c6ddf97b9a7f8d7fb49a72f1b3af4fa4deb23f0e852fa01a2e500f1439564952c70, isEnableRetry=null, errorCode=NE4021, errorDesc=Nonvoidable transaction status - pending transaction]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4834",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-transaction_log",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "50",
            "refundrefnum": "123455-R1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Provided refundrefnum already in use",
                "errorCode": "NE1090",
                "errorDesc": "Provided refundrefnum already in use"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "transaction_log": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "currency": "HKD"
                        }
                    ]
                }
            }
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4831",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "0",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4830",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "9999",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4829",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "99999999999999999999",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount",
                "errorCode": "NE3019",
                "errorDesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4828",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4826",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": null,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - amt",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4824",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "100",
            "nttrefid": "ABCD",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4822",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "login": "NTT1",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4821",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "pass": "",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4819",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "N",
                "captureId": true,
                "manualCaptureStatus": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "login": "",
            "amt": "100",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4806-1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "captureId": true,
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "300",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Partial void is not allowed",
                "errorCode": "NE3018",
                "errorDesc": "Partial void is not allowed"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refund_NE_NDHK-4806-2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-auth",
            "refundRequest-refund",
            "frontend_cybsDB-refundtable",
            "frontend_cybsDB-logCheck"
        ],
        "auth": {
            "amt": "100",
            "txnid": "Refund_NE",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "Refund_NE",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "manualCapture": "Y",
                "captureId": true,
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType"
            ]
        },
        "refund": {
            "amt": "50",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Partial void is not allowed",
                "errorCode": "NE3018",
                "errorDesc": "Partial void is not allowed"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "refundtable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {}
                    ]
                }
            }
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "billTo_email": "Ops.HK@nttdata.com",
                            "card_expirationMonth": "12",
                            "raw": "2020-06-16 11:08:21,859 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization request from NTT to cybs with HKD[purchaseTotals_currency=HKD, billTo_city=HK, billTo_email=Ops.HK@nttdata.com, merchantReferenceCode=940941447, billTo_country=HK, billTo_lastName=Hong Kong, billTo_postalCode=852, billTo_street1=Kings Road Quarry Bay, ccAuthService_run=true, purchaseTotals_grandTotalAmount=1.00, billTo_firstName=NTT Data, billTo_state=HK, card_expirationMonth=12, card_expirationYear=2020, card_accountNumber=411111XXXXXX1111]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,254 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-17) 940941447: Authorization response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReply_processorResponse=00, ccAuthReply_avsCode=Y, decision=ACCEPT, ccAuthReply_reasonCode=100, merchantReferenceCode=940941447, ccAuthReply_authorizationCode=831000, ccAuthReply_reconciliationID=5922769023736306203009, ccAuthReply_amount=1.00, requestID=5922769023736306203009, ccAuthReply_authorizedDateTime=2020-06-16T03:08:22Z, reasonCode=100, ccAuthReply_avsCodeRaw=Y]"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,261 INFO  [com.nttdata.hk.processor.serivce.Impl.ProcessorDirectPaymentServiceImpl] (default task-17) CybersourcePaymentServiceImpl -  update transaction 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.business.utils.CommonUtil] (default task-17) #test391 - 940941447 Cvv removal : OK"
                        },
                        {
                            "raw": "2020-06-16 11:08:23,285 INFO  [com.nttdata.hk.processor.DAO.Impl.RemoveCvvLogEAOImpl] (default task-17) Update remove cvv log table - nttrefid: 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,270 INFO  [com.nttdata.hk.api.utils.NttUtils] (default task-17) 940941447: Payment response from NTT to NTT_AUTO with HKD@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=Transaction Authorization Succeeded, proc_code=100, date=2020-06-16 11:08:21, signature=da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667, callbackUrl=https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec, login=NTT, channelType=cybs, fraudStatus=U, fraudResult={error={message=JSON malformed - no order root key}}, isEnableRetry=null, paymentMethod=credit, ru=https://uat.ndhkpay.com/NTT_Pages/return, manualCapture=Y, manualCaptureStatus=N, udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN, ]"
                        },
                        {
                            "raw": "2020-06-16 11:08:24,271 INFO  [com.nttdata.hk.business.utils.CallbackExecutor] (common_util_thread17) Callback Json: {\"amt\":\"100\",\"txncurr\":\"HKD\",\"txnid\":\"test391\",\"nttrefid\":\"940941447\",\"respcode\":\"00\",\"respdesc\":\"Transaction Authorization Succeeded\",\"proc_code\":\"100\",\"date\":\"2020-06-16 11:08:21\",\"signature\":\"da9efe3affa2c28816514dfb78905bad8cb7d3d5f4b00ac1b4930f575bff331b082758fe8053f9e82fcc936e1d1c3bf3b14916ffaff668a81e584535af207667\",\"callbackUrl\":\"https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec\",\"login\":\"NTT\",\"channelType\":\"cybs\",\"fraudStatus\":\"U\",\"fraudResult\":{\"error\":{\"message\":\"JSON malformed - no order root key\"}},\"paymentMethod\":\"credit\",\"ru\":\"https://uat.ndhkpay.com/NTT_Pages/return\",\"manualCapture\":\"Y\",\"manualCaptureStatus\":\"N\",\"udf1\":\"HIVE\",\"udf2\":\"PIG\",\"udf3\":\"SPARK\",\"udf4\":\"MAP-REDUCE\",\"udf5\":\"YARN\",\"auth_code\":\"831000\"}"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,840 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,866 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) start refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,872 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::GSTesting_940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,915 INFO  [com.nttdata.hk.utils.CommonRefundRequest] (default task-14) Refunddataarray::::::::940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:56,932 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void request from NTT to cybs with HKD[purchaseTotals_currency=HKD, ccAuthReversalService_authRequestID=5922769023736306203009, merchantReferenceCode=GSTesting_940941447, ccAuthReversalService_run=true, purchaseTotals_grandTotalAmount=1.00]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,204 INFO  [com.nttdata.hk.processor.cybersource.util.CybersourceUtils] (default task-14) 940941447: Void response from cybs to NTT with HKD[purchaseTotals_currency=HKD, ccAuthReversalReply_processorResponse=00, ccAuthReversalReply_requestDateTime=2020-06-16T03:09:57Z, ccAuthReversalReply_amount=1.00, decision=ACCEPT, merchantReferenceCode=GSTesting_940941447, requestID=5922769973316340903009, reasonCode=100, ccAuthReversalReply_reasonCode=100]"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,218 INFO  [com.nttdata.hk.api.mediator.RefundMediator] (default task-14) finish refund record processing 940941447"
                        },
                        {
                            "raw": "2020-06-16 11:09:58,223 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-14) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [amt=100, txncurr=HKD, txnid=test391, nttrefid=940941447, respcode=00, respdesc=success, proc_code=100, signature=c12bed9e38a33087f65e91f3ac7f8608f2270ed1ae602dc12e0c0be04c2f0876d48cd152afa08e32c0cab4c7533dcc9edc2764bcca0635def985dfae84d907a9, isEnableRetry=null, refundRefNum=GSTesting_940941447, ]"
                        },
                        {
                            "raw": "2020-06-16 11:14:07,996 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund request from NTT_AUTO to NTT with GSTesting_940941447@210.3.198.58:NttRequest [refundrefnum=GSTesting_940941447, login=NTT, pass=XXX, nttrefid=940941447, amt=100, signature=223f56aafa19de2b4b1798aafd360799ed662735ad26ba145f19e138c4a374ef0095102fbca14bf2d2f8e2f46a302f7c874a56c6bbbface3a6124eec69b9adef, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-16 11:14:08,019 INFO  [com.nttdata.hk.api.controller.RefundController] (default task-7) 940941447: Refund response from NTT to NTT_AUTO with GSTesting_940941447@210.3.198.58:NttResponse [respcode=01, respdesc=Provided refundrefnum already in use, signature=89e9c742a8e702334410c524f39d985b1067ab304bca91696569c5d9f9cbd6a3ec7da8566b976454cc7f13fe3021b13d8eff20f4ee4e72d03473c150958ca0b6, isEnableRetry=null, errorCode=NE1090, errorDesc=Provided refundrefnum already in use]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "requeryRequestV2-requery success case",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "channelType": "cybs",
                "refundedAmount": "100",
                "capturedAmount": "100",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "manualCapture": "N"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr",
                "channelType"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5310",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5311",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5312",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodySignature": false,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - signature",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5314",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5315",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5316",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "signature": "RandomSignature",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5317",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "nttrefid": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5319",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodyIncorrectFormat": true,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid Request Format",
                "errorCode": "NE1011",
                "errorDesc": "Invalid Request Format"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "requeryRequestV3-requery success case",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "channelType": "cybs",
                "refundedAmount": "100",
                "capturedAmount": "100",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "manualCapture": "N"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr",
                "channelType"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5353",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5354",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5355",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodySignature": false,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - signature",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5357",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5358",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5359",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "signature": "RandomSignature",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5361",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "nttrefid": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5363",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodyIncorrectFormat": true,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid Request Format",
                "errorCode": "NE1011",
                "errorDesc": "Invalid Request Format"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "requeryRequest-requery success case",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "channelType": "cybs",
                "refundedAmount": "100",
                "capturedAmount": "100",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "manualCapture": "N"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr",
                "channelType"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5298",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5299",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5301",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5302",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5303",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "nttrefid": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5306",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodyIncorrectFormat": true,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid Request Format",
                "errorCode": "NE1011",
                "errorDesc": "Invalid Request Format"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "requeryRequest-requery success case",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "channelType": "cybs",
                "refundedAmount": "100",
                "capturedAmount": "100",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "manualCapture": "N"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr",
                "channelType"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5298",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5299",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5301",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5302",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Refundv2_NE_NDHK-5303",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "nttrefid": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "requeryRequestV2-requery success case",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "channelType": "cybs",
                "refundedAmount": "100",
                "capturedAmount": "100",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "manualCapture": "N"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr",
                "channelType"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5310",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5311",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5312",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodySignature": false,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - signature",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5314",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5315",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5316",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "signature": "RandomSignature",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV2_NE_NDHK-5317",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV2-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "nttrefid": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "requeryRequestV3-requery success case",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "channelType": "cybs",
                "refundedAmount": "100",
                "capturedAmount": "100",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "manualCapture": "N"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr",
                "channelType"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5353",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5354",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5355",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "bodySignature": false,
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - signature",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5357",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "login": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5358",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "pass": "NTT1",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5359",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "signature": "RandomSignature",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RequeryV3_NE_NDHK-5361",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "requeryRequestV3-requery",
            "frontend_cybsDB-logCheck"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "paymentMethod": "credit",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "channelType": "cybs",
                "captureId": true,
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "refundRefNum": true
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "requery": {
            "nttrefid": "ABC",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "logCheck": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "sg-uat-application",
                        "logStream": "ip-172-20-42-187.ap-southeast-1.compute.internal/server.log",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "nttrefid",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "systemLogQueries": {
                    "systemQuery1": [
                        {
                            "raw": "2020-06-17 10:07:27,986 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-6) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=90337e32ecfdc4c057359a81ac0cad897dc31bfcf377cbcb3f4ca7fae9cbfc005608fb8fed6efe18d4480f378c4057205a5e170901bfd2b122050b8427d516b3, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,075 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Request@210.3.198.58: NttRequest [login=NTT, pass=XXX, nttrefid=940943396, signature=161d151a1d03f6012251ab04e57b876048a337075d54ead693fd9adb1134fe571da3f6e5f3ba9af3b20cd6b71f567a8aa2c3e7972b1819ebabc7e558ab34e564, isEnableRetry=false, isEnrollRecurring=false, ]]"
                        },
                        {
                            "raw": "2020-06-17 10:07:46,104 INFO  [com.nttdata.hk.api.controller.RequeryController] (default task-11) Response@210.3.198.58: NttResponse [amt=100, txncurr=HKD, txnid=1592359279734, nttrefid=940943396, respcode=00, respdesc=success, proc_code=100, accounttype=Credit Card, date=2020-06-17 10:01:21, mobile=, signature=db99400641afa5271115500bacfac079de56ff2af6e94d9ade15c75db6949c3e7d8c48799c4793f457e0960027191d3348c7087d31f852c746acbf28890e513d, channelType=cybs, isEnableRetry=null, paymentMethod=01, captureId=99901, manualCapture=N, udf1=Test UDF 1, udf2=Test UDF 2, udf3=Test UDF 3, udf4=Test UDF 4, udf5=Test UDF 5, refundedAmount=100, capturedAmount=100, voidedAmount=0, ]"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9797",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "3PO0aVgfxh9wF2hpc+cOYtDPpRqPwo1W|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "directdebit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9795",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "ZeuoS41GXwmEzJ/BKkJpXw==|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "directdebit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9796",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97Xze2tDBqjeAYTMn8EqQmlf|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "directdebit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9798",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97WGBQ4L9AOkPm7fEn+Ly2tKI7+WKwr4HdA=|nivi|CC|OTHER",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "directdebit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9794",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=testdecrypt|nivi|CC|OTHER",
            "od": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "directdebit",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "1.captureRequest - verify the capture with errorCode NE1012 with Missing parameter - login",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1012",
                            "error_desc": "Missing parameter - login"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "2.captureRequest - verify the capture with errorCode NE1013 with missing parameter - pass",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1013",
                            "error_desc": "Missing parameter - pass"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "4.captureRequest - verify the capture with errorCode NE3022 with related transaction not found",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "nttrefid": "123998544",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} order by created_at desc"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": null,
                            "capture_amt": "100.0000",
                            "txn_amt": "0.0000",
                            "error_code": "NE3022",
                            "error_desc": "Related transaction not found"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "5.captureRequest - verify the capture with errorCode NE1022 with Missing parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - amt",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "0.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1022",
                            "error_desc": "Missing parameter - amt"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "6.captureRequest - verify the capture with errorCode NE1023 with Invalid parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "-1",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Invalid parameter - amt",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "0.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1023",
                            "error_desc": "Invalid parameter - amt"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "7.captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "9999999999999999999999",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "999999999999999999.9900",
                            "txn_amt": "1.00",
                            "error_code": "NE1024",
                            "error_desc": "Requested amt is not in acceptable range"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "8.captureRequest - verify the capture with errorCode NE0100 with invalid API credentials",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "abc",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE0100",
                            "error_desc": "Invalid API credentials"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "9.captureRequest - verify the capture with errorCode NE0100 with Invalid API credentials-pass is invalid",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT1",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE0100",
                            "error_desc": "Invalid API credentials"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "10.captureRequest - verify the capture with errorCode NE0100 with Invalid API credentials-signature is invalid",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "signature": "123",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "result",
                "errorcode",
                "errordesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE0100",
                            "error_desc": "Invalid API credentials"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "11./captureRequest - verify the capture with errorCode NE3020 with Captured amount exceeded uncaptured amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "200",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Capture amount exceeded the uncaptured amount",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "2.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE3020",
                            "error_desc": "Capture amount exceeded the uncaptured amount"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "13./captureRequest - verify the capture with errorCode NE4014 with Uncapturable transaction status - voided transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-refund",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "void": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - voided transaction",
                "errorCode": "NE4014",
                "errorDesc": "Uncapturable transaction status - voided transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "refund_mode": "VOID",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE4014",
                            "error_desc": "Uncapturable transaction status - voided transaction"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "15./captureRequest - verify the capture with errorCode NE4013 with Uncapturable trasaction status - captured transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "captureRequest-capture152",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "capture152": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - captured transaction",
                "errorCode": "NE4013",
                "errorDesc": "Uncapturable transaction status - captured transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "1.0000",
                            "error_desc": null,
                            "resp_code": "100",
                            "currency": "HKD",
                            "error_code": null,
                            "resp_msg": "OK"
                        },
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "1.0000",
                            "error_desc": "Uncapturable transaction status - captured transaction",
                            "resp_code": null,
                            "currency": "HKD",
                            "error_code": "NE4013",
                            "resp_msg": "FL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "17./captureRequest - verify the capture with processors!=omise with capture amt<transaction amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": true,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "10",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "0.1000",
                            "error_desc": null,
                            "resp_code": "100",
                            "currency": "HKD",
                            "error_code": null,
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "18./captureRequest - verify the capture with errorCode NE1026 with Missing parameter - signature",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "signature": "skip",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - signature",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "1.0000",
                            "error_desc": "Missing parameter - signature",
                            "resp_code": null,
                            "currency": "HKD",
                            "error_code": "NE1026",
                            "resp_msg": "FL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "19./captureRequest - verify the capture with errorCode NE3022 with Related transaction not found",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "nttrefid": "",
            "txnid": "12gffd363REER",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "01case: paymentRequest-N3DS-Scenario 1-pay with mandatory parameters and authentication=N and unique txn id-Success",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0123",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "httpCode": 200,
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0123",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_45",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_45": "PURCHASE",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "02case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing login",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "login": "",
            "amt": "210",
            "txnid": "auth-capture-refund-01234",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01234",
                "respcode": "01",
                "respdesc": "Missing parameter - login"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "03case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing pass",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "pass": "",
            "amt": "210",
            "txnid": "auth-capture-refund-01235",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01235",
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "04case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing signature",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "signature": "skip",
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - signature"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "05case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing amount",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "",
            "txnid": "auth-capture-refund-01237",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01237",
                "respcode": "01",
                "respdesc": "Missing parameter - amt",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "06case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing txnid",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "respcode": "01",
                "respdesc": "Missing parameter - txnid",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "07case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing currency",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-01238",
            "txncurr": "",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txnid": "auth-capture-refund-01238",
                "respcode": "01",
                "respdesc": "Missing parameter - txncurr",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txnid",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "08case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing carddata and token",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-01239",
            "txncurr": "HKD",
            "carddata": "",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01239",
                "respcode": "01",
                "respdesc": "fail",
                "result": "Missing parameter - carddata OR token",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "result",
                "login"
            ]
        }
    },
    {
        "testDataId": "09case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-missing OD",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-01240",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01240",
                "respcode": "01",
                "respdesc": "Missing parameter - od",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "11case: paymentRequest-N3DS-Scenario 2-pay with missing mandatory parameters login and authentication=N and unique txn id-Failure-amount 0",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "0",
            "txnid": "auth-capture-refund-01241",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "0",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01241",
                "respcode": "01",
                "respdesc": "Requested zero amount in non-applicable situation",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "25case: Verify failed payment response for cybs-Failure",
        "Skip": true,
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "200",
            "txnid": "auth-capture-refund-01239",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "amt": "200",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-01239",
                "respcode": "01",
                "respdesc": "Transaction Capture Failed",
                "proc_code": "235",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "capture_amt": "2.0000",
                            "resp_msg": "FL"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_23",
                            "user_data_27",
                            "user_data_28",
                            "user_data_29",
                            "user_data_30"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "user_data_23": "udf1 - uat",
                            "user_data_27": "udf2 - uat",
                            "user_data_28": "udf3 - uat",
                            "user_data_29": "udf4 - uat",
                            "user_data_30": "udf5 - uat"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "Scenario1-1883-Full capture",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "Scenario2-1884-Partial capture - verify API Response parameters of /v2/captureRequest",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "50",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "Scenario4-1886-Verify capture amount cannot be greater the auth amount1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "150",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "150",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "151",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "id",
                            "capture_amt",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "58141366efe8d43b3d706e00d24831ee3cc632cd81e537c2533ea34ae42aef04ac875c9ebd1a6fbefb0b4e5034e457030e20f7a04a3714f7d16f1766236c5913",
                "systemLogQueries": {},
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "Scenario5-1887-Verify Void is successful after AUTH1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund200",
            "refundRequestV2-refund210",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund200": {
            "amt": "200",
            "expectedResult": {
                "respdesc": "Partial void is not allowed",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "respcode"
            ]
        },
        "refund210": {
            "amt": "210",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "210",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respdesc",
                "proc_code",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "Scenario6-1888-verify VOID is successful after capture fails1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "refundRequestV2-refund150",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "150",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "150",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "151",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "refund150": {
            "amt": "150",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "150",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "Scenario7-1889-Verify partial void is not allowed1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "200",
            "expectedResult": {
                "respdesc": "Partial void is not allowed",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "Scenario10-1892-Verify multiple partial refund can be processed for the captured amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment210",
            "captureRequestV2-capture100_1st",
            "refundRequestV2-refund20_1st",
            "refundRequestV2-refund30_2nd",
            "refundRequestV2-refund40_3rd",
            "refundRequestV2-refund50_4rd"
        ],
        "payment210": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture100_1st": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "100",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund20_1st": {
            "amt": "20",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "20",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund30_2nd": {
            "amt": "30",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "30",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund40_3rd": {
            "amt": "40",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "40",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "result"
            ]
        },
        "refund50_4rd": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "Scenario12-1894-Verify refund_mode=VOID is not allowed once transaction is captured",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "initiateRefundRequestV2-refund"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "210",
            "refundMode": "VOID",
            "expectedResult": {
                "respdesc": "Nonvoidable transaction status - captured transaction",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "Scenario13-1901-Verify capture with txnid which has more than one associated nttrefid1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "Cybs_Sandbox_CaptureV2_1",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "Cybs_Sandbox_CaptureV2_1",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Multiple transaction records found for the same txnid, please query by nttrefid again.",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "Scenario14-1902-Verify capture with txnid which has one associated nttrefid1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture_1st",
            "captureRequestV2-capture_2nd",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "merchantDescriptor": "TESTMerchantDesc01",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture_1st": {
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "capture_2nd": {
            "amt": "210",
            "txnid": "reuse",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "Scenario15-1903-verify merchantDescriptor value in captureRequest for Cybs",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "merchantDescriptor": "TESTMerchantDesc01",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "login": "NTT_AUTO",
                "txnid": "auth-capture-refund-01"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_44",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "2.1000",
                            "user_data_44": "TESTMerchantDesc01",
                            "merchantid": "NTT_AUTO"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "Scenario16-1906-Capture is unsuccessful if login/ password in request is incorrect1",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "SGD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "100",
            "pass": "123",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "0010 Create payment with carddata and token both present in request. Use unique txn id.",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0010",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "token": "a",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0010",
                "respcode": "01",
                "respdesc": "Both carddata AND token are submitted together",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "0012 Create payment with negative amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "-1",
            "txnid": "auth-capture-refund-0012",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "-1",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0012",
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "signature": "2ff778e2fcab9feb2824531fdebf18bb9cad0c625c5517d27c344a81ea80aee459b9349bb0a8b87efa380e8c06b33966fa0c2de5d6d4cdeaede55594256eda70",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txnid",
                "txncurr",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0013 Create payment with invalid amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "0.001",
            "txnid": "auth-capture-refund-0013",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "0.001",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0013",
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "signature": "bcbffeb6df6957ce394cf0308a76efe08794d7011cb28692cfea2c4475a43111143f3e60064a5f9a0217ee8d999452d3b692e01379f84fdeccf3751e8513addd",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txnid",
                "txncurr",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0014 Create payment with minimum allowable amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "1",
            "txnid": "auth-capture-refund-0014",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "1",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0014",
                "nttrefid": "940838701",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "signature": "0b0e1794b4bb6dbfa9f1c64c78885ad5eecc4b35fdb3c97cc32126b2468d0683b34c438c693a56ed96b9359a80331b9c1f8cc0dc559cd55f917dc668cb4ea71e",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "captureId": "52739",
                "manualCapture": "N"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        }
    },
    {
        "testDataId": "0015 Create payment with maximum allowable amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "999999999999999999.99",
            "txnid": "auth-capture-refund-0015",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "999999999999999999.99",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0015",
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "signature": "d131457a5be99bfb6899e71e07abf835837364142ba0ff4ed59fd0ab5617169e426f8b15bcd0e99f5bdb2ba7ae45d711c1d9d44df8540df4fdb251897065a899",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0016 Create payment with invalid amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0016",
            "txncurr": "ABC",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txncurr": "ABC",
                "txnid": "auth-capture-refund-0016",
                "respcode": "01",
                "respdesc": "Invalid parameter - txncurr",
                "signature": "e78ec6622e101d0b0f89a05e306c8906fb1d1a2457438cd3bc346b5321d857f48e2fc9b459c13ebefb71f4e7dc835cb3d4795f77475702e6e0d7ec2a546ca273",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txnid",
                "txncurr",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0017 Create payment with long order description,morethan128characters.Transactionisnotcreated.",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0017",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "od": "Abcd_@567891123456789112345678911234561_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_2123132323331232333_1234567891234567",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "channelType": "cybs",
            "callbackUrl": "https://webhook.site/05299c4e-9a9e-445e-ad6f-f8524ed7b853",
            "udf1": "ABC _123_1",
            "udf2": "ABC _123_2",
            "udf3": "ABC _123_3",
            "udf4": "ABC _123_4",
            "udf5": "ABC _123_5",
            "manualCapture": "Y",
            "authentication": "N",
            "token2": "867a4011-d333-4eb4-96f4-7a5cc2ea300e",
            "token1": "71e632bd-dbb1-47e5-a503-518918aa18b4",
            "cardEncryptionMethod": "DES",
            "date": "2019-01-01 00:01:00",
            "merchantDescriptor": "QATest @ 123",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0017",
                "nttrefid": "#Contains-1",
                "respcode": "01",
                "respdesc": "Invalid parameter - od",
                "signature": "a336281a9244ee38628650c2de5503142dc42200927d3d6043f310a702fffd61d69685c4cc2ec1da871ec828c4d4f40db8b30a97bf8b0d2376d6c7900a2a1bce",
                "login": "NTT_AUTO",
                "udf1": "ABC _123_1",
                "udf2": "ABC _123_2",
                "udf3": "ABC _123_3",
                "udf4": "ABC _123_4",
                "udf5": "ABC _123_5",
                "errorCode": "NE1021",
                "errorDesc": "Invalid parameter - od"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "nttrefid",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "0018 Payment is successful with alphanumeric OD with special characters. user_data_45 has correct value in database",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0018",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testin!#$%&",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0018",
                "nttrefid": "940838756",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "captureId": "52784",
                "manualCapture": "N"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_45",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_45": "PURCHASE",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "0021 Verify payment with mandatory parameters manualCapture=N,transactionisauto-captured.",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0021",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0021",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        }
    },
    {
        "testDataId": "0022 Verify same txn id can be used multiple times.",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0021",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0021",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        }
    },
    {
        "testDataId": "0023 Verify non-mandatory parameters udf1 to udf5 in payment request",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture-refund-0023",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testin",
            "udf1": "udf1 - test - 123@",
            "udf2": "udf2 - test - 123@",
            "udf3": "udf3 - test - 123@",
            "udf4": "udf4 - test - 123@",
            "udf5": "udf5 - test - 123@",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0023",
                "nttrefid": "940838756",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "captureId": "52784",
                "manualCapture": "N",
                "udf1": "udf1 - test - 123@",
                "udf2": "udf2 - test - 123@",
                "udf3": "udf3 - test - 123@",
                "udf4": "udf4 - test - 123@",
                "udf5": "udf5 - test - 123@"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "merchantid",
                            "amount",
                            "currency",
                            "txn_type",
                            "user_data_23",
                            "user_data_27",
                            "user_data_28",
                            "user_data_29",
                            "user_data_30"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "6d069eea7aa1e0aa2b738461409b8b17844dab6ee0a186a7c4419990fe6c3b7832a018986f3f10f180504da20d183f694ba22a256c9a8ac974aab94cb49c6c95",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "2.1000",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "currency": "HKD"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0024 Verify udf1-udf5 is sent in response even if payment fails",
        "Skip": true,
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "200",
            "txnid": "auth-capture-refund-0024",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "amt": "200",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-0024",
                "respcode": "01",
                "respdesc": "Transaction Capture Failed",
                "proc_code": "235",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_23",
                            "user_data_27",
                            "user_data_28",
                            "user_data_29",
                            "user_data_30"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "user_data_23": "udf1 - uat",
                            "user_data_27": "udf2 - uat",
                            "user_data_28": "udf3 - uat",
                            "user_data_29": "udf4 - uat",
                            "user_data_30": "udf5 - uat"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0026 Verify merchantDescriptor with cybs without manualCapture parameter in request",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate1",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "merchantDescriptor": "TESTMerchantDesc01",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate1",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "signature": "59c285adf0f1cd1f22e879a4c87321fbfbb591ae257d8a338b5409fed974fffdf6213e2510295415ef07666b2b1c2eef3c9181ea20c738e2b2143a45de3b9ad1",
                "merchantDescriptor": "TESTMerchantDesc01",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "captureId": "55058",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0027 Verify merchantDescriptor with cybs with manualCapture=N parameter in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate2",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "manualCapture": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "merchantDescriptor": "qa automation 123",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "merchantDescriptor": "qa automation 123",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "captureId": "55212",
                "manualCapture": "N",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_44"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_44": "qa automation 123"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0028 Verify merchantDescriptor with cybs with manualCapture=Y parameter in request and initiate full capture",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "captureRequestV2-capture"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate3",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "manualCapture": "Y",
            "authentication": "N",
            "channelType": "cybs",
            "od": "od - uat testing",
            "merchantDescriptor": "qa automation 123",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate3",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "qa automation 123",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "Y",
                "manualCaptureStatus": "N"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_44"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_44": "qa automation 123"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100",
                "txncurr": "HKD",
                "txnid": "generate3"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "0029 Verify merchantDescriptor with cybs with manualCapture=Y parameter in request and initiate partial capture",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "captureRequestV2-capture"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate3",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "manualCapture": "Y",
            "channelType": "cybs",
            "od": "od - uat testing",
            "authentication": "N",
            "merchantDescriptor": "qa automation 123",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate3",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "qa automation 123",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "Y",
                "manualCaptureStatus": "N"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_44"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_44": "qa automation 123"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100",
                "txncurr": "HKD",
                "txnid": "generate3",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid",
                "login"
            ]
        }
    },
    {
        "testDataId": "0030 Verify error message displayed if merchant descriptor has special characters",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate4",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "manualCapture": "Y",
            "channelType": "cybs",
            "od": "od - uat testing",
            "merchantDescriptor": "QATest @ 123",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate4",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0031 Verify merchantDescriptor cannot be more than 22 characters in length",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate5",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "manualCapture": "Y",
            "channelType": "cybs",
            "od": "od - uat testing",
            "merchantDescriptor": "d56as4d56as456d4as564d56sa4dsa454",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate5",
                "respcode": "01",
                "respdesc": "Transaction Authorization Failed",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0032 Initiate payment with cardEncryptionMethod=DES without manualCapture parameter in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate6",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "cardEncryptionMethod": "DES",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate6",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "capture_mode": "AUTO"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "DIRECT",
                            "rrn": "1"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0033 Initiate payment with cardEncryptionMethod=AES without manualCapture parameter in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate7",
            "txncurr": "HKD",
            "carddata": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "cardEncryptionMethod": "AES",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate7",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "capture_mode": "AUTO"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "DIRECT",
                            "rrn": "1"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0034 Initiate payment with cardEncryptionMethod=AES but provide DES carddata in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate8",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "cardEncryptionMethod": "AES",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "amt": "210",
                "txncurr": "HKD",
                "respcode": "01",
                "login": "NTT_AUTO",
                "txnid": "generate8"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "0035 Initiate payment with cardEncryptionMethod=DES but provide AES carddata in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate9",
            "txncurr": "HKD",
            "carddata": "hnJWssrMxyH1skK70eA8lu1ld9dMCdxmhP86u09ufMlsk0QjkIKBWaEXXf0=|CardHolder|CC|OTHER",
            "channelType": "cybs",
            "od": "od - uat testing",
            "cardEncryptionMethod": "DES",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate9",
                "respcode": "01",
                "respdesc": "Invalid parameter - carddata",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "0036 Initiate payment with cardEncryptionMethod=invalidValue",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate10",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "cardEncryptionMethod": "invlidValue",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate10",
                "respcode": "01",
                "respdesc": "Invalid parameter - cardEncryptionMethod",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "0037 Initiate payment with cardEncryptionMethod=DES with manualCapture parameter in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate11",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "manualCapture": "Y",
            "cardEncryptionMethod": "DES",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate11",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "Y",
                "manualCaptureStatus": "N"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate11",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid",
                "login"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "rrn",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "rrn": "1",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0038 Initiate payment with cardEncryptionMethod=AES with manualCapture parameter in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate12",
            "txncurr": "HKD",
            "carddata": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "manualCapture": "Y",
            "cardEncryptionMethod": "AES",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate12",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "Y",
                "manualCaptureStatus": "N"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate12",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "rrn",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "rrn": "1",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0042 Do not provide optional parameter paymentMethod in request",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate15",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate15",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "payment_type"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "payment_type": "card"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "0046 Verify transaction is successful with 13 digit credit card",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate19",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate18",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "manualCapture": "N"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        }
    },
    {
        "testDataId": "0049 Verify paymentRequest with invalid authentication parameter",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate19",
            "txncurr": "HKD",
            "authentication": "123",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate20",
                "respcode": "01",
                "respdesc": "Invalid parameter - authentication",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "0050 Verify paymentRequest with invalid manualCapture parameter",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate19",
            "txncurr": "HKD",
            "manualCapture": "123",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate20",
                "respcode": "01",
                "respdesc": "Invalid parameter - manualCapture",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "0051 Verify paymentRequest with invalid authentication parameter",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate19",
            "txncurr": "HKD",
            "authentication": "ABC",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "od": "od - uat testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate",
                "respcode": "01",
                "respdesc": "Invalid parameter - authentication",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "Scenario1-1883-Full capture - verify API Response parameters of /portalCaptureReqeust1",
        "OD": "QA_Automation - portalCaptureReqeust",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "portalCaptureRequest-capture",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "amt": "150",
            "txnid": "auth-capture",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "auth_code": "831000",
                "amt": "150"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "manualCapture",
                "auth_code"
            ]
        },
        "capture": {
            "amt": "150",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "150",
                "proc_code": "100",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "amount": "1.5000"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg",
                            "resp_code",
                            "currency",
                            "capture_amt",
                            "partial_capture",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK",
                            "resp_code": "100",
                            "currency": "HKD",
                            "capture_amt": "1.5000",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario2-1884-Partial capture - verify API Response parameters of /portalCaptureReqeust",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "portalCaptureRequest-capture",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "amt": "210",
            "txnid": "auth-capture",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "auth_code": "831000",
                "amt": "210"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "manualCapture"
            ]
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "50",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg",
                            "resp_code",
                            "currency",
                            "capture_amt",
                            "partial_capture",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK",
                            "resp_code": "100",
                            "currency": "HKD",
                            "capture_amt": "0.5000",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario4-1886-Verify capture amount cannot be greater the auth amount2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "amt": "150",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "150"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "151",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "1.5000"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "id",
                            "capture_amt",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "58141366efe8d43b3d706e00d24831ee3cc632cd81e537c2533ea34ae42aef04ac875c9ebd1a6fbefb0b4e5034e457030e20f7a04a3714f7d16f1766236c5913",
                "systemLogQueries": {},
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario5-1887-Verify Void is successful after AUTH2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund200",
            "refundRequestV2-refund210",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_refund"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund200": {
            "amt": "200",
            "expectedResult": {
                "respdesc": "Partial void is not allowed",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "respcode"
            ]
        },
        "refund210": {
            "amt": "210",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "210",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respdesc",
                "proc_code",
                "respcode"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        },
        "DB_refund": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario6-1888-verify VOID is successful after capture fails2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "refundRequestV2-refund150",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_refund",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "amt": "150",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "150",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "151",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "refund150": {
            "amt": "150",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "150",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "1.5000"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "id",
                            "capture_amt",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "58141366efe8d43b3d706e00d24831ee3cc632cd81e537c2533ea34ae42aef04ac875c9ebd1a6fbefb0b4e5034e457030e20f7a04a3714f7d16f1766236c5913",
                "systemLogQueries": {},
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            }
        },
        "DB_refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario7-1889-Verify partial void is not allowed2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-DB_payment"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "200",
            "expectedResult": {
                "respdesc": "Partial void is not allowed",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario10-1892-Verify multiple partial refund can be processed for the captured amount2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment210",
            "portalCaptureRequest-capture100_1st",
            "refundRequestV2-refund20_1st",
            "refundRequestV2-refund30_2nd",
            "refundRequestV2-refund40_3rd",
            "refundRequestV2-refund50_4rd",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_refund",
            "frontend_cybsDB-DB_capture"
        ],
        "payment210": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture100_1st": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "100",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund20_1st": {
            "amt": "20",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "20",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund30_2nd": {
            "amt": "30",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "30",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund40_3rd": {
            "amt": "40",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "40",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "result"
            ]
        },
        "refund50_4rd": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Refund amount exceeded the captured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        },
        "DB_refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "id",
                            "capture_amt",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "58141366efe8d43b3d706e00d24831ee3cc632cd81e537c2533ea34ae42aef04ac875c9ebd1a6fbefb0b4e5034e457030e20f7a04a3714f7d16f1766236c5913",
                "systemLogQueries": {},
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario12-1894-Verify refund_mode=VOID is not allowed once transaction is captured2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "portalCaptureRequest-capture",
            "initiateRefundRequestV2-refund",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "210",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "210",
            "refundMode": "VOID",
            "expectedResult": {
                "respdesc": "Nonvoidable transaction status - captured transaction",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "id",
                            "capture_amt",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "58141366efe8d43b3d706e00d24831ee3cc632cd81e537c2533ea34ae42aef04ac875c9ebd1a6fbefb0b4e5034e457030e20f7a04a3714f7d16f1766236c5913",
                "systemLogQueries": {},
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario13-1901-Verify capture with txnid which has more than one associated nttrefid2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-DB_payment",
            "portalCaptureRequest-capture"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "Cybs_Sandbox_CaptureV2_1",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "Cybs_Sandbox_CaptureV2_1",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Multiple transaction records found for the same txnid, please query by nttrefid again.",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "Scenario14-1902-Verify capture with txnid which has one associated nttrefid",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "portalCaptureRequest-capture_1st",
            "portalCaptureRequest-capture_2nd",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "merchantDescriptor": "TESTMerchantDesc01",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture_1st": {
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01"
            },
            "needAssert": [
                "respcode"
            ]
        },
        "capture_2nd": {
            "amt": "210",
            "txnid": "reuse",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "210",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "HKD",
                            "amount": "2.1000"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario15-1903-verify merchantDescriptor value in captureRequest for Cybs2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "portalCaptureRequest-capture",
            "frontend_cybsDB-DB_payment",
            "frontend_cybsDB-DB_capture"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "210",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "merchantDescriptor": "TESTMerchantDesc01",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "login": "NTT_AUTO",
                "txnid": "auth-capture-refund-01"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_44",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "2.1000",
                            "user_data_44": "TESTMerchantDesc01",
                            "merchantid": "NTT_AUTO"
                        }
                    ]
                }
            }
        },
        "DB_capture": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "id",
                            "capture_amt",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "58141366efe8d43b3d706e00d24831ee3cc632cd81e537c2533ea34ae42aef04ac875c9ebd1a6fbefb0b4e5034e457030e20f7a04a3714f7d16f1766236c5913",
                "systemLogQueries": {},
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario16-1906-Capture is unsuccessful if login/ password in request is incorrect2",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "portalCaptureRequest-capture",
            "frontend_cybsDB-DB_payment"
        ],
        "payment": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "150",
            "txnid": "auth-capture-refund-01",
            "txncurr": "SGD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "150"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "100",
            "login": "123",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Login authentication error"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "currency",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "currency": "SGD",
                            "amount": "1.5000"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "Scenario1-TS-56",
        "OD": "QA_Automation - tokenize",
        "merchantId": "agodaauto",
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-DB_payment"
        ],
        "tokenize": {
            "card": "4761340000000019",
            "expiryDate": "12/22",
            "cardType": "CC",
            "cvv": "946",
            "name": "English Name",
            "txncurr": "PHP",
            "email": "sadasdas@asdasd.com",
            "verifyRequest": true,
            "customerId": "100000",
            "expectedResult": {
                "txncurr": "PHP",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "50",
            "txnid": "generate",
            "txncurr": "USD",
            "authentication": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "amt": "50"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "AGODA_AUTO",
                            "amount": "0.5000"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-3213",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-paymentDB",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-Example0006",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "channelType": "cybs",
            "merchantDescriptor": "qa automation 123",
            "od": "od - uat testing",
            "udf1": "udf1 - test - 123@",
            "udf2": "udf2 - test - 123@",
            "udf3": "udf3 - test - 123@",
            "udf4": "udf4 - test - 123@",
            "udf5": "udf5 - test - 123@",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "paymentMethod": "credit",
                "merchantDescriptor": "qa automation 123",
                "udf1": "udf1 - test - 123@",
                "udf2": "udf2 - test - 123@",
                "udf3": "udf3 - test - 123@",
                "udf4": "udf4 - test - 123@",
                "udf5": "udf5 - test - 123@"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "paymentDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "currency": "HKD",
                            "txn_status": "OK",
                            "auth_code": "831000"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "refund": {
            "amt": "100",
            "txnid": "auth-capture-refund-Example0006",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-Example0006",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "1.0000",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-3237",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-paymentDB",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-Example0006",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "channelType": "cybs",
            "merchantDescriptor": "qa automation 123",
            "od": "od - uat testing",
            "udf1": "udf1 - test - 123@",
            "udf2": "udf2 - test - 123@",
            "udf3": "udf3 - test - 123@",
            "udf4": "udf4 - test - 123@",
            "udf5": "udf5 - test - 123@",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "paymentMethod": "credit",
                "merchantDescriptor": "qa automation 123",
                "udf1": "udf1 - test - 123@",
                "udf2": "udf2 - test - 123@",
                "udf3": "udf3 - test - 123@",
                "udf4": "udf4 - test - 123@",
                "udf5": "udf5 - test - 123@"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "paymentDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "1.0000",
                            "response_code": "100",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "currency": "HKD",
                            "txn_status": "OK",
                            "auth_code": "831000"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "refund": {
            "amt": "50",
            "txnid": "auth-capture-refund-Example0006",
            "expectedResult": {
                "amt": "50",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-Example0006",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-3394",
        "OD": "QA_Automation - tokenize",
        "merchantId": "nttauto",
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-DB_payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus"
        ],
        "tokenize": {
            "card": "5424820003841911",
            "expiryDate": "12/31",
            "cardType": "CC",
            "cvv": "111",
            "name": "English Name",
            "txncurr": "HKD",
            "email": "sadasdas@asdasd.com",
            "verifyRequest": true,
            "customerId": "100000",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "tokenize test case",
            "txncurr": "HKD",
            "authentication": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "auth_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "amount": "1.0000"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "txnid": "tokenize test case",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "tokenize test case",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "1.0000",
                            "currency": "HKD",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-3393",
        "OD": "QA_Automation - tokenize",
        "merchantId": "nttauto",
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-paymentRefundstatus"
        ],
        "tokenize": {
            "card": "5424820003841911",
            "expiryDate": "12/31",
            "cardType": "CC",
            "cvv": "111",
            "name": "English Name",
            "txncurr": "HKD",
            "email": "sadasdas@asdasd.com",
            "verifyRequest": true,
            "customerId": "100000",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "tokenize test case",
            "txncurr": "HKD",
            "authentication": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "auth_code"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "amount": "1.0000"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50",
            "txnid": "tokenize test case",
            "expectedResult": {
                "amt": "50",
                "txncurr": "HKD",
                "txnid": "tokenize test case",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "currency": "HKD",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-3165",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-paymentDB",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus"
        ],
        "payment": {
            "amt": "1000001",
            "txnid": "auth-capture-refund-Example0006",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "channelType": "cybs",
            "merchantDescriptor": "qa automation 123",
            "od": "od - uat testing",
            "udf1": "udf1 - test - 123@",
            "udf2": "udf2 - test - 123@",
            "udf3": "udf3 - test - 123@",
            "udf4": "udf4 - test - 123@",
            "udf5": "udf5 - test - 123@",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "1000001",
                "paymentMethod": "credit",
                "merchantDescriptor": "qa automation 123",
                "udf1": "udf1 - test - 123@",
                "udf2": "udf2 - test - 123@",
                "udf3": "udf3 - test - 123@",
                "udf4": "udf4 - test - 123@",
                "udf5": "udf5 - test - 123@"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "paymentDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "10000.0100",
                            "response_code": "100",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "currency": "HKD",
                            "txn_status": "OK",
                            "auth_code": "831000"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "refund": {
            "amt": "1000001",
            "txnid": "auth-capture-refund-Example0006",
            "expectedResult": {
                "amt": "1000001",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-Example0006",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "10000.0100",
                            "pending_amt": "0.0000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "10000.0100",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-3189",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-paymentDB",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus"
        ],
        "payment": {
            "amt": "100000001",
            "txnid": "auth-capture-refund-Example0006",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "channelType": "cybs",
            "merchantDescriptor": "qa automation 123",
            "od": "od - uat testing",
            "udf1": "udf1 - test - 123@",
            "udf2": "udf2 - test - 123@",
            "udf3": "udf3 - test - 123@",
            "udf4": "udf4 - test - 123@",
            "udf5": "udf5 - test - 123@",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100000001",
                "paymentMethod": "credit",
                "merchantDescriptor": "qa automation 123",
                "udf1": "udf1 - test - 123@",
                "udf2": "udf2 - test - 123@",
                "udf3": "udf3 - test - 123@",
                "udf4": "udf4 - test - 123@",
                "udf5": "udf5 - test - 123@"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "channelType",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "paymentDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "booking_id",
                            "amount",
                            "response_code",
                            "merchantid",
                            "user_data_22",
                            "txn_type",
                            "user_data_45",
                            "currency",
                            "txn_status",
                            "auth_code"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "1000000.0100",
                            "response_code": "100",
                            "merchantid": "NTT_AUTO",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE",
                            "currency": "HKD",
                            "txn_status": "OK",
                            "auth_code": "831000"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "refund": {
            "amt": "1000001",
            "txnid": "auth-capture-refund-Example0006",
            "expectedResult": {
                "amt": "1000001",
                "txncurr": "HKD",
                "txnid": "auth-capture-refund-Example0006",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "txnid",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1000000.0100",
                            "pending_amt": "990000.0000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "10000.0100",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "2.captureRequest - verify the capture with errorCode NE1012 with Missing parameter - login",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "3.captureRequest - verify the capture with errorCode NE1013 with missing parameter - pass",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "4.captureRequest - verify the capture with errorCode NE0100 with invalid request format",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT1",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "6.captureRequest - verify the capture with errorCode NE3022 with related transaction not found",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "nttrefid": "1239987",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "8.captureRequest - verify the capture with errorCode NE1022 with Missing parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Missing parameter - amt",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "9.captureRequest - verify the capture with errorCode NE1023 with Invalid parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "-1",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Invalid parameter - amt",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "10.captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "9999999999999999999999",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "11.captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "0",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "12.captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "0",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "15./captureRequest - verify the capture with errorCode NE1035 with missing parameter - callbackUrl",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "50",
            "expectedResult": {
                "result": "Missing parameter - callbackUrl",
                "errorCode": "NE1035",
                "errorDesc": "Missing parameter - callbackUrl"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "17.captureRequest - verify the capture with errorCode NE4013 with uncapturable transaction status - captured transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "N",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - captured transaction",
                "errorCode": "NE4013",
                "errorDesc": "Uncapturable transaction status - captured transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "DIRECT",
                            "user_data_45": "PURCHASE"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "18.captureRequest - verify the capture with errorCode NE3017 with reached maximun no. of capture",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "1500",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Capture amount exceeded the uncaptured amount",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "19.v2/captureRequest - verify the capture with errorCode NE3020 with captured amt exceeed the uncapted amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "5000",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Capture amount exceeded the uncaptured amount",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "20.captureRequest - verify the capture with errorCode NE4011 with uncapturable transaction status - pending transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "10",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - pending transaction",
                "errorCode": "NE4011",
                "errorDesc": "Uncapturable transaction status - pending transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "22.captureRequest - verify the capture with errorCode NE4012 with uncapturable transaction status - failed transaction(FL)",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "10",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - failed transaction",
                "errorCode": "NE4012",
                "errorDesc": "Uncapturable transaction status - failed transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "2.v2/captureRequest - verify the capture with errorCode NE1012 with invalid request format",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "3.v2/captureRequest - verify the capture with errorCode NE1013 with missing parameter - pass",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "4.v2/captureRequest - verify the capture with errorCode NE0100 with invalid request format",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT1",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "6.v2/captureRequest - verify the capture with errorCode NE3022 with related transaction not found",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "nttrefid": "1239987",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "8.v2/captureRequest - verify the capture with errorCode NE1022 with Missing parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - amt",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "9.v2/captureRequest - verify the capture with errorCode NE1023 with Invalid parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "-1",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "10.v2/captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "9999999999999999999999",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "11.v2/captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "0",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "12.v2/captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "0",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "15./captureRequest - verify the capture with errorCode NE1035 with missing parameter - callbackUrl",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "50",
            "expectedResult": {
                "result": "Missing parameter - callbackUrl",
                "errorCode": "NE1035",
                "errorDesc": "Missing parameter - callbackUrl"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "17.v2/captureRequest - verify the capture with errorCode NE4013 with uncapturable transaction status - captured transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture1",
            "captureRequest-capture2",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture1": {
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "capture2": {
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - captured transaction",
                "errorCode": "NE4013",
                "errorDesc": "Uncapturable transaction status - captured transaction"
            },
            "needAssert": [
                "result",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "18.captureRequest - verify the capture with errorCode NE3017 with reached maximun no. of capture",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "1500",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Capture amount exceeded the uncaptured amount",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "19.v2/captureRequest - verify the capture with errorCode NE3020 with captured amt exceeed the uncapted amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "5000",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Capture amount exceeded the uncaptured amount",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "20.captureRequest - verify the capture with errorCode NE4011 with uncapturable transaction status - pending transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "10",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - pending transaction",
                "errorCode": "NE4011",
                "errorDesc": "Uncapturable transaction status - pending transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "22.captureRequest - verify the capture with errorCode NE4012 with uncapturable transaction status - failed transaction(FL)",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "NTT Error code Test Set",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "fail"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "capture151": {
            "amt": "10",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "result": "Uncapturable transaction status - failed transaction",
                "errorCode": "NE4012",
                "errorDesc": "Uncapturable transaction status - failed transaction"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9789",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=testdecrypt|nivi|CC|OTHER",
            "od": "NTT Test",
            "channelType": "cybs",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9788",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "USD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Missing parameter - carddata OR token",
                "errorDesc": "Missing parameter - carddata OR token",
                "amt": "100",
                "errorCode": "NE1038",
                "txncurr": "USD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1038",
                            "userData28": "Missing parameter - carddata OR token"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-9802",
        "OD": "Processor Specific NE Error Codes",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=testdecrypt|nivi|CC|OTHER",
            "od": "NTT Test",
            "channelType": "cybs",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://webhook.site/48b6666c-663b-4bfe-b4e2-e4e125909c3c",
            "expectedResult": {
                "respdesc": "Invalid parameter - carddata",
                "errorDesc": "Invalid parameter - carddata",
                "amt": "100",
                "errorCode": "NE1037",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "login",
                "respcode",
                "udf1"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1037",
                            "userData28": "Invalid parameter - carddata"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4151",
        "OD": "payment request general validations",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTTTestingu",
            "channelType": "cybs",
            "ru": "https://uat.ndhkpay.com//NTT_Pages/return",
            "callbackUrl": "https://webhook.site/05299c4e-9a9e-445e-ad6f-f8524ed7b853",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "a a",
            "manualCapture": "N",
            "authentication": "N",
            "carddata1": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "token": "a3bf2c7f-52d7-4ad3-96ae-74a60043674f-1",
            "cardEncryptionMethod": "DES",
            "expirydate": "2029-04-04 00:00:00",
            "date": "00:00:00",
            "expectedResult": {
                "date": "00:00:00",
                "udf5": "a a",
                "amt": "210",
                "txncurr": "HKD",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "respcode": "01",
                "login": "NTT_AUTO",
                "udf1": "HIVE",
                "udf2": "PIG",
                "respdesc": "Invalid parameter - date"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "amt",
                "channelType",
                "login",
                "date",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1054",
                            "userData28": "Invalid parameter - date"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5397",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "requeryRequestV3-requeryV3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "merchantDescriptor",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "requeryV3": {
            "login": "AGODA",
            "pass": "Agoda@123",
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "Related transaction not found",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5396",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "requeryRequestV2-requeryV2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "merchantDescriptor",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "requeryV2": {
            "login": "NTT",
            "pass": "Ntt@123",
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "Related transaction not found",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RegressionTesting1.9-NDHK-2262",
        "OD": "payment request general validations",
        "Skip": true,
        "merchantId": "nttauto",
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "210"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "210",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "210",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "currency",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RegressionTesting1.9-NDHK-2064",
        "OD": "payment request general validations",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "manualCapture": "N",
                "udf5": "udf5 - uat",
                "amt": "210",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCaptureStatus",
                "manualCapture",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "login",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "refund1": {
            "amt": "110",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "110",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "currency",
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        },
                        {
                            "resp_code": "00",
                            "currency": "HKD",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "RegressionTesting1.9-NDHK-5532",
        "OD": "payment request general validations",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "110",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "UAT_21052020",
            "channelType": "cybs",
            "authentication": "Y",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/60fe5db9-4a32-4a0a-8cfb-655d2059e244",
            "remarks": "Test Remarks 1234",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "udf1": "Test UDF 1",
            "expectedResult": {
                "udf5": "Test UDF 5",
                "amt": "110",
                "txncurr": "HKD",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "respcode": "02",
                "login": "NTT_AUTO",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "respdesc": "Redirect To 3D Secure Page",
                "proc_code": "475",
                "maskcardnumber": "400000XXXXXX0002",
                "authenticationStatus": "Y",
                "redirect_url": "#Contains-https"
            },
            "needAssert": [
                "udf5",
                "amt",
                "txncurr",
                "udf3",
                "udf4",
                "respcode",
                "login",
                "udf1",
                "udf2",
                "respdesc",
                "proc_code",
                "maskcardnumber",
                "authenticationStatus",
                "redirect_url"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}' and user_data_31 is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_10": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
                            "txn_status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "kms_key",
                        "columnNames": [
                            "merchantid"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchantid = 'AGODA_AUTO' and pk_key is null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "remove_cvv",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {}
                    ]
                }
            }
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}' and user_data_31 is not null"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "110",
            "txnid": "",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "110",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "amt",
                "signature"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-10926",
        "OD": "cybs - Remove Domain name and migrate config to application_property table",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4"
        ],
        "payment": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "od": "testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks",
            "manualCapture": "N",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "application_property",
                        "columnNames": [
                            "application_key",
                            "NTT_DEC_PROP(application_key)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "application_key like 'cyb%'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCity"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCountry"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Ops.HK@nttdata.com",
                            "application_key": "cybersource.billToEmail"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "NTT Data",
                            "application_key": "cybersource.billToFirstName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Hong Kong",
                            "application_key": "cybersource.billToLastName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "852",
                            "application_key": "cybersource.billToPostalCode"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToState"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Kings Road Quarry Bay",
                            "application_key": "cybersource.billToStreet1"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/NTT/config/cybs.properties",
                            "application_key": "cybersource.propertiesFilePath"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/Ndhk_Api/redirect/cybersource",
                            "application_key": "cybersource.termUrlv2"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode",
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-10928",
        "OD": "Verify cybs non 3ds auth payment and void is successful with the properties from the application_property table.",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4"
        ],
        "payment": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "od": "testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks",
            "manualCapture": "Y",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "application_property",
                        "columnNames": [
                            "application_key",
                            "NTT_DEC_PROP(application_key)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "application_key like 'cyb%'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCity"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCountry"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Ops.HK@nttdata.com",
                            "application_key": "cybersource.billToEmail"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "NTT Data",
                            "application_key": "cybersource.billToFirstName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Hong Kong",
                            "application_key": "cybersource.billToLastName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "852",
                            "application_key": "cybersource.billToPostalCode"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToState"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Kings Road Quarry Bay",
                            "application_key": "cybersource.billToStreet1"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/NTT/config/cybs.properties",
                            "application_key": "cybersource.propertiesFilePath"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/Ndhk_Api/redirect/cybersource",
                            "application_key": "cybersource.termUrlv2"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode",
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-10927",
        "OD": "Verify cybs non 3ds auth payment ,captureandrefundissuccessfulwiththeurlfromapplication_propertytablewithoutdomainname",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6"
        ],
        "payment": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "od": "testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks",
            "manualCapture": "Y",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "application_property",
                        "columnNames": [
                            "application_key",
                            "NTT_DEC_PROP(application_key)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "application_key like 'cyb%'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCity"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCountry"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Ops.HK@nttdata.com",
                            "application_key": "cybersource.billToEmail"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "NTT Data",
                            "application_key": "cybersource.billToFirstName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Hong Kong",
                            "application_key": "cybersource.billToLastName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "852",
                            "application_key": "cybersource.billToPostalCode"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToState"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Kings Road Quarry Bay",
                            "application_key": "cybersource.billToStreet1"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/NTT/config/cybs.properties",
                            "application_key": "cybersource.propertiesFilePath"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/Ndhk_Api/redirect/cybersource",
                            "application_key": "cybersource.termUrlv2"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "reuse",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "manualCaptureStatus"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode",
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-10929",
        "OD": "Verify cybs 3ds purchase payment and refund is successful with the url from application_property table without domain name",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4"
        ],
        "payment": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "od": "testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks",
            "authentication": "Y",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "123456",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/table/tbody/tr/td/table/tbody/tr[4]/td/table/tbody/tr[6]/td/form/div/table/tbody/tr/td/font/b/center/table/tbody/tr[4]/td[2]/b/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode",
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-10930",
        "OD": "Verify cybs 3ds auth payment,captureandrefundissuccessfulwiththeurlfromapplication_propertytable",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6"
        ],
        "payment": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "od": "testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks",
            "authentication": "Y",
            "manualCapture": "Y",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "123456",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/table/tbody/tr/td/table/tbody/tr[4]/td/table/tbody/tr[6]/td/form/div/table/tbody/tr/td/font/b/center/table/tbody/tr[4]/td[2]/b/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "application_property",
                        "columnNames": [
                            "application_key",
                            "NTT_DEC_PROP(application_key)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "application_key like 'cyb%'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCity"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCountry"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Ops.HK@nttdata.com",
                            "application_key": "cybersource.billToEmail"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "NTT Data",
                            "application_key": "cybersource.billToFirstName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Hong Kong",
                            "application_key": "cybersource.billToLastName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "852",
                            "application_key": "cybersource.billToPostalCode"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToState"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Kings Road Quarry Bay",
                            "application_key": "cybersource.billToStreet1"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/NTT/config/cybs.properties",
                            "application_key": "cybersource.propertiesFilePath"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/Ndhk_Api/redirect/cybersource",
                            "application_key": "cybersource.termUrlv2"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "reuse",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "manualCaptureStatus"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode",
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-10931",
        "OD": "Verify cybs  3ds auth payment and void is successful with the properties from the application_property table",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-void",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4"
        ],
        "payment": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "od": "testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "123456",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/table/tbody/tr/td/table/tbody/tr[4]/td/table/tbody/tr[6]/td/form/div/table/tbody/tr/td/font/b/center/table/tbody/tr[4]/td[2]/b/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "application_property",
                        "columnNames": [
                            "application_key",
                            "NTT_DEC_PROP(application_key)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "application_key like 'cyb%'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCity"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToCountry"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Ops.HK@nttdata.com",
                            "application_key": "cybersource.billToEmail"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "NTT Data",
                            "application_key": "cybersource.billToFirstName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Hong Kong",
                            "application_key": "cybersource.billToLastName"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "852",
                            "application_key": "cybersource.billToPostalCode"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "HK",
                            "application_key": "cybersource.billToState"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "Kings Road Quarry Bay",
                            "application_key": "cybersource.billToStreet1"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/NTT/config/cybs.properties",
                            "application_key": "cybersource.propertiesFilePath"
                        },
                        {
                            "NTT_DEC_PROP(application_key)": "/Ndhk_Api/redirect/cybersource",
                            "application_key": "cybersource.termUrlv2"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "respdesc": "success",
                "respcode": "00"
            },
            "needAssert": [
                "respcode",
                "respcode"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_mode",
                            "resp_code",
                            "resp_msg",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-7933",
        "OD": "verify the manualCaptureStatus when resp_msg = FL for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-capturetable",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "udf1": "Test Reserved Field 1",
            "udf2": "Test Reserved Field 2",
            "udf3": "Test Reserved Field 3",
            "udf4": "Test Reserved Field 4",
            "udf5": "Test Reserved Field 5",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "login": "NTT_AUTO",
                "auth_code": "831000",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "login",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "capture": {
            "amt": "110",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "errorDesc": "Capture amount exceeded the uncaptured amount",
                "amt": "110",
                "errorCode": "NE3020",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01"
            },
            "needAssert": [
                "manualCaptureStatus",
                "errorDesc",
                "amt",
                "errorCode",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_43": null
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "resp_msg": "FL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "manualCaptureStatus=N"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-7932",
        "OD": "verify the manualCapture when resp_msg = OK,partial_capture=1forcybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-capturetable",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "udf1": "Test Reserved Field 1",
            "udf2": "Test Reserved Field 2",
            "udf3": "Test Reserved Field 3",
            "udf4": "Test Reserved Field 4",
            "udf5": "Test Reserved Field 5",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "login": "NTT_AUTO",
                "auth_code": "831000",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "login",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "capture": {
            "amt": "50",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "amt": "50",
                "txncurr": "HKD",
                "respcode": "00",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_43": "P"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg",
                            "partial_capture"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "resp_msg": "OK",
                            "partial_capture": "1"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "manualCaptureStatus=P"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-7931",
        "OD": "verify the manualCaptureStatus when resp_msg = OK,partial_capture=0forcybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsDB-capturetable",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "udf1": "Test Reserved Field 1",
            "udf2": "Test Reserved Field 2",
            "udf3": "Test Reserved Field 3",
            "udf4": "Test Reserved Field 4",
            "udf5": "Test Reserved Field 5",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "login": "NTT_AUTO",
                "auth_code": "831000",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "login",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "capture": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "capturetable": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg",
                            "partial_capture"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "resp_msg": "OK",
                            "partial_capture": "0"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "manualCaptureStatus=F"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6476",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "captureRequest-capture",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "result=ACKNOWLEDGED",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttCaptureResponse [result=ACKNOWLEDGED"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6475",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "captureRequest-capture",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "CaptureController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1012"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6474",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6470",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token1",
            "paymentRequest-payment",
            "oauthToken-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6469",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6465",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "login",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6464",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "od": "test29julyoauth2",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6506",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6505",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6513",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "login": "",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "pguat",
            "manualCapture": "N",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "remarks": "Test Remarks 1234",
            "channelType": "cybs",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "txncurr": "JPY",
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "login",
                "udf1",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "od=pguat",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from null to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE1012",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to null with JPY"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6512",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "accessToken": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiUGF5bWVudEdhdGV3YXkiXSwiZXhwIjoxNTk1ODQ0MzY1LCJ1c2VyX25hbWUiOiJOVFQiLCJqdGkiOiI3YWYzZGRiMS1jZDMxLTRhNDMtYmM1Ni01ZTYwYWIxN2MzNWYiLCJjbGllbnRfaWQiOiJmODliNDU5ZTZhMGI0MDEzYWRkY2U2NjM5OTE2MjA3YSIsInNjb3BlIjpbInBheW1lbnQiXX0.l78IL9x4q1Vk9iFAlKNgsqTWPPit8RiXyAvNvzfyrDEh-VD-82WqCRjyI81DnddQ0KoPw4pHvjocd-hFuOubpceEmY9BZJwY_G_xhnM-8PEwi6r04cx2Cw_vtcV3-OeBl_-c0-1IfpmV_ny_pIP0e_azJuyVs24zRWBFFh4hPBE",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "The access token has expired",
                "errorDesc": "The access token has expired",
                "errorCode": "NE0105",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "channelType=cybs",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE0105",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6511",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "accessToken": "Bearer yJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiUGF5bWVudEdhdGV3YXkiXSwiZXhwIjoxNTk1OTAyMjgxLCJ1c2VyX25hbWUiOiJOVFQiLCJqdGkiOiIwMjdkMjJhMS02NDZlLTQzNDktOTMyNC05YzRiZDFjYzRiNmMiLCJjbGllbnRfaWQiOiJmODliNDU5ZTZhMGI0MDEzYWRkY2U2NjM5OTE2MjA3YSIsInNjb3BlIjpbInBheW1lbnQiXX0.e78u9jc6WSuVvwiCKcEHw_p51A1vbwvNJ9ZwKbkUEEPbaGqhf4RB18hEHmuAUrK4BDzSpArQw41os2AoWAvUxFrW32Kr-33elvqo7oApX_GyA7oA9XXVyhnIyBrfgykPN6rnBo8IVAdt3X8UmTwlvFTDYvdJNnrxzvXRWW4VqP8",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Invalid access token format",
                "errorDesc": "Invalid access token format",
                "errorCode": "NE0104",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "channelType=cybs",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE0104",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6509",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "accessToken": "test eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsibmRoayJdLCJleHAiOjE1OTUwMDU1MzcsInVzZXJfbmFtZSI6Ik5UVCIsImp0aSI6IlhCY3BpLUVVUTR6ODFCc2hkeDdtRkliWm9yRSIsImNsaWVudF9pZCI6Ik5UVCIsInNjb3BlIjpbInJlYWQiXX0.wxgrbQgUb_pLODyyC8Nz24qeD2tvE2iTsjuXUlPVgX4",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "Incorrect access token type",
                "errorDesc": "Incorrect access token type",
                "errorCode": "NE0103",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "channelType=cybs",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "errorCode=NE0103",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6541",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8593",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "captureRequest-capture",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "CaptureController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1012"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8592",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "od": "test",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "cybs Testing-remarks",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8588",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token1",
            "paymentRequest-payment",
            "jsonOauthToken-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8587",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "cybs Testing-remarks",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8583",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8582",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7765",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "udf5": "udf5 - uat",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "login": "NTT_AUTO",
                "respcode": "00",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "login",
                "respcode",
                "udf1",
                "udf2",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7764",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token1",
            "paymentRequest-payment",
            "oauthTokenV2-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7760",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8719",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "NTT_AUTO",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "login",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8726",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "peachauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonOauthTokenV2-token",
            "paymentRequest-payment"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "master_merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'PEACH_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "master_merchant_id": "null"
                        }
                    ]
                }
            }
        },
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "PEACH_AUTO",
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=|Nivethana|CC|OTHER",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "respdesc": "fail",
                "errorDesc": "Invalid sub-merchant login",
                "errorCode": "NE0107",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8755",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "agodaauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonOauthTokenV2-token",
            "paymentRequest-payment"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "master_merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'AGODA_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "master_merchant_id": "NTT_MASTER1"
                        }
                    ]
                }
            }
        },
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "AGODA_AUTO",
            "amt": "100",
            "txnid": "testdec6uat",
            "authentication": "Y",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=|Nivethana|CC|OTHER",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "respdesc": "fail",
                "errorDesc": "Invalid sub-merchant login",
                "errorCode": "NE0107",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14843",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Purchase + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "10000",
            "txnid": "",
            "expectedResult": {
                "amt": "10000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12548",
        "OD": "CTBC Card Test Set",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327593",
                "proc_code": "100",
                "refundRefNum": "942327593419",
                "respcode": "00",
                "respdesc": "success",
                "signature": "857208e5e833eb93a0765a632f5bb47a3274f3df14a3cf10ac5b399381364007186b4639ccf9b40f3994915b01f0e3b3b132ed1d2bf475c53c07644cb59ad131",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12547",
        "OD": "CTBC Card Test Set",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "TWD",
            "expectedResult": {
                "txncurr": "TWD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 17:13:13",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327593",
                "proc_code": "100",
                "refundRefNum": "942327593419",
                "respcode": "00",
                "respdesc": "success",
                "signature": "857208e5e833eb93a0765a632f5bb47a3274f3df14a3cf10ac5b399381364007186b4639ccf9b40f3994915b01f0e3b3b132ed1d2bf475c53c07644cb59ad131",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12546",
        "OD": "CTBC Card Test Set",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "TWD",
            "expectedResult": {
                "txncurr": "TWD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 17:13:13",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327593",
                "proc_code": "100",
                "refundRefNum": "942327593419",
                "respcode": "00",
                "respdesc": "success",
                "signature": "857208e5e833eb93a0765a632f5bb47a3274f3df14a3cf10ac5b399381364007186b4639ccf9b40f3994915b01f0e3b3b132ed1d2bf475c53c07644cb59ad131",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12545",
        "OD": "CTBC Card Test Set",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 18:01:20",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "token": "9f92a28f-4ac1-4695-ac5d-c7a1f3d3cd92",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respCode",
                "respDesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012279",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327601",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "7600c099885bc370153fcb44a996638b73057fcb2493d17d8caa78898cfc5a2d74308961dada3b511aa1ac2a7a8afec0f91cee463a33a2a992ffd27a5103afc8",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327601",
                "proc_code": "100",
                "refundRefNum": "942327601046",
                "respcode": "00",
                "respdesc": "success",
                "signature": "302a80f75b419e88868c9a0c1ec042f874af0d028d22600884d35e6d414beefd647d01b30dbdd2234693df6c446b99309c84c2072f1fdc2d015924612e3e0b43",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12544",
        "OD": "CTBC Card Test Set",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "TWD",
            "expectedResult": {
                "txncurr": "TWD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 18:01:20",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "token": "9f92a28f-4ac1-4695-ac5d-c7a1f3d3cd92",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012279",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327601",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "7600c099885bc370153fcb44a996638b73057fcb2493d17d8caa78898cfc5a2d74308961dada3b511aa1ac2a7a8afec0f91cee463a33a2a992ffd27a5103afc8",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327601",
                "proc_code": "100",
                "refundRefNum": "942327601046",
                "respcode": "00",
                "respdesc": "success",
                "signature": "302a80f75b419e88868c9a0c1ec042f874af0d028d22600884d35e6d414beefd647d01b30dbdd2234693df6c446b99309c84c2072f1fdc2d015924612e3e0b43",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12543",
        "OD": "CTBC Card Test Set",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "JPY",
            "expectedResult": {
                "cardBrand": "VISA",
                "expiryMonth": "01",
                "expiryYear": "2039",
                "maskcardnumber": "411111XXXXXX1111",
                "respCode": "00",
                "respDesc": "success",
                "result": "4c7547d0-1414-47a0-b8bd-b4eea047d39f",
                "signature": "ed55ab0c9da007f575bb9d5a3db2f6bb6e8f23278f2c194bce7d5860cf0ef43052012f61f6f148d3306407648b0131b2256c2be986543561c8bb5399782732ce",
                "tokenProvider": "GATEWAY",
                "txncurr": "JPY"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 18:23:13",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "d751d2274da7f3a0dfdd1bd832a6894dfc3e6353fbb7edfcdba827e8c0a97373ffb66651a519953dd9f8a8a2251fae521efd7ca4d7fb8ff1a300364b07712a7d",
                "token": "4c7547d0-1414-47a0-b8bd-b4eea047d39f",
                "txncurr": "JPY",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012282",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327605",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "bf2f5dd6b9906285d78871c286e2aa2c390c74107b73e833ef64c3a2b47f0514ebeefad79eb8f10b6c22c2d5d6d69e4bdc54939007c49e1890b4a33542c336c2",
                "txncurr": "JPY",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "JPY",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12541",
        "OD": "verify auth cardauthentication payment is successful with aes carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12540",
        "OD": "verify auth cardauthentication payment is successful with des carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm6HnVN2W8+mg=|nivi|CC|OTHER",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "channelType": "cybs",
                "date": "2022-01-04 16:46:13",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "signature": "2b0dbe6e3be6d064acb2d8e164a2a47510a9f366e9969d16cedd31ca919623482fd6d05e49b44e5ea6223ceea38b5fae7c74e2d20c4c6f779da43c484a22b78e",
                "txncurr": "HKD",
                "txnid": "1641285972472",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012282",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327605",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "bf2f5dd6b9906285d78871c286e2aa2c390c74107b73e833ef64c3a2b47f0514ebeefad79eb8f10b6c22c2d5d6d69e4bdc54939007c49e1890b4a33542c336c2",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12539",
        "OD": "verify  3ds auth payment is successful with des carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012282",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327605",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "bf2f5dd6b9906285d78871c286e2aa2c390c74107b73e833ef64c3a2b47f0514ebeefad79eb8f10b6c22c2d5d6d69e4bdc54939007c49e1890b4a33542c336c2",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12538",
        "OD": "verify  3ds auth payment is successful with aes carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "Y",
            "cardEncryptionMethod": "AES",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "date": "2022-01-04 17:45:47",
                "login": "NTT_AUTO",
                "maskcardnumber": "401200XXXXXX7777",
                "proc_code": "475",
                "redirect_url": "https://sit.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=00b68d8350cc398d32fe2a93d362dfe5",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "signature": "4df943fef33a51f55224f58f2842f729024838c83d2b362cc791ff7e237329d56000413d7c95063180aec0858a3a57f3d81306f94628e6343656a226601fd9ae",
                "txncurr": "HKD",
                "txnid": "1641289547170",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012282",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327605",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "bf2f5dd6b9906285d78871c286e2aa2c390c74107b73e833ef64c3a2b47f0514ebeefad79eb8f10b6c22c2d5d6d69e4bdc54939007c49e1890b4a33542c336c2",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12537",
        "OD": "verify non 3ds auth payment is successful with des carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "ry/7PYufAgczETe7hlNwSpO8fvyIJoLmL198X+eNsuE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 18:23:13",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "d751d2274da7f3a0dfdd1bd832a6894dfc3e6353fbb7edfcdba827e8c0a97373ffb66651a519953dd9f8a8a2251fae521efd7ca4d7fb8ff1a300364b07712a7d",
                "token": "4c7547d0-1414-47a0-b8bd-b4eea047d39f",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012282",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327605",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "bf2f5dd6b9906285d78871c286e2aa2c390c74107b73e833ef64c3a2b47f0514ebeefad79eb8f10b6c22c2d5d6d69e4bdc54939007c49e1890b4a33542c336c2",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12535",
        "OD": "verify non 3ds auth payment is successful with aes carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "manualCapture": "Y",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2022-01-05 16:10:00",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "nttrefid": "942328960",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "captureId": "100012279",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "F",
                "nttrefid": "942327601",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "signature": "7600c099885bc370153fcb44a996638b73057fcb2493d17d8caa78898cfc5a2d74308961dada3b511aa1ac2a7a8afec0f91cee463a33a2a992ffd27a5103afc8",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327601",
                "proc_code": "100",
                "refundRefNum": "942327601046",
                "respcode": "00",
                "respdesc": "success",
                "signature": "302a80f75b419e88868c9a0c1ec042f874af0d028d22600884d35e6d414beefd647d01b30dbdd2234693df6c446b99309c84c2072f1fdc2d015924612e3e0b43",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12536",
        "OD": "verify cvv is not mapped when cvv is not sent in carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "30oct",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "carddata": "wtuY0ewq97XfDOGiMxsS5k8ZjXOFP3ixIZJLhOuhDmw=|Cardholder|CC|OTHER",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2022-01-05 16:23:30",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "nttrefid": "942328975",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=,"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327601",
                "proc_code": "100",
                "refundRefNum": "942327601046",
                "respcode": "00",
                "respdesc": "success",
                "signature": "302a80f75b419e88868c9a0c1ec042f874af0d028d22600884d35e6d414beefd647d01b30dbdd2234693df6c446b99309c84c2072f1fdc2d015924612e3e0b43",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12533",
        "OD": "verify purchase payment and full refund is successful with aes carddata and with cardAuthentication parameter",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2022-01-05 16:57:03",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "10e6e83bc594c1f38f0c8b33db6eb49d4dfd1d43399dd4fad33bf9372aa58c1bdbc724bfd22ce4e8956dddf21798fd10d9df749525813d5159917cf7f998385c",
                "txncurr": "HKD",
                "txnid": "1641373032139",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12534",
        "OD": "verify purchase payment and full refund is successful with des carddata and with cardAuthentication parameter",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm6HnVN2W8+mg=|nivi|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod1": "AES",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2022-01-05 16:57:03",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "10e6e83bc594c1f38f0c8b33db6eb49d4dfd1d43399dd4fad33bf9372aa58c1bdbc724bfd22ce4e8956dddf21798fd10d9df749525813d5159917cf7f998385c",
                "txncurr": "HKD",
                "txnid": "1641373032139",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12532",
        "OD": "verify 3ds purchase payment and full refund is successful with des carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "ry/7PYufAgczETe7hlNwSpO8fvyIJoLmL198X+eNsuE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx,"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12531",
        "OD": "verify  3ds purchase payment and full refund is successful with aes carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "XZ13aC5625frSmc4/OOJHBx3gNcxhqA5dXjeVq5cKhGPEoJAYbAVqLoo4wc=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "N",
            "cardEncryptionMethod": "AES",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "date": "2022-01-04 17:45:47",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "redirect_url": "https://sit.ndhkpay.com/Ndhk_Api/threedsecure/redirecturl?s=00b68d8350cc398d32fe2a93d362dfe5",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "signature": "4df943fef33a51f55224f58f2842f729024838c83d2b362cc791ff7e237329d56000413d7c95063180aec0858a3a57f3d81306f94628e6343656a226601fd9ae",
                "txncurr": "HKD",
                "txnid": "1641289547170",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12529",
        "OD": "verify non 3ds purchase payment and full refund is successful with aes carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "N",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2022-01-05 17:31:39",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "f6d5364ad33e0b57e61442294d76f323420e795263b7a81cfa65225571d2676ad660880691d8cd95b187a56bfa114f1543389903070196456dde46507ee7f3a7",
                "txncurr": "HKD",
                "txnid": "1641375108074",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12530",
        "OD": "verify non 3ds purchase payment and full refund is successful with des carddata",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm6HnVN2W8+mg=|nivi|CC|OTHER",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2022-01-05 17:31:39",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "a51c46d6bb7e86f48f373c81cf316e7f683e5066443c58da4852514a7d3e372f27746d6f168f15841c568f7ccd4efac154d4a5a209af77b7724fe5565eecf945",
                "txncurr": "HKD",
                "txnid": "1641375109066",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "cardCvNumber=xxx"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327605",
                "proc_code": "100",
                "refundRefNum": "942327605171",
                "respcode": "00",
                "respdesc": "success",
                "signature": "73c0d03368e5caba26b848dfa151b63a648ffc5bcd0e79f1a8212a3f3311828e42ad9076f6a3294876dfa06ce444b1f9b2d0981182fff0f5447ba47492af6c6f",
                "txncurr": "HKD",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "HKD",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14842",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Purchase + Full Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "tokenize": {
            "login": "NTT_LENSSMILE",
            "txncurr": "THB",
            "card": "4111111111111111",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expiryDate": "12/33",
            "cardHolderName": "JOHN WONG",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc"
            ]
        },
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "contact lens",
            "channelType": "cybs",
            "isEnableRetry": "false",
            "isEnrollRecurring": "false",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "THB",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14843",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Purchase + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "10000",
            "txnid": "",
            "expectedResult": {
                "amt": "10000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14844",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Full Capture + Full Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "20000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "20000",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14845",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Multiple Partial Capture + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "5000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "5000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "10000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "10000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "2000",
            "txnid": "",
            "expectedResult": {
                "amt": "2000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "4000",
            "txnid": "",
            "expectedResult": {
                "amt": "4000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog15": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog16": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14846",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Void",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_non 3DS cybs card tokenization ",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Tokenize",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm6HnVN2W8+mg=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "isEnableRetry": "false",
            "isEnrollRecurring": "false",
            "isStorePaymentMethod": "Y",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_3DS cybs card tokenization ",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Tokenize",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLogCallback2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "carddata": "14mKDMhwK7+WsG8Cp3/gHJO8fvyIJoLm6HnVN2W8+mg=|JohnDoe|CC|VISA",
            "channelType": "cybs",
            "authentication": "Y",
            "manualCapture": "N",
            "isEnableRetry": "false",
            "isEnrollRecurring": "false",
            "isStorePaymentMethod": "Y",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/table/tbody/tr/td/table/tbody/tr[4]/td/table/tbody/tr[6]/td/form/div/table/tbody/tr/td/font/b/center/table/tbody/tr[4]/td[2]/b/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14843",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Purchase + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "10000",
            "txnid": "",
            "expectedResult": {
                "amt": "10000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14844",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Full Capture + Full Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "20000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "20000",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14845",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Multiple Partial Capture + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "5000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "5000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "10000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "10000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "2000",
            "txnid": "",
            "expectedResult": {
                "amt": "2000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "4000",
            "txnid": "",
            "expectedResult": {
                "amt": "4000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog15": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog16": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14846",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Void",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_non_3ds_JPY_purchase_full refund",
        "OD": "non_3ds_JPY_purchase_full refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 17:13:13",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "JPY",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327593",
                "proc_code": "100",
                "refundRefNum": "942327593419",
                "respcode": "00",
                "respdesc": "success",
                "signature": "857208e5e833eb93a0765a632f5bb47a3274f3df14a3cf10ac5b399381364007186b4639ccf9b40f3994915b01f0e3b3b132ed1d2bf475c53c07644cb59ad131",
                "txncurr": "JPY",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_non 3ds_JPY_Auth_Full Capture_Full Refund",
        "OD": "non 3ds_JPY_Auth_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "channelType": "cybs",
                "date": "2022-01-04 16:46:13",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "signature": "2b0dbe6e3be6d064acb2d8e164a2a47510a9f366e9969d16cedd31ca919623482fd6d05e49b44e5ea6223ceea38b5fae7c74e2d20c4c6f779da43c484a22b78e",
                "txncurr": "JPY",
                "txnid": "1641285972472",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_HKD_API_Auth+Capture Failure+Cannot be refunded",
        "OD": "cybs_HKD_API_Auth + Capture Failure + Cannot be refunded",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "signature": "2b0dbe6e3be6d064acb2d8e164a2a47510a9f366e9969d16cedd31ca919623482fd6d05e49b44e5ea6223ceea38b5fae7c74e2d20c4c6f779da43c484a22b78e",
                "txncurr": "HKD",
                "txnid": "1641285972472",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "amt": "200",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "N",
                "respcode": "01",
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "manualCaptureStatus",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_msg",
                            "rrn",
                            "capture_mode",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_msg": "FL",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL",
                            "error_code": "NE3020",
                            "error_desc": "Capture amount exceeded the uncaptured amount"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4017",
                "errorDesc": "Nonrefundable transaction status - uncaptured transaction",
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - uncaptured transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3DS_API_Purchase_Cannot be captured",
        "OD": "cybs_non_3DS_API_Purchase_Cannot be captured",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 17:13:13",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status",
                            "error_description"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN",
                            "error_description": "null"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE4013",
                "errorDesc": "Uncapturable transaction status - captured transaction",
                "manualCaptureStatus": "N",
                "respcode": "01",
                "respdesc": "Uncapturable transaction status - captured transaction",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "manualCaptureStatus",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_msg",
                            "rrn",
                            "capture_mode",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_msg": "FL",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL",
                            "error_code": "NE4013",
                            "error_desc": "Uncapturable transaction status - captured transaction"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-HKD_Void",
        "OD": "Tokenize-HKD_Auth-HKD_Void",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "refundRequestV2-void",
            "frontend_cybsDB-cybsDB3"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "void": {
            "txnid": "",
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "VOID"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-JPY_Full Capture_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsDB-cybsDB8"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "30",
            "expectedResult": {
                "amt": "30",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "30.0000",
                            "pending_amt": "70.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund1": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "50",
            "expectedResult": {
                "amt": "50",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}' and pending_amt = '20.0000'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "pending_amt": "20.0000",
                            "refund_mode": "REFUND",
                            "refund_amt": "50.0000",
                            "currency": "JPY"
                        }
                    ]
                }
            }
        },
        "cybsDB8": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-JPY_Multiple Partial Capture_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "captureRequestV2-capture1",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsDB-cybsDB8",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB9",
            "frontend_cybsDB-cybsDB10"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "P"
                        }
                    ]
                }
            }
        },
        "capture1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "P"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "30",
            "expectedResult": {
                "amt": "30",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "30.0000",
                            "pending_amt": "70.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB8": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund1": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "50",
            "expectedResult": {
                "amt": "50",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB9": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}' and pending_amt= '20.0000'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "50.0000",
                            "pending_amt": "20.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB10": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-Tokenize-HKD_Purchase-JPY_Multiple Partial Refunds",
        "OD": "QA_Automation - tokenize",
        "merchantId": "nttauto",
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-DB_payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus",
            "refundRequestV2-refund1",
            "frontend_cybsDB-refundDB1",
            "frontend_cybsDB-paymentRefundstatus1"
        ],
        "tokenize": {
            "card": "5424820003841911",
            "expiryDate": "12/31",
            "cardType": "CC",
            "cvv": "111",
            "name": "English Name",
            "txncurr": "HKD",
            "email": "sadasdas@asdasd.com",
            "verifyRequest": true,
            "customerId": "100000",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "authentication": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "auth_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "amount": "100.0000"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "50.0000",
                            "currency": "JPY",
                            "txn_amt": "100.0000",
                            "pending_amt": "50.0000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "50.0000",
                            "currency": "JPY",
                            "txn_amt": "100.0000",
                            "pending_amt": "50.0000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "40.0000",
                            "currency": "JPY",
                            "txn_amt": "100.0000",
                            "pending_amt": "10.0000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway_Auth - isStorePaymentMethod=true_Auth with new token_Full Refund",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "refundRequestV2-void"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payment1": {
            "bodyCarddata": false,
            "nttrefid": null,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "token": "3d1b8bb0-4fd9-4daa-adcd-8eb7dcc8cde4",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "void": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_purchase - isStorePaymentMethod=true_purchase with new token_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payment1": {
            "bodyCarddata": false,
            "nttrefid": null,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "token": "3d1b8bb0-4fd9-4daa-adcd-8eb7dcc8cde4",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8575",
        "OD": "API /custom/declare:If channelType is not wechatpay or alipay or unionpay, it will return NE3034",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "wechatpay",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "customDeclare-customDeclare"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "manualCapture": "N",
                "udf5": "udf5 - uat",
                "amt": "210",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCaptureStatus",
                "manualCapture",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "login",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "customDeclare": {
            "custom": "NINGBO",
            "merchantCustomNumber": "63463",
            "dutyAmount": "200",
            "subOrderId": "S12214125",
            "orderAmount": "200",
            "transportAmount": "100",
            "productAmount": "100",
            "certType": "",
            "certNo": "",
            "certName": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "errorCode": "NE3036",
                "errorDesc": "The processor of the transaction does not support custom declaration.",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "The processor of the transaction does not support custom declaration.",
                "signature": "fd203165b6dc337a0858ef0c2d83edffe70ddd8a869b53c6e3e48c3ccb3e51b93e05c0dde1769082cbedfb252852d2990326799557f104b2a9d06d772590e2a3"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8714",
        "OD": "verify Duplicate Transaction Check - cybs",
        "merchantId": "ntta1auto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "paymentRequest-payment2",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "channelType": "cybs",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastname",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "amt": "1000",
                "auth_code": "831000",
                "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
                "channelType": "cybs",
                "date": "2021-12-27 16:08:01",
                "login": "NTT_a1_AUTO",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "signature": "9a01786f5aa3c68bd15b1428dfb522035479571e2ecab2e35490b58fa973c7696d9fc9815a866091be0c526fcdc8bb54d6fbc5f7bb846880b8d8d7ba839b8c6e",
                "txncurr": "JPY",
                "txnid": "1640592481325"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "stage",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "stage": "Transaction Completed",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "payment2": {
            "amt": "1000",
            "txnid": "reuse",
            "txncurr": "JPY",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "channelType": "cybs",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastname",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "amt": "1000",
                "date": "2021-12-16 16:40:12",
                "errorCode": "NE3035",
                "errorDesc": "Duplicated Transaction",
                "login": "NTT_a1_AUTO",
                "respcode": "01",
                "respdesc": "fail",
                "signature": "c6eebc9be1437b9c1b7682478a61cdcb4a8c359dac79e9f7642943c5cdde8194d36c8706c212f7234beb206a2600a67c9d41da902b8ae03b9460fa8edbe6784c",
                "txncurr": "JPY",
                "txnid": "1639644014235"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8700",
        "OD": "Test CHINA - Customs Declaration for AlipayIf channelType is not wechatpay or alipay or unionpay, it will return NE3036",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "alipay",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "customDeclare-customDeclare"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "manualCapture": "N",
                "udf5": "udf5 - uat",
                "amt": "210",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCaptureStatus",
                "manualCapture",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "login",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "customDeclare": {
            "custom": "NINGBO",
            "merchantCustomNumber": "63463",
            "dutyAmount": "200",
            "subOrderId": "S12214125",
            "orderAmount": "200",
            "transportAmount": "100",
            "productAmount": "100",
            "certType": "",
            "certNo": "",
            "certName": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "errorCode": "NE3036",
                "errorDesc": "The processor of the transaction does not support custom declaration.",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "The processor of the transaction does not support custom declaration.",
                "signature": "fd203165b6dc337a0858ef0c2d83edffe70ddd8a869b53c6e3e48c3ccb3e51b93e05c0dde1769082cbedfb252852d2990326799557f104b2a9d06d772590e2a3"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14843",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Purchase + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "10000",
            "txnid": "",
            "expectedResult": {
                "amt": "10000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14844",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Full Capture + Full Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "20000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "20000",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14845",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Multiple Partial Capture + Multiple Partial Refund",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "5000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "5000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "10000",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "10000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "2000",
            "txnid": "",
            "expectedResult": {
                "amt": "2000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "4000",
            "txnid": "",
            "expectedResult": {
                "amt": "4000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog15": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog16": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14846",
        "OD": "[v1] - [CYBS] - [card] - [API] - NTT_LENSSMILE - Token Auth + Void",
        "merchantId": "nttlenssmile",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "token": "6dd4c119-f9e0-4126-bb16-fdb966003740",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_LENSSMILE to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_LENSSMILE"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5859",
        "OD": "riskfied test",
        "Skip": false,
        "merchantId": "nttm1auto",
        "caseType": "Riskified",
        "testFlow": [
            "frontend_cybsDB-cybsDB",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsLog-cybsLog13",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "fraud_config",
                        "columnNames": [
                            "fraud_on",
                            "default_on",
                            "auto_refund"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_M_1'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "fraud_on": "1",
                            "default_on": "1",
                            "auto_refund": "0"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "3000",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "N",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "fraudControl": "Y",
            "fraudData": {
                "order": {
                    "name": "Joe",
                    "email": "test@approve.com",
                    "gateway": "authorize_net",
                    "browser_ip": "111.111.111.111",
                    "total_discounts": 10,
                    "cart_token": "68778783ad298f1c80c3bafcddeea02f",
                    "device_id": "01234567-89ABCDEF-01234567-89ABCDEF",
                    "referring_site": "google.com",
                    "line_items": [
                        {
                            "price": 329,
                            "quantity": 1,
                            "title": "Apple Watch Series 3 GPS,38mmSilverAluminumCasewithFogSportBand",
                            "product_id": "632910392",
                            "category": "electronics",
                            "brand": "apple",
                            "product_type": "physical"
                        }
                    ],
                    "discount_codes": [
                        {
                            "amount": 10,
                            "code": "TENOFF"
                        }
                    ],
                    "shipping_lines": [
                        {
                            "price": 0,
                            "title": "Free Shipping"
                        }
                    ],
                    "customer": {
                        "email": "bob.norman@hostmail.com",
                        "verified_email": true,
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "id": "207119551",
                        "created_at": "2021-04-23 13:36:50"
                    },
                    "billing_address": {
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "address1": "Chestnut Street 92",
                        "country": "United States",
                        "country_code": "US",
                        "phone": "555-625-1199",
                        "city": "Louisville",
                        "province": "Kentucky",
                        "province_code": "KY",
                        "zip": "40202"
                    },
                    "shipping_address": {
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "address1": "Chestnut Street 92",
                        "country": "United States",
                        "country_code": "US",
                        "phone": "555-625-1199",
                        "city": "Louisville",
                        "province": "Kentucky",
                        "province_code": "KY",
                        "zip": "40202"
                    },
                    "source": "desktop_web",
                    "client_details": {
                        "accept_language": "en-CA",
                        "user_agent": "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)"
                    }
                }
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "3000",
                "txncurr": "JPY",
                "channelType": "cybs",
                "respcode": "00",
                "login": "NTT_M_1_AUTO",
                "udf1": "Merchant Defined Field 1 Testing",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "fraudStatus": "Y",
                "fraudResult": {
                    "status": "approved",
                    "description": "Reviewed and approved by Riskified",
                    "score": "0"
                }
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "login",
                "udf1",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "fraudStatus",
                "fraudResult"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "payment_type",
                            "channel_type",
                            "txn_status",
                            "response_code",
                            "stage",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "payment_type": "card",
                            "channel_type": "cybs",
                            "txn_status": "OK",
                            "response_code": "100",
                            "stage": "Transaction Completed",
                            "rrn": "isNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "fraud_log",
                        "columnNames": [
                            "fraud_control",
                            "status",
                            "fraud_data"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "fraud_control": "1",
                            "status": "Y",
                            "fraud_data": "#Contains-order"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "3000",
            "txnid": "",
            "fraudControl": "Y",
            "fraudData": {
                "refunds": [
                    {
                        "reason": "I want to refund"
                    },
                    {
                        "reason": "I really want to refund"
                    }
                ],
                "cancel_reason": "I want to cancel"
            },
            "expectedResult": {
                "amt": "3000",
                "txncurr": "JPY",
                "respcode": "00",
                "respdesc": "success",
                "fraudResult": {
                    "old_status": "approved",
                    "score": "0",
                    "description": "Excluded by Riskified (due to cancellation)",
                    "status": "cancelled"
                }
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "fraudResult"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS",
                            "rrn": "isNotNull",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_M_1_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_M_1_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_M_1_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_M_1_AUTO"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_M_1_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Decide request from NTT to Riskified with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Decide response from Riskified to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "RiskifiedResponse"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_M_1_AUTO to NTT with "
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Cancel request from NTT to Riskified with JPY"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Cancel response from Riskified to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog15": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_M_1_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-JPY_Auth-JPY_Void",
        "OD": "Tokenize-HKD_Auth-HKD_Void",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "refundRequestV2-void",
            "frontend_cybsDB-cybsDB3"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "void": {
            "txnid": "",
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "VOID"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Auth - isStorePaymentMethod=true_Auth with new token_Full Refund",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "refundRequestV2-void"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payment1": {
            "bodyCarddata": false,
            "nttrefid": null,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "token": "3d1b8bb0-4fd9-4daa-adcd-8eb7dcc8cde4",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "void": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_purchase - isStorePaymentMethod=true_purchase with new token_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payment1": {
            "bodyCarddata": false,
            "nttrefid": null,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "token": "3d1b8bb0-4fd9-4daa-adcd-8eb7dcc8cde4",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7765",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "udf5": "udf5 - uat",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "login": "NTT_AUTO",
                "respcode": "00",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "login",
                "respcode",
                "udf1",
                "udf2",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7764",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token1",
            "paymentRequest-payment",
            "oauthTokenV2-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7760",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8719",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "NTT_AUTO",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "login",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8726",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "peachauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonOauthTokenV2-token",
            "paymentRequest-payment"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "master_merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'PEACH_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "master_merchant_id": "null"
                        }
                    ]
                }
            }
        },
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "PEACH_AUTO",
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=|Nivethana|CC|OTHER",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "respdesc": "fail",
                "errorDesc": "Invalid sub-merchant login",
                "errorCode": "NE0107",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8755",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "agodaauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonOauthTokenV2-token",
            "paymentRequest-payment"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "master_merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'AGODA_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "master_merchant_id": "NTT_MASTER1"
                        }
                    ]
                }
            }
        },
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "AGODA_AUTO",
            "amt": "100",
            "txnid": "testdec6uat",
            "authentication": "Y",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=|Nivethana|CC|OTHER",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "respdesc": "fail",
                "errorDesc": "Invalid sub-merchant login",
                "errorCode": "NE0107",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7765",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "udf5": "udf5 - uat",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "login": "NTT_AUTO",
                "respcode": "00",
                "udf1": "udf1 - uat",
                "udf2": "udf2 - uat",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "login",
                "respcode",
                "udf1",
                "udf2",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7764",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token1",
            "paymentRequest-payment",
            "oauthTokenV2-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7760",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8719",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthTokenV2-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "NTT_AUTO",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "login",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8726",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "peachauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonOauthTokenV2-token",
            "paymentRequest-payment"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "master_merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'PEACH_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "master_merchant_id": "null"
                        }
                    ]
                }
            }
        },
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "PEACH_AUTO",
            "amt": "100",
            "txnid": "generate",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=|Nivethana|CC|OTHER",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "respdesc": "fail",
                "errorDesc": "Invalid sub-merchant login",
                "errorCode": "NE0107",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8755",
        "OD": "v2 oauth2 TestSet",
        "merchantId": "agodaauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonOauthTokenV2-token",
            "paymentRequest-payment"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "master_merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'AGODA_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "master_merchant_id": "NTT_MASTER1"
                        }
                    ]
                }
            }
        },
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "AGODA_AUTO",
            "amt": "100",
            "txnid": "testdec6uat",
            "authentication": "Y",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm9jrrqK/0Sdc=|Nivethana|CC|OTHER",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "respdesc": "fail",
                "errorDesc": "Invalid sub-merchant login",
                "errorCode": "NE0107",
                "respcode": "01"
            },
            "needAssert": [
                "respdesc",
                "errorDesc",
                "errorCode",
                "respcode"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5397",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "requeryRequestV3-requeryV3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "merchantDescriptor",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "requeryV3": {
            "login": "AGODA",
            "pass": "Agoda@123",
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "Related transaction not found",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5396",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "Regression Testing",
        "testFlow": [
            "paymentRequest-payment",
            "requeryRequestV2-requeryV2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "auth_code",
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "merchantDescriptor",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "requeryV2": {
            "login": "NTT",
            "pass": "Ntt@123",
            "txnid": "reuse",
            "expectedResult": {
                "respdesc": "Related transaction not found",
                "respcode": "01"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6476",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "captureRequest-capture",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "result=ACKNOWLEDGED",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttCaptureResponse [result=ACKNOWLEDGED"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6475",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "captureRequest-capture",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "CaptureController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1012"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6474",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6470",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token1",
            "paymentRequest-payment",
            "oauthToken-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6469",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6465",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "login",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6464",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "od": "test29julyoauth2",
            "txncurr": "HKD",
            "channelType": "cybs",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6506",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6505",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-6541",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "oauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT_AUTO",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8593",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "captureRequest-capture",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "result": "Missing parameter - login",
                "errorDesc": "Missing parameter - login",
                "errorCode": "NE1012"
            },
            "needAssert": [
                "result",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from null to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "CaptureController",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1012"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8592",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "od": "test",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "cybs Testing-remarks",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8588",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token1",
            "paymentRequest-payment",
            "jsonOauthToken-token2",
            "frontend_cybsLog-cybsLog1",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token1": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "token2": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8587",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "cybs Testing-remarks",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "login": "NTT",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "rrn",
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8583",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "login": "",
            "pass": "",
            "txnid": "reuse",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "login": "NTT",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "manualCaptureStatus",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "rrn",
                            "resp_code",
                            "resp_msg",
                            "Currency",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "Currency": "HKD",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-8582",
        "OD": "oauth2 TestSet",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "oauth2",
        "testFlow": [
            "jsonOauthToken-token",
            "paymentRequest-payment",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "password",
            "username": "NTT",
            "password": "Ntt@123",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment"
            },
            "needAssert": [
                "token_type",
                "scope"
            ]
        },
        "payment": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "amt": "100",
            "txnid": "generate",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "test",
            "txncurr": "HKD",
            "authentication": "Y",
            "channelType": "cybs",
            "flightDetails": {
                "passengerName": "Nivethana",
                "transactionType": "01",
                "documentType": "01",
                "flightNumber": "KA 896",
                "flightCarrierCode": "KA",
                "flightClassCode": "123",
                "flightDepartureTime": "2019-09-26 00:00",
                "flightArrivalTime": "2019-09-26 00:00",
                "flightAirportCode": "abf,tga|ggg,jjj"
            },
            "callbackUrl": "https://webhook.site/ecb0b5ee-a690-42c6-b5f5-a8315a5f276f",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "Test Remarks 1234",
            "udf1": "Test UDF 1",
            "udf2": "Test UDF 2",
            "udf3": "Test UDF 3",
            "udf4": "Test UDF 4",
            "udf5": "Test UDF 5",
            "expectedResult": {
                "amt": "100",
                "authenticationStatus": "Y",
                "login": "NTT",
                "maskcardnumber": "400000XXXXXX0002",
                "proc_code": "475",
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page",
                "txncurr": "HKD",
                "udf1": "Test UDF 1",
                "udf2": "Test UDF 2",
                "udf3": "Test UDF 3",
                "udf4": "Test UDF 4",
                "udf5": "Test UDF 5"
            },
            "needAssert": [
                "amt",
                "authenticationStatus",
                "login",
                "maskcardnumber",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "check_token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Create a connection to"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7523_1./v2/captureRequest - verify the capture with errorCode NE3020 with Captured amount exceeded uncaptured amount",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "200",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "2.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE3020",
                            "error_desc": "Capture amount exceeded the uncaptured amount"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7520_3./v2/captureRequest - verify the capture with errorCode NE4014 with Uncapturable transaction status - voided transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-refund",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "void": {
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Uncapturable transaction status - voided transaction",
                "errorCode": "NE4014",
                "errorDesc": "Uncapturable transaction status - voided transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "refund": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId": [
                        {
                            "refund_mode": "VOID",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE4014",
                            "error_desc": "Uncapturable transaction status - voided transaction"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7517_5./v2/captureRequest - verify the capture with errorCode NE4013 with Uncapturable trasaction status - captured transaction",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "captureRequestV2-capture152",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture152": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Uncapturable transaction status - captured transaction",
                "errorCode": "NE4013",
                "errorDesc": "Uncapturable transaction status - captured transaction"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "1.0000",
                            "error_desc": null,
                            "resp_code": "100",
                            "currency": "HKD",
                            "error_code": null,
                            "resp_msg": "OK"
                        },
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "1.0000",
                            "error_desc": "Uncapturable transaction status - captured transaction",
                            "resp_code": null,
                            "currency": "HKD",
                            "error_code": "NE4013",
                            "resp_msg": "FL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7524_7./v2/captureRequest - verify the capture with processors!=omise with capture amt<transaction amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "10",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "amt": "10",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "0.1000",
                            "error_desc": null,
                            "resp_code": "100",
                            "currency": "HKD",
                            "error_code": null,
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7512_8./v2/captureRequest - verify the capture with errorCode NE1026 with Missing parameter - signature",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "signature": "skip",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - signature",
                "errorCode": "NE1026",
                "errorDesc": "Missing parameter - signature"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "capture_amt": "1.0000",
                            "error_desc": "Missing parameter - signature",
                            "resp_code": null,
                            "currency": "HKD",
                            "error_code": "NE1026",
                            "resp_msg": "FL"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7504_9./v2/captureRequest - verify the capture with errorCode NE3022 with Related transaction not found",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "nttrefid": "",
            "txnid": "12gffd363REER",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7497_11./v2/captureRequest - verify the capture with errorCode NE1012 with Missing parameter - login",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - login",
                "errorCode": "NE1012",
                "errorDesc": "Missing parameter - login"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1012",
                            "error_desc": "Missing parameter - login"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "NDHK-7499_12./v2/captureRequest - verify the capture with errorCode NE1013 with missing parameter - pass",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - pass",
                "errorCode": "NE1013",
                "errorDesc": "Missing parameter - pass"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1013",
                            "error_desc": "Missing parameter - pass"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "14./v2/captureRequest - verify the capture with errorCode NE3022 with Related transaction not found",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "nttrefid": "12399879112",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Related transaction not found",
                "errorCode": "NE3022",
                "errorDesc": "Related transaction not found"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid} order by created_at desc"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": null,
                            "capture_amt": "100.0000",
                            "txn_amt": "0.0000",
                            "error_code": "NE3022",
                            "error_desc": "Related transaction not found"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "15./v2/captureRequest - verify the capture with errorCode NE1022 with Missing parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - amt",
                "errorCode": "NE1022",
                "errorDesc": "Missing parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "0.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1022",
                            "error_desc": "Missing parameter - amt"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "16./v2/captureRequest - verify the capture with errorCode NE1023 with Invalid parameter - amt",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "-1",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid parameter - amt",
                "errorCode": "NE1023",
                "errorDesc": "Invalid parameter - amt"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "0.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE1023",
                            "error_desc": "Invalid parameter - amt"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "17./v2/captureRequest - verify the capture with errorCode NE1024 with requested amt is not in accepted range",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "9999999999999999999999",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Requested amt is not in acceptable range",
                "errorCode": "NE1024",
                "errorDesc": "Requested amt is not in acceptable range"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "999999999999999999.9900",
                            "txn_amt": "1.00",
                            "error_code": "NE1024",
                            "error_desc": "Requested amt is not in acceptable range"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "18./v2/captureRequest - verify the capture with errorCode NE0100 with invalid API credentials",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "abc",
            "amt": "100",
            "callbackUrl": "https://webhook.site/d1e4b0c7-6058-43cb-99dc-a2a7814434b6",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE0100",
                            "error_desc": "Invalid API credentials"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "19./v2/captureRequest - verify the capture with errorCode NE0100 with Invalid API credentials-pass is invalid",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT1",
            "pass": "Ntt@123",
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE0100",
                            "error_desc": "Invalid API credentials"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "20./v2/captureRequest - verify the capture with errorCode NE0100 with Invalid API credentials-signature is invalid",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture151",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "login": "NTT_AUTO",
            "pass": "Ntt@123",
            "amt": "100",
            "signature": "123",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Invalid API credentials",
                "errorCode": "NE0100",
                "errorDesc": "Invalid API credentials"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorcode",
                "errordesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "txn_type",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "txn_type": "AUTH",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "currency",
                            "capture_amt",
                            "txn_amt",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "currency": "HKD",
                            "capture_amt": "1.0000",
                            "txn_amt": "1.00",
                            "error_code": "NE0100",
                            "error_desc": "Invalid API credentials"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7503",
        "OD": "For cybs. do Auth payment successful. if txnid is missing in capture request. It will return errorCode='NE1019' and errorDesc='Missing parameter - nttrefid OR txnid'",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-paymentRequest",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "captureRequestV2-capture",
            "frontend_cybsLog-cybsLogCallback"
        ],
        "paymentRequest": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "od - uat testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "channelType": "cybs",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "remarks": "remarks",
            "authentication": "N",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "nttrefid": "",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Missing parameter - nttrefid OR txnid",
                "errorCode": "NE1019",
                "errorDesc": "Missing parameter - nttrefid OR txnid"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLogCallback": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-7507",
        "OD": "For cybs.do Auth payment successful.In capture,txnidhavemultipletransactionrecords.ItwillreturnerrorCode='NE3025'",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-paymentRequest",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "paymentRequest-paymentRequest1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "captureRequestV2-capture",
            "frontend_cybsLog-cybsLogCallback"
        ],
        "paymentRequest": {
            "amt": "100",
            "txnid": "testmultipletxnid",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "od - uat testing",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "channelType": "cybs",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "remarks": "remarks",
            "authentication": "N",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "paymentRequest1": {
            "amt": "100",
            "txnid": "testmultipletxnid",
            "txncurr": "HKD",
            "nttrefid": "",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "od": "od - uat testing111",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "channelType": "cybs",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "remarks": "remarks111",
            "authentication": "N",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorization response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "nttrefid": "",
            "txnid": "testmultipletxnid",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "01",
                "respdesc": "Multiple transaction records found for the same txnid, please query by nttrefid again.",
                "errorCode": "NE3025",
                "errorDesc": "Multiple transaction records found for the same txnid, please query by nttrefid again."
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc"
            ]
        },
        "cybsLogCallback": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6922",
        "OD": "Verify the UDF5 should be able to support non-ASCII characters",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "udf1": "",
            "udf2": "",
            "udf3": "",
            "udf4": "",
            "udf5": "",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6921",
        "OD": "Verify the UDF4 should be able to support non-ASCII characters",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "udf1": "",
            "udf2": "",
            "udf3": "",
            "udf4": "",
            "udf5": "",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6920",
        "OD": "Verify the UDF3 should be able to support non-ASCII characters",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "udf1": "",
            "udf2": "",
            "udf3": "",
            "udf4": "",
            "udf5": "",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6919",
        "OD": "Verify the UDF2 should be able to support non-ASCII characters",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "udf1": "",
            "udf2": "",
            "udf3": "",
            "udf4": "",
            "udf5": "",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-6918",
        "OD": "Verify the UDF1 should be able to support non-ASCII characters",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequest-capture151"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100",
                "captureId": true
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture151": {
            "amt": "100",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "udf1": "",
            "udf2": "",
            "udf3": "",
            "udf4": "",
            "udf5": "",
            "expectedResult": {
                "result": "ACKNOWLEDGED"
            },
            "needAssert": [
                "result"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4167",
        "OD": "Verify the Invalid data value - udf1 with error code NE1085",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "100",
            "txnid": "test",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
            "udf2": "udf2 - test",
            "udf3": "udf3 - test",
            "udf4": "udf4 - test",
            "udf5": "udf5 - test",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1085",
                "errorDesc": "Invalid parameter - udf1",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - udf1",
                "txnid": "test"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "txncurr",
                "login",
                "respcode",
                "respdesc",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4168",
        "OD": "Verify the Invalid data value - udf2 with error code NE1086",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "100",
            "txnid": "test",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - test",
            "udf2": "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
            "udf3": "udf3 - test",
            "udf4": "udf4 - test",
            "udf5": "udf5 - test",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1086",
                "errorDesc": "Invalid parameter - udf2",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - udf2",
                "txnid": "test"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "txncurr",
                "login",
                "respcode",
                "respdesc",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4169",
        "OD": "Verify the Invalid data value - udf3 with error code NE1087",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "100",
            "txnid": "test",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - test",
            "udf2": "udf2 - test",
            "udf3": "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
            "udf4": "udf4 - test",
            "udf5": "udf5 - test",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1087",
                "errorDesc": "Invalid parameter - udf3",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - udf3",
                "txnid": "test"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "txncurr",
                "login",
                "respcode",
                "respdesc",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4170",
        "OD": "Verify the Invalid data value - udf4 with error code NE1088",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "100",
            "txnid": "test",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - test",
            "udf2": "udf2 - test",
            "udf3": "udf3 - test",
            "udf4": "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
            "udf5": "udf5 - test",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1088",
                "errorDesc": "Invalid parameter - udf4",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - udf4",
                "txnid": "test"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "txncurr",
                "login",
                "respcode",
                "respdesc",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4171",
        "OD": "Verify the Invalid data value - udf5 with error code NE1089",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "100",
            "txnid": "test",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - test",
            "udf2": "udf2 - test",
            "udf3": "udf3 - test",
            "udf4": "udf4 - test",
            "udf5": "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1089",
                "errorDesc": "Invalid parameter - udf5",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - udf5",
                "txnid": "test"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "txncurr",
                "login",
                "respcode",
                "respdesc",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4204",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "50",
                "txncurr": "HKD",
                "captureId": "75747",
                "respcode": "00",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "login"
            ]
        },
        "capture1": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "50",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "login"
            ]
        },
        "requeryV3": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4203",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "flightdetailstest",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "flightdetailstest",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txnid"
            ]
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "50",
                "txncurr": "HKD",
                "captureId": "75747",
                "respcode": "00",
                "login": "NTT_AUTO",
                "txnid": "flightdetailstest"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid",
                "login"
            ]
        },
        "capture1": {
            "amt": "50",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "50",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "login"
            ]
        },
        "requeryV3": {
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4197",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "flightdetailstest",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "flightdetailstest",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txnid",
                "auth_code"
            ]
        },
        "requeryV3": {
            "txnid": "",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "flightdetailstest",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "accounttype": "Credit Card",
                "mobile": "",
                "channelType": "cybs",
                "refundedAmount": "0",
                "capturedAmount": "1.0000",
                "voidedAmount": "0",
                "paymentMethod": "01",
                "captureId": "79270",
                "manualCapture": "N",
                "udf1": "udf1 - sandbox",
                "udf2": "udf2 - sandbox",
                "udf3": "udf3 - sandbox",
                "udf4": "udf4 - sandbox",
                "udf5": "udf5 - sandbox"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4198",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "auth_code"
            ]
        },
        "requeryV3": {
            "nttrefid": "",
            "txnid": "reuse",
            "expectedResult": {
                "voidedAmount": "0",
                "capturedAmount": "1.0000",
                "manualCapture": "N",
                "accounttype": "Credit Card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "01",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "auth_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4199",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "flightdetailstest",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "flightdetailstest",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txnid"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "login": "NTT_AUTO",
                "txnid": "flightdetailstest"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid",
                "login"
            ]
        },
        "requeryV3": {
            "od": "cybspayment",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "accounttype": "Credit Card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txnid": "flightdetailstest",
                "voidedAmount": "0",
                "capturedAmount": "1.0000",
                "manualCapture": "Y",
                "mobile": "",
                "udf5": "udf5",
                "captureDetails": [
                    {
                        "date": "2020-04-27 10:51:03",
                        "proc_code": "00",
                        "amt": "1.0000",
                        "captureId": "79311",
                        "respcode": "00"
                    }
                ],
                "udf3": "udf3",
                "udf4": "udf4",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "paymentMethod": "01",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "date": "2020-04-27 10:51:03",
                        "captureId": "79311",
                        "captureAmount": "100"
                    }
                },
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr",
                "txnid"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4200",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        },
        "requeryV3": {
            "nttrefid": "",
            "txnid": "reuse",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "accounttype": "Credit Card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "1.0000",
                "manualCapture": "Y",
                "mobile": "",
                "udf5": "udf5",
                "captureDetails": [
                    {
                        "date": "2020-04-27 10:55:19",
                        "proc_code": "00",
                        "amt": "1.0000",
                        "captureId": "79319",
                        "respcode": "00"
                    }
                ],
                "udf3": "udf3",
                "udf4": "udf4",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "paymentMethod": "01",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "date": "2020-04-27 10:55:19",
                        "captureId": "79319",
                        "captureAmount": "100"
                    }
                },
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4201",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-refund",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "flightdetailstest",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "txnid": "flightdetailstest",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txnid"
            ]
        },
        "refund": {
            "txnid": "reuse",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "requeryV3": {
            "txnid": "reuse",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "accounttype": "Credit Card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "maskedCardNumber": "545721XXXXXX0019",
                "respdesc": "success",
                "proc_code": "100",
                "voidDetails": [
                    {
                        "proc_code": "00",
                        "amt": "100",
                        "respcode": "00"
                    }
                ],
                "voidedAmount": "100",
                "capturedAmount": "0",
                "manualCapture": "Y",
                "mobile": "",
                "udf5": "udf5",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "paymentMethod": "01",
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-4202",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-refund",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "cybspayment",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "Y",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "auth_code": "831000",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "credit",
                "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "test-udf",
                "udf2": "udf2",
                "udf3": "udf3",
                "udf4": "udf4",
                "udf5": "udf5"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "txnid": "reuse",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "requeryV3": {
            "nttrefid": "",
            "txnid": "reuse",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "accounttype": "Credit Card",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "voidedAmount": "0",
                "capturedAmount": "1.0000",
                "manualCapture": "Y",
                "mobile": "",
                "udf5": "udf5",
                "captureDetails": [
                    {
                        "date": "2020-04-27 10:51:03",
                        "proc_code": "00",
                        "amt": "1.0000",
                        "captureId": "79311",
                        "respcode": "00"
                    }
                ],
                "udf3": "udf3",
                "udf4": "udf4",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "paymentMethod": "01",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "date": "2020-04-27 10:51:03",
                        "captureId": "79311",
                        "captureAmount": "100"
                    }
                },
                "refundedAmount": "0"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5580",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "requeryRequestV2-requeryV2",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "txncurr": "HKD",
            "od": "cybspayment",
            "channelType": "cybs",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "manualCapture": "N",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "udf4": "udf4",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "merchantDescriptor",
                "login",
                "auth_code",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respdesc",
                "respcode",
                "signature"
            ]
        },
        "requery": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "manualCapture": "N",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature"
            ]
        },
        "requeryV2": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "manualCapture": "N",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature"
            ]
        },
        "requeryV3": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "manualCapture": "N",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "signature": "{{ResponseSignature}}",
                "refundDetails": [
                    {
                        "respcode": "00",
                        "amt": "100",
                        "proc_code": "00"
                    }
                ]
            },
            "needAssert": [
                "manualCapture",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "refundDetails"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5579",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "requeryRequestV2-requeryV2",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "txncurr": "HKD",
            "od": "cybspayment",
            "channelType": "cybs",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "N",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "udf4": "udf4",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "merchantDescriptor",
                "login",
                "auth_code",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respdesc",
                "respcode",
                "signature"
            ]
        },
        "requery": {
            "txnid": "",
            "expectedResult": {
                "manualCapture": "N",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature"
            ]
        },
        "requeryV2": {
            "txnid": "",
            "expectedResult": {
                "manualCapture": "N",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature"
            ]
        },
        "requeryV3": {
            "txnid": "",
            "expectedResult": {
                "manualCapture": "N",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "signature": "{{ResponseSignature}}",
                "refundDetails": [
                    {
                        "respcode": "00",
                        "amt": "100",
                        "proc_code": "00"
                    }
                ]
            },
            "needAssert": [
                "manualCapture",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "refundDetails"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5578",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "requeryRequestV2-requeryV2",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "txncurr": "HKD",
            "od": "cybspayment",
            "channelType": "cybs",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "Y",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "udf4": "udf4",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "merchantDescriptor",
                "login",
                "auth_code",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "reuse",
            "nttrefid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "100",
                "proc_code": "100",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respdesc",
                "respcode"
            ]
        },
        "requery": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "Y",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "100"
                    }
                },
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "manualCaptureRecord"
            ]
        },
        "requeryV2": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "Y",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "100"
                    }
                },
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "manualCaptureRecord"
            ]
        },
        "requeryV3": {
            "txnid": "reuse",
            "nttrefid": "",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "Y",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "100"
                    }
                },
                "signature": "{{ResponseSignature}}",
                "refundDetails": [
                    {
                        "proc_code": "00",
                        "amt": "100",
                        "respcode": "00"
                    }
                ],
                "captureDetails": [
                    {
                        "amt": "100",
                        "respcode": "00"
                    }
                ]
            },
            "needAssert": [
                "manualCapture",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "manualCaptureRecord",
                "refundDetails",
                "captureDetails"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-5577",
        "OD": "QA_Automation",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "v3requeryRequest",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "requeryRequest-requery",
            "requeryRequestV2-requeryV2",
            "requeryRequestV3-requeryV3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "txncurr": "HKD",
            "od": "cybspayment",
            "channelType": "cybs",
            "merchantDescriptor": "CTM SGP - HI1040430612",
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "remarks": "paymaya Testing-remarks",
            "udf1": "test-udf",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "expectedResult": {
                "manualCapture": "Y",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "merchantDescriptor": "CTM SGP - HI1040430612",
                "udf4": "udf4",
                "respcode": "00",
                "login": "NTT_AUTO",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "Transaction Authorization Succeeded",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "merchantDescriptor",
                "login",
                "auth_code",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "amt": "100",
                "proc_code": "100",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respdesc",
                "respcode",
                "signature"
            ]
        },
        "requery": {
            "txnid": "",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "Y",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "100"
                    }
                },
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "manualCaptureRecord"
            ]
        },
        "requeryV2": {
            "txnid": "",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "Y",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "100"
                    }
                },
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "manualCapture",
                "accounttype",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "manualCaptureRecord"
            ]
        },
        "requeryV3": {
            "txnid": "",
            "expectedResult": {
                "manualCaptureStatus": "F",
                "manualCapture": "Y",
                "accounttype": "card",
                "mobile": "",
                "udf5": "udf5",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "udf3": "udf3",
                "udf4": "udf4",
                "respcode": "00",
                "udf1": "test-udf",
                "udf2": "udf2",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card",
                "manualCaptureRecord": {
                    "numberOfCapture": "1",
                    "captureRecord1": {
                        "captureAmount": "100"
                    }
                },
                "signature": "{{ResponseSignature}}",
                "refundDetails": [
                    {
                        "proc_code": "00",
                        "amt": "100",
                        "respcode": "00"
                    }
                ],
                "captureDetails": [
                    {
                        "amt": "100",
                        "respcode": "00"
                    }
                ]
            },
            "needAssert": [
                "manualCapture",
                "mobile",
                "udf5",
                "amt",
                "txncurr",
                "channelType",
                "udf3",
                "udf4",
                "respcode",
                "udf1",
                "udf2",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod",
                "signature",
                "manualCaptureRecord",
                "refundDetails",
                "captureDetails"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8527",
        "OD": "For cybs,ifwithoutcvvinpaymentrequestincarddata,andpaymentMethodnotprovidedinrequest,thendopayment",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "amt": "100",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Cvv removal : FL - No CVV found"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8528",
        "OD": "For cybs,ifwithoutcvvinpaymentrequestincarddata,andpaymentMethodisemptyinrequest,thendopayment",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": "",
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "amt": "100",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Cvv removal : OK"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-8529",
        "OD": "For cybs,ifwithoutcvvinpaymentrequestincarddata,andpaymentMethodisnullinrequest,thendopayment",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB",
            "refundRequestV2-refund",
            "frontend_cybsLog-cybsLog1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "wtuY0ewq97XfDOGiMxsS5hALHe9uhoHm2PIFgyDdgHM=|CardHolder|CC|MASTER",
            "authentication": "N",
            "manualCapture": "N",
            "channelType": "cybs",
            "paymentMethod": null,
            "remarks": "remarks",
            "od": "od-cybs",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "customerDetails": {
                "name": "Test-User",
                "phone": "1234567890",
                "email": "test@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "amt": "100",
                "txncurr": "HKD",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "respcode": "00",
                "respdesc": "success",
                "paymentMethod": "card",
                "proc_code": "100"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "login",
                "respcode",
                "respdesc",
                "paymentMethod",
                "proc_code"
            ]
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "100",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "amt": "100",
                "respcode": "00",
                "signature": "{{ResponseSignature}}"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respdesc",
                "proc_code",
                "respcode",
                "signature"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Cvv removal : OK"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "0040 Initiate transaction with invalid channelType",
        "merchantId": "nttauto",
        "caseType": "CaptureRequestTestCaseTest",
        "testFlow": [
            "paymentRequest-payment"
        ],
        "payment": {
            "amt": "210",
            "txnid": "generate13",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs1",
            "od": "od - uat testing",
            "expectedResult": {
                "amt": "210",
                "txncurr": "HKD",
                "txnid": "generate13",
                "respcode": "01",
                "respdesc": "Invalid parameter - channelType",
                "login": "NTT_AUTO"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "login"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3ds_api_Auth-Failure_Cannot be voided",
        "OD": "cybs_non_3ds_api_Auth-Failure_Cannot be voided",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-void"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs123",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1030",
                "errorDesc": "Invalid parameter - channelType",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - channelType",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1030",
                            "userData28": "Invalid parameter - channelType"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "void": {
            "txnid": "",
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4022",
                "errorDesc": "Nonvoidable transaction status - failed transaction",
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - failed transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3DS_API_Purchase failed_Cannot be refund",
        "OD": "cybs_non_3DS_API_Purchase failed_Cannot be refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs123",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1030",
                "errorDesc": "Invalid parameter - channelType",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - channelType",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1030",
                            "userData28": "Invalid parameter - channelType"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4016",
                "errorDesc": "Nonrefundable transaction status - failed transaction",
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - failed transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3ds_api_Auth-Failure_Cannot be voided",
        "OD": "cybs_non_3ds_api_Auth-Failure_Cannot be voided",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-void"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs123",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1030",
                "errorDesc": "Invalid parameter - channelType",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - channelType",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1030",
                            "userData28": "Invalid parameter - channelType"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "void": {
            "txnid": "",
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4022",
                "errorDesc": "Nonvoidable transaction status - failed transaction",
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - failed transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-21135",
        "OD": "verify token creation is successful without cardverification and only with mandatory parameters in request and gds payment is succcesful with this token.",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "postToken",
        "testFlow": [
            "postToken-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3"
        ],
        "token": {
            "headerSignature": false,
            "bodySignature": true,
            "carddata": "aj0eGidjs50QzdpDClYwFi9QuTIYlWZIpNBl1hrDzcUYGdcBPLJu+dEsZek=|John Doe|CC|master",
            "verifyRequest": false,
            "currency": "JPY",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "cardHolderName": "John Doe",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success",
                "maskedCardNumber": "531288XXXXXX7202",
                "cardBrand": "MASTERCARD",
                "tokenProvider": "GATEWAY",
                "nickname": "Family card",
                "expiryYear": "2023",
                "expiryMonth": "12",
                "cardHolderName": "John Doe"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "maskCardNumber",
                "cardBrand",
                "tokenProvider",
                "nickname",
                "expiryYear",
                "expiryMonth",
                "cardHolderName"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token request from NTT to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token response from NTT to NTT with JPY"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "531288XXXXXX7202",
                            "merchantid": "NTT",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "payment": {
            "login": "NTT",
            "pass": "Ntt@123",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "",
            "channelType": "cybs",
            "manualCapture": "N",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks - migs",
            "od": "test",
            "udf1": "udf1 - sandbox",
            "udf2": "udf2 - sandbox",
            "udf3": "udf3 - sandbox",
            "udf4": "udf4 - sandbox",
            "udf5": "udf5 - sandbox",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "login": "NTT",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respCode": "00",
                "respDesc": "success",
                "txncurr": "HKD",
                "udf1": "udf1 - sandbox",
                "udf2": "udf2 - sandbox",
                "udf3": "udf3 - sandbox",
                "udf4": "udf4 - sandbox",
                "udf5": "udf5 - sandbox"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respCode",
                "respDesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttReservationId"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "reservation_payment_details_log",
                        "columnNames": [
                            "update_status",
                            "payment_method",
                            "ntt_response_code"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "tonttReservationIdken = '{nttReservationId}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "update_status": "OK",
                            "payment_method": "CREDIT",
                            "ntt_response_code": "00"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-21130",
        "OD": "verify token creation is successful with cardverification for cybs payment.",
        "Skip": true,
        "merchantId": "ntt",
        "caseType": "postToken",
        "testFlow": [
            "postToken-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "paymentRequest-payment",
            "refundRequestV2-refund"
        ],
        "token": {
            "headerSignature": false,
            "bodySignature": true,
            "carddata": "aj0eGidjs50QzdpDy+mlr/o8VNUr2iS5qwHs66QeDjNud9/G0AsB3H2FosY=|John Doe|CC|VISA",
            "verifyRequest": true,
            "currency": "HKD",
            "tokenProvider": "GATEWAY",
            "expectedResult": {
                "cardBrand": "VISA",
                "cardHolderName": "John Doe",
                "currency": "HKD",
                "expiryMonth": "12",
                "expiryYear": "2023",
                "maskedCardNumber": "411111XXXXXX1111",
                "respCode": "00",
                "respDesc": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "currency",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "respCode",
                "respDesc",
                "tokenProvider"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token request from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Token Authorize request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Verify Token Authorize request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Token Authorize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Verify Token Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Token ReverseAuth request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Verify Token ReverseAuth request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Token ReverseAuth response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Verify Token ReverseAuth response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token response from NTT to NTT with HKD"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "merchantReferenceCode"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "tokenize_transaction_log",
                        "columnNames": [
                            "amount",
                            "txn_status",
                            "channel_type",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "tokenize_transaction_id = '{merchantReferenceCode}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "amount": "1.00",
                            "txn_status": "ok",
                            "channel_type": "cybs",
                            "currency": "HKD"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "merchantReferenceCode"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "tokenize_refund",
                        "columnNames": [
                            "refund_amt",
                            "resp_code"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "tokenize_transaction_id = '{merchantReferenceCode}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.00",
                            "resp_code": "00"
                        }
                    ]
                }
            }
        },
        "payment": {
            "login": "NTT",
            "pass": "Ntt@123",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "",
            "channelType": "cybs",
            "manualCapture": "N",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks - migs",
            "od": "test",
            "udf1": "udf1 - sandbox",
            "udf2": "udf2 - sandbox",
            "udf3": "udf3 - sandbox",
            "udf4": "udf4 - sandbox",
            "udf5": "udf5 - sandbox",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "udf1 - sandbox",
                "udf2": "udf2 - sandbox",
                "udf3": "udf3 - sandbox",
                "udf4": "udf4 - sandbox",
                "udf5": "udf5 - sandbox"
            },
            "needAssert": [
                "amt",
                "callbackUrl",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "reuse",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-21129",
        "OD": "verify token creation is successful without cardverification and with optional parameters in request.",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "postToken",
        "testFlow": [
            "postToken-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "refundRequestV2-refund"
        ],
        "token": {
            "headerSignature": false,
            "bodySignature": true,
            "carddata": "aj0eGidjs50QzdpDy+mlr/o8VNUr2iS5qwHs66QeDjNud9/G0AsB3H2FosY=|John Doe|CC|VISA",
            "currency": "USD",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "cardHolderName": "John Doe",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "customerDetails": {
                "name": "john",
                "phone": "12345",
                "email": "abc@123.com"
            },
            "expectedResult": {
                "cardBrand": "VISA",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2023",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "respCode": "00",
                "respDesc": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "nickname",
                "respCode",
                "respDesc",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "payment": {
            "login": "NTT",
            "pass": "Ntt@123",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "",
            "channelType": "cybs",
            "manualCapture": "N",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks - migs",
            "od": "test",
            "udf1": "udf1 - sandbox",
            "udf2": "udf2 - sandbox",
            "udf3": "udf3 - sandbox",
            "udf4": "udf4 - sandbox",
            "udf5": "udf5 - sandbox",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "udf1 - sandbox",
                "udf2": "udf2 - sandbox",
                "udf3": "udf3 - sandbox",
                "udf4": "udf4 - sandbox",
                "udf5": "udf5 - sandbox"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "reuse",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-21128",
        "OD": "verify token creation is successful without cardverification",
        "Skip": false,
        "merchantId": "ntt",
        "caseType": "postToken",
        "testFlow": [
            "postToken-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "token": {
            "headerSignature": false,
            "bodySignature": true,
            "carddata": "aj0eGidjs50QzdpDy+mlr/o8VNUr2iS5qwHs66QeDjNud9/G0AsB3H2FosY=|John Doe|CC|VISA",
            "expectedResult": {
                "cardBrand": "VISA",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2023",
                "maskedCardNumber": "411111XXXXXX1111",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "respCode",
                "respDesc"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token request from NTT to NTT with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v1/token",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "POST /v1/token response from NTT to NTT with no currency"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "payment": {
            "login": "NTT",
            "pass": "Ntt@123",
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "test",
            "carddata": "",
            "channelType": "cybs",
            "manualCapture": "N",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "remarks": "remarks - migs",
            "udf1": "udf1 - sandbox",
            "udf2": "udf2 - sandbox",
            "udf3": "udf3 - sandbox",
            "udf4": "udf4 - sandbox",
            "udf5": "udf5 - sandbox",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "udf1 - sandbox",
                "udf2": "udf2 - sandbox",
                "udf3": "udf3 - sandbox",
                "udf4": "udf4 - sandbox",
                "udf5": "udf5 - sandbox"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "reuse",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_45",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_45": "PURCHASE",
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "is_partial_refund",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "is_partial_refund": "0",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD"
                        }
                    ]
                }
            }
        }
    }
]