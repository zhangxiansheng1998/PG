[
    {
        "testDataId": "PaymentGateway_NDHK-22176",
        "OD": "Verify GET /hostpage/retrievePublicKey can do success",
        "merchantId": "nttjpmc",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "retrievePublicKey-test",
            "frontend_cybsLog-cybsLog1"
        ],
        "test": {
            "apikey": "mJfVsVt7gGJ695uNndBU",
            "expectedResult": {
                "responseCode": "00"
            },
            "needAssert": [
                "responseCode"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "GET: /hostpage/retrievePublicKey request params",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "GET: /hostpage/retrievePublicKey request params"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21541",
        "OD": "Verify cybs and without paymentMode in /paymentRequest,and do full refund at same day",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsLog-cybsLog13",
            "frontend_cybsLog-cybsLog14",
            "frontend_cybsDB-cybsDB3"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor = 'cybs' and payment_method = 'card' and merchant_id = 'NTT' and origin='DEFAULT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "channelType": "cybs",
            "manualCapture": "N",
            "authentication": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "od": "od - recurring",
            "udf1": "Test Reserved Field 1",
            "udf2": "Test Reserved Field 2",
            "udf3": "Test Reserved Field 3",
            "udf4": "Test Reserved Field 4",
            "udf5": "Test Reserved Field 5",
            "expectedResult": {
                "manualCaptureStatus": "N",
                "manualCapture": "N",
                "amt": "1000",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "login": "NTT",
                "auth_code": "831000",
                "respdesc": "success",
                "proc_code": "100",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "login",
                "auth_code",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "refund": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_status": "null"
                        }
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "request from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "request from NTT to cybs"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "response from cybs to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "response from NTT to NTT"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Transit Timestamp Output"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "paymentRequest || cybs || card || NULL || HKD || [[t1="
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "t2=2"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "carddata=XXX"
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage",
                            "txn_type"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed",
                            "txn_type": "DIRECT"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-15285",
        "OD": "Verify report response is returned when apiKey ,general key 1 and no oauth2 token is used in request.",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "reportsV2ApiKey-report",
            "frontend_cybsDB-cybsDB1"
        ],
        "report": {
            "headerSignature": true,
            "bodySignature": false,
            "reportType": "TRANSACTION",
            "startDateTime": "2021-12-03 12:50:00",
            "endDateTime": "2021-12-03 14:05:00",
            "transactionCurrencies": [
                "HKD"
            ],
            "transactionType": "PAYMENT",
            "channelType": "cybs",
            "paymentMethod": "card",
            "callbackUrl": "https://webhook.site/12aeaa9c-aa01-418a-828e-8670cdf5f8f9",
            "fields": [
                "Merchant ID",
                "Refund ID",
                "Capture ID",
                "Transaction Type",
                "Transaction Status",
                "Transaction Currency",
                "Transaction Amount",
                "Transaction Processed Amount",
                "Payment Method",
                "Partial capture",
                "Capture Processed Amount",
                "Partial Refund",
                "Refunded Amount",
                "Refund Processed Amount",
                "Refund Date",
                "Refund Status",
                "Capture Status",
                "Captured Amount",
                "Error Message",
                "Error Code",
                "Remarks",
                "User Defined Data 1",
                "User Defined Data 2",
                "User Defined Data 3",
                "User Defined Data 4",
                "User Defined Data 5",
                "Card Number",
                "Channel ID",
                "Channel Type",
                "Processor Code",
                "Authorization Code",
                "Order Description",
                "Transaction Date",
                "Status Description",
                "Gateway Reference ID",
                "Transaction ID",
                "Transaction Type",
                "Retrieval Reference Number"
            ],
            "expectedResult": {
                "reportType": "TRANSACTION",
                "responseCode": "02",
                "responseDescription": "pending"
            },
            "needAssert": [
                "reportType",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "reportId"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "report_log",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "id = '{reportId}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-13875",
        "OD": "Get transaction details of a successful auth txn with partial capture success and partial capture failed_GET V2 transaction",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "capturesV2ApiKey-capture1",
            "capturesV2ApiKey-capture2",
            "getTransactionsV2ApiKey-getTransaction"
        ],
        "auth": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionId": "generate",
            "transactionCurrency": "HKD",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "orderDescription": "NTT Test",
            "channelType": "cybs",
            "paymentMethod": "card",
            "isAuthentication": false,
            "paymentMode": "AUTH",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "returnUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "capture1": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "50",
            "gatewayReferenceId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "50",
                "manualCaptureStatus": "P",
                "processorCode": "100",
                "remainingAmount": "50",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "capture2": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "80",
            "gatewayReferenceId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE3020",
                "errorDescription": "Capture amount exceeded the uncaptured amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "getTransaction": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "captureDetails": [
                    {
                        "responseCode": "00",
                        "captureAmount": "50",
                        "processorCode": "100"
                    },
                    {
                        "responseCode": "01",
                        "captureAmount": "80"
                    }
                ],
                "capturedAmount": "50",
                "channelType": "cybs",
                "maskedCardNumber": "401200XXXXXX7777",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "refundedAmount": "0",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionAmount": "100",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5",
                "voidedAmount": "0",
                "needAssert": [
                    "captureDetails",
                    "capturedAmount",
                    "channelType",
                    "maskedCardNumber",
                    "paymentMethod",
                    "paymentMode",
                    "processorCode",
                    "refundedAmount",
                    "responseCode",
                    "responseDescription",
                    "transactionAmount",
                    "transactionCurrency",
                    "userDefinedData1",
                    "userDefinedData2",
                    "userDefinedData3",
                    "userDefinedData4",
                    "userDefinedData5",
                    "voidedAmount"
                ]
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12869",
        "OD": "Verify the partial capture for mpgs amex non 3ds from v2/transactions and do capture from v2/captures",
        "merchantId": "nttm4v2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "frontend_cybsDB-cybsDB1",
            "capturesV2ApiKey-capture",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "auth": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "TWD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "AUTH",
            "channelType": "mpgs",
            "paymentMethod": "card",
            "channelId": "amex",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+Ayy43h37RzPr04k48ZSEZE=|John Doe|CC|AMEX",
            "isAuthentication": false,
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelId": "amex",
                "channelType": "mpgs",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "000",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "TWD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelId",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Authorization Succeeded"
                        }
                    ]
                }
            }
        },
        "capture": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "50",
            "transactionId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "50",
                "manualCaptureStatus": "P",
                "processorCode": "000",
                "remainingAmount": "50",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "TWD",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "partial_capture",
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "acc_no",
                            "merchant_id",
                            "capture_mode",
                            "currency",
                            "udf1",
                            "udf2",
                            "udf3",
                            "udf4",
                            "udf5"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "capture_amt": "0.5000",
                            "partial_capture": "1",
                            "txn_amt": "1.00",
                            "resp_code": "000",
                            "resp_msg": "OK",
                            "acc_no": "345678XXXXX4564",
                            "merchant_id": "NTT_M_4_V2_AUTO",
                            "capture_mode": "MANUAL",
                            "currency": "TWD",
                            "udf1": "1",
                            "udf2": "2",
                            "udf3": "3",
                            "udf4": "4",
                            "udf5": "5"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-15188",
        "OD": "Verify AUTH unionpay cardVerficaton success with apikey ,signature , Content-Type(json).",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "cardVerificationV2ApiKey-cardVerification",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2"
        ],
        "cardVerification": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|UNIONPAY",
            "transactionCurrency": "CNY",
            "isStoreToken": false,
            "channelType": "unionpay",
            "paymentMethod": "expresspay",
            "isAuthentication": false,
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "expectedResult": {
                "processorCode": "00",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "CNY"
            },
            "needAssert": [
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_verification_transaction_log",
                        "columnNames": [
                            "merchant_id",
                            "processor",
                            "payment_model",
                            "currency",
                            "amount",
                            "card_number",
                            "txn_status",
                            "proc_code",
                            "rrn",
                            "authentication"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT_V2_AUTO",
                            "processor": "unionpay",
                            "payment_model": "AUTH",
                            "currency": "CNY",
                            "amount": "1.00",
                            "card_number": "625094XXXXXX0014",
                            "txn_status": "OK",
                            "proc_code": "00",
                            "rrn": "IsNotNull",
                            "authentication": "NOAUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_verification_refund_log",
                        "columnNames": [
                            "refund_mode",
                            "refund_amt",
                            "refund_status",
                            "proc_code",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "VOID",
                            "refund_amt": "1.00",
                            "refund_status": "OK",
                            "proc_code": "00",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12866",
        "OD": "Verify Capture amount exceeded the uncaptured amount with NE3020_v2 transaction",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "frontend_cybsDB-cybsDB1",
            "capturesV2ApiKey-capture",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "auth": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "CNY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "AUTH",
            "channelType": "cybs",
            "paymentMethod": "card",
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "isAuthentication": false,
            "manualCapture": "Y",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "CNY",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Authorization Succeeded"
                        }
                    ]
                }
            }
        },
        "capture": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "101",
            "transactionId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE3020",
                "errorDescription": "Capture amount exceeded the uncaptured amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "capture_amt",
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "acc_no",
                            "merchant_id",
                            "capture_mode",
                            "currency",
                            "udf1",
                            "udf2",
                            "udf3",
                            "udf4",
                            "udf5",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "capture_amt": "1.0100",
                            "txn_amt": "1.00",
                            "resp_msg": "FL",
                            "acc_no": "411111XXXXXX1111",
                            "merchant_id": "NTT_V2_AUTO",
                            "capture_mode": "MANUAL",
                            "currency": "CNY",
                            "udf1": "1",
                            "udf2": "2",
                            "udf3": "3",
                            "udf4": "4",
                            "udf5": "5",
                            "error_code": "NE3020",
                            "error_desc": "Capture amount exceeded the uncaptured amount"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency CNY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with CNY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/captures request from NTT_V2_AUTO to NTT with null"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12554",
        "OD": "Token paymentmerchants can call POST /v2/transactions with the generated token_post v2 tokens",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "channelType": "cybs",
            "paymentMethod": "card",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14372",
        "OD": "For GET/v2/tokens/{token}, if token is found in the token table and source is NDHK , the token service provider config exist, then send GET/v2/tokens request, if respCode is '00', return success",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "getV2TokenApiKey-getToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2_AUTO' and provider = 'NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_config": "#Contains-pass"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-20105",
        "OD": "Token create/update/delete for international cards - JCB with tokenProvider is GATEWAY_delete_v2_tokens",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "putV2TokenApiKey-putToken",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "deleteV2TokenApiKey-deleteToken",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2' and processor = 'kcp-direct' and payment_method = 'card' and currency = 'KRW' and origin = 'DEFAULT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT_V2"
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4+PbswRNKxCo88zwxw4VH1qvo3XirWQl9Ytn2BPFj6HA=|John Doe|CC|JCB",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "test tokens",
            "userDefinedData2": "test tokens2",
            "userDefinedData3": "test tokens3",
            "userDefinedData4": "test tokens4",
            "userDefinedData5": "test tokens5",
            "expectedResult": {
                "cardBrand": "JCB",
                "cardHolderName": "John Doe",
                "expiryMonth": "01",
                "expiryYear": "2026",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "test tokens",
                "userDefinedData2": "test tokens2",
                "userDefinedData3": "test tokens3",
                "userDefinedData4": "test tokens4",
                "userDefinedData5": "test tokens5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2"
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "apikey": "0sXWvkMWujs8jYPxG1d1",
            "cardData": "XZ13aC5625frSmc4+PbswRNKxCo88zwxw4VH1l67MCpY+6dgUAwaYdkpzww=|John Doe|CC|VISA",
            "expectedResult": {
                "cardBrand": "JCB",
                "cardHolderName": "John Doe",
                "expiryMonth": "04",
                "expiryYear": "2026",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "userDefinedData1": "test tokens",
                "userDefinedData2": "test tokens2",
                "userDefinedData3": "test tokens3",
                "userDefinedData4": "test tokens4",
                "userDefinedData5": "test tokens5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "MODIFIED"
                        }
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2"
                    ]
                }
            }
        },
        "deleteToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "DELETED"
                        }
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Callback Json",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14952",
        "OD": "For DELETE /v2/tokens, if has no socketTimeoutException in API (DELETE /v1/token) token service, if respCode = 00 in DELETE /v1/token response and update tokenization record successfully then delete token success",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "deleteV2TokenApiKey-deleteToken",
            "frontend_cybsDB-cybsDB3"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2' and provider = 'NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_config": "#Contains-pass"
                        }
                    ]
                }
            }
        },
        "deleteToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "DELETED"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20518",
        "OD": "Test /v2/tokenLinks when the requestBody and Configuration are all correct, return success",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "tokenLinksV2ApiKey-tokenlink",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "tokenlink": {
            "headerSignature": true,
            "bodySignature": false,
            "tokenProvider": "GATEWAY-KCP",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "customerDetails": {
                "firstName": "xu",
                "lastName": "manrong"
            },
            "expectedResult": {
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processor_token_registration",
                        "columnNames": [
                            "id",
                            "processor_request_id",
                            "form_data",
                            "error_code",
                            "error_description",
                            "extra_data"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2'and token_provider = 'GATEWAY-KCP'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "id": "IsNotNull",
                            "processor_request_id": "IsNotNull",
                            "form_data": "IsNotNull",
                            "error_code": null,
                            "error_description": null,
                            "extra_data": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v2/tokenLinks",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/tokenLinks: POST request from NTT_V2 to Gateway "
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v2/tokenLinks",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/tokenLinks: POST response from Gateway to NTT_V2"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-22179",
        "OD": "Verify hostpage/tokenize generate token successfully",
        "merchantId": "nttjpmc",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "hostpageTokenizeV2ApiKey-test",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "getV2TokenApiKey-getToken",
            "putV2TokenApiKey-putToken",
            "deleteV2TokenApiKey-deleteToken",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9"
        ],
        "test": {
            "apiKey": "mJfVsVt7gGJ695uNndBU",
            "encryptedCardNumber": "f0UPJFumW5fWCl2Dr0E+qDUyJBUjf/0CZpWCFf9SZQX4fL3+TBbyNmUv8Vo0WM3UNLC+ecX0ni1GTUWskTbnWw==",
            "tokenProvider": "GATEWAY",
            "userDefinedData1": "userDefinedData11111",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "cardBrand": "VISA",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "userDefinedData11111",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "cardBrand",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "alias = '411111XXXXXX1111'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "1"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "GET: /hostpage/retrievePublicKey request params",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "GET: /hostpage/retrievePublicKey request params"
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "userDefinedData11111",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4KVww5bQHCw41tOgBCq5RZ293RUHQOSfBHCa+UE9wMiU=|John Doe|CC|VISA",
            "expectedResult": {
                "cardBrand": "VISA",
                "cardHolderName": "John Doe",
                "expiryMonth": "01",
                "expiryYear": "2026",
                "maskedCardNumber": "411111XXXXXX1111",
                "responseCode": "00",
                "responseDescription": "success",
                "userDefinedData1": "userDefinedData11111",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "deleteToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_JPMC",
                            "alias": "411111XXXXXX1111",
                            "status": "DELETED"
                        }
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_JPMC to NTT"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_JPMC"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "GET/v2/tokens request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "GET/v2/tokens request from NTT to tokenization service"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "GET/v2/tokens response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "GET/v2/tokens response from NTT to tokenization servic"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "PUT/v2/tokens request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "PUT/v2/tokens request from NTT to tokenization service"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "PUT/v2/tokens response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "PUT/v2/tokens response from NTT to tokenization service"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "DELETE/v2/tokens request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "DELETE/v2/tokens request from NTT to tokenization service"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "DELETE/v2/tokens response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "DELETE/v2/tokens response from NTT to tokenization service"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_V2 3DS",
        "OD": "V2 3DS",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-3dsv2"
        ],
        "3dsv2": {
            "headerSignature": true,
            "bodySignature": false,
            "3dsVersion": "2",
            "channelType": "cybs",
            "currency": "HKD",
            "amount": "1000",
            "callbackUrl": "https://webhook.site/7169c311-8aba-46ca-920c-4d1fd3667d5a",
            "returnUrl": "https://webhook.site/7169c311-8aba-46ca-920c-4d1fd3667d5a",
            "cardData": "XZ13aC5625frSmc4nf9TRyaz6v5APfD/VItmX7lOpHv8ZtNKsYZkGYiVTss=|JJoh|CC|VISA",
            "extraInfo": {
                "authenticationInd": "01",
                "authenticationInfo": {
                    "threeDSReqAuthData": "sample Requestor Authentication Data",
                    "threeDSReqAuthMethod": "01",
                    "threeDSReqAuthTimestamp": "201908161402"
                },
                "challengeInd": "01",
                "acctType": "02",
                "acctID": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                "acctInfo": {
                    "chAccAgeInd": "03",
                    "chAccChange": "20190816",
                    "chAccChangeInd": "01",
                    "chAccDate": "20190301",
                    "chAccPwChange": "20190816",
                    "chAccPwChangeInd": "02",
                    "nbPurchaseAccount": "10",
                    "provisionAttemptsDay": "2",
                    "txnActivityDay": "5",
                    "txnActivityYear": "100",
                    "paymentAccAge": "20181201",
                    "paymentAccInd": "05",
                    "shipAddressUsage": "20181201",
                    "shipAddressUsageInd": "04",
                    "shipNameIndicator": "02",
                    "suspiciousAccActivity": "02"
                },
                "cardHolderInfo": {
                    "addrMatch": "Y",
                    "billAddrCity": "xxxxyyyyyoooonnnnnn",
                    "billAddrCountry": "392",
                    "billAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "billAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "billAddrPostCode": "1680082",
                    "billAddrState": "24",
                    "cardholderName": "DATA ENUTEITEI",
                    "email": "xxxxyyyyyoooonnnnnn",
                    "homePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "mobilePhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    },
                    "shipAddrCity": "xxxxyyyyyoooonnnnnn",
                    "shipAddrCountry": "392",
                    "shipAddrLine1": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine2": "xxxxyyyyyoooonnnnnn",
                    "shipAddrLine3": "xxxxyyyyyoooonnnnnn",
                    "shipAddrPostCode": "1680082",
                    "shipAddrState": "24",
                    "workPhone": {
                        "cc": "81",
                        "subscriber": "9011112222"
                    }
                },
                "purchaseInstalData": "10",
                "merchantRiskIndicator": {
                    "deliveryEmailAddress": "enuteitei@sample.co.jp",
                    "deliveryTimeframe": "04",
                    "giftCardAmount": "100000",
                    "giftCardCount": "02",
                    "giftCardCurr": "840",
                    "preOrderDate": "20190711",
                    "preOrderPurchaseInd": "01",
                    "reorderItemsInd": "02",
                    "shipIndicator": "03"
                },
                "messageCategory": "01",
                "purchaseAmount": "200000",
                "purchaseCurrency": "840",
                "purchaseDate": "20190816160405",
                "recurringExpiry": "20200831",
                "recurringFrequency": "30",
                "transType": "01",
                "priorTransID": "xxxxxxxx-xxxx-xxxx-Nxxx-xxxxxxxxxxxx",
                "payTokenInd": true
            },
            "expectedResult": {
                "responseCode": "02",
                "responseDescription": "pending"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14153",
        "OD": "update success_post_accountupdater and put accountupdater",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "postAccountV2UpdatesApiKey-register",
            "putAccountV2UpdatesApiKey-update"
        ],
        "register": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "gmo",
            "cardData": "XZ13aC5625frSmc4PNdJ3MMF9GDH8VIWb7HCS1q3yNPUR3q2lOE73G9755Y=",
            "memberId": "generate",
            "expectedResult": {
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "processorCode",
                "responseCode",
                "responseDescription"
            ]
        },
        "update": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "gmo",
            "cardData": "XZ13aC5625frSmc4PNdJ3MMF9GDH8VIWb7HCS1q3yNPUR3q2lOE73G9755Y=",
            "memberId": "reuse",
            "expectedResult": {
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "processorCode",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14137",
        "OD": "GMO - POST AccountUpdater - DELETE AccountUpdater",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "postAccountV2UpdatesApiKey-register",
            "deleteAccountV2UpdatesApiKey-delete"
        ],
        "register": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "gmo",
            "cardData": "XZ13aC5625frSmc4PNdJ3MMF9GDH8VIWb7HCS1q3yNPUR3q2lOE73G9755Y=",
            "memberId": "generate",
            "expectedResult": {
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "processorCode",
                "responseCode",
                "responseDescription"
            ]
        },
        "delete": {
            "headerToken": false,
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "gmo",
            "memberId": "reuse",
            "expectedResult": {
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "processorCode",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20518",
        "OD": "Test /v2/tokenLinks when the requestBody and Configuration are all correct, return success_get v2 tokenLinks",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "tokenLinksV2ApiKey-tokenlink",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "tokenlink": {
            "headerSignature": true,
            "bodySignature": false,
            "tokenProvider": "GATEWAY-KCP",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "customerDetails": {
                "firstName": "xu",
                "lastName": "manrong"
            },
            "expectedResult": {
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processor_token_registration",
                        "columnNames": [
                            "id",
                            "processor_request_id",
                            "form_data",
                            "error_code",
                            "error_description",
                            "extra_data"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2'and token_provider = 'GATEWAY-KCP'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "id": "IsNotNull",
                            "processor_request_id": "IsNotNull",
                            "form_data": "IsNotNull",
                            "error_code": null,
                            "error_description": null,
                            "extra_data": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v2/tokenLinks",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/tokenLinks: POST request from NTT_V2 to Gateway "
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "/v2/tokenLinks",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/tokenLinks: POST response from Gateway to NTT_V2"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-15324",
        "OD": "Verify cybs payment with merchantDescriptor is successful using v2/portalTransactions endpoint.",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "portalTransactionsV2ApiKey-transaction",
            "frontend_cybsDB-cybsDB1",
            "refundsV2ApiKey-refund",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "transaction": {
            "headerSignature": true,
            "bodySignature": false,
            "merchantId": "NTT_V2_AUTO",
            "amount": "100",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMethod": "card",
            "channelType": "cybs",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "isAuthentication": false,
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "customerDetails": {
                "name": "Alex",
                "flName": "Alex",
                "phone": "852-11112222"
            },
            "merchantDescriptor": "test",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "refund": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "refundMode": "REFUND",
            "gatewayReferenceId": "reuse",
            "transactionId": "",
            "expectedResult": {
                "amount": "100",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "1.0000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.0000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "refund_status": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19325",
        "OD": "/v2/portalCaptures-Check if partial capture is available multiple partial capture",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonTransactionsV2ApiKey-auth",
            "portalCapturesV2ApiKey-portalCapture1",
            "portalCapturesV2ApiKey-portalCapture2",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "auth": {
            "headerSignature": true,
            "bodySignature": false,
            "transactionId": "generate",
            "amount": "1000",
            "transactionCurrency": "JPY",
            "channelType": "gmo",
            "paymentMethod": "card",
            "paymentMode": "AUTH",
            "isAuthentication": false,
            "cardData": "XZ13aC5625frSmc4PNdJ3MMF9GDH8VIWb7HCS5IYBqEAwaFkL0DMXRq6GuY=|John Doe|CC|VISA",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/c92ea0eb-a67b-4419-8b1a-7b9368caa8b3",
            "orderDescription": "NTT Test",
            "expectedResult": {
                "amount": "1000",
                "channelType": "gmo",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "JPY"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "portalCapture1": {
            "headerSignature": true,
            "bodySignature": false,
            "merchantId": "NTT_V2_AUTO",
            "amount": "500",
            "transactionId": "",
            "gatewayReferenceId": "reuse",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "500",
                "manualCaptureStatus": "P",
                "processorCode": "success",
                "remainingAmount": "500",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "JPY"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "portalCapture2": {
            "headerSignature": true,
            "bodySignature": false,
            "merchantId": "NTT_V2_AUTO",
            "amount": "500",
            "transactionId": "",
            "gatewayReferenceId": "reuse",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 403,
                "errorCode": "NE3024",
                "errorDescription": "Multiple partial captures is not supported by the payment processor",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "OK",
                            "error_code": null,
                            "error_desc": null
                        },
                        {
                            "resp_code": null,
                            "resp_msg": "FL",
                            "error_code": "NE3024",
                            "error_desc": "Multiple partial captures is not supported by the payment processor"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/portalCaptures request from NTT_V2_AUTO to NTT with null"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NE3024",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/portalCaptures response from NTT to NTT_V2_AUTO with null"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19341",
        "OD": "Verify API:cybs-card-non 3ds, AUTH, then do full portalcapture then do full portalrefund",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "jsonTransactionsV2ApiKey-auth",
            "portalCapturesV2ApiKey-portalCapture",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3",
            "portalRefundsV2ApiKey-portalRefund",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "merchant_id"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2_AUTO' and processor = 'cybs' and payment_method = 'card'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT_V2_AUTO"
                        }
                    ]
                }
            }
        },
        "auth": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "1000",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "AUTH",
            "paymentMethod": "card",
            "channelType": "cybs",
            "cardData": "XZ13aC5625frSmc4hFNKsyaFKbXzlPsT0p63oPTV8ONgZhGhDHQW5+Ki22A=|John Doe|CC|VISA",
            "isAuthentication": false,
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "expectedResult": {
                "amount": "1000",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "AUTH",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "Transaction Authorization Succeeded",
                "transactionCurrency": "HKD"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "portalCapture": {
            "headerSignature": true,
            "bodySignature": false,
            "merchantId": "NTT_V2_AUTO",
            "amount": "1000",
            "transactionId": "",
            "gatewayReferenceId": "reuse",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "1000",
                "manualCaptureStatus": "F",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "amount",
                "manualCaptureStatus",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage",
                            "user_data_43",
                            "user_data_45"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Authorization Succeeded",
                            "user_data_43": "F",
                            "user_data_45": "AUTH"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "partial_capture",
                            "resp_code",
                            "resp_msg",
                            "merchant_id",
                            "capture_mode",
                            "currency",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "partial_capture": "0",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "merchant_id": "NTT_V2_AUTO",
                            "capture_mode": "MANUAL",
                            "currency": "HKD",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "portalRefund": {
            "headerSignature": true,
            "bodySignature": false,
            "merchantId": "NTT_V2_AUTO",
            "amount": "1000",
            "refundMode": "REFUND",
            "gatewayReferenceId": "reuse",
            "transactionId": "",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "amount": "1000",
                "processorCode": "100",
                "remainingAmount": "0",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "amount",
                "processorCode",
                "remainingAmount",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "is_partial_refund",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "currency",
                            "refund_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "10.0000",
                            "txn_amt": "10.0000",
                            "is_partial_refund": "0",
                            "pending_amt": "0.0000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND",
                            "currency": "HKD",
                            "refund_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/transactions request from NTT_V2_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/transactions response from NTT to NTT_V2_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/portalCaptures request from NTT_V2_AUTO to NTT with null"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/portalCaptures response from NTT to NTT_V2_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/portalRefunds request from NTT_V2_AUTO to NTT with null"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "/v2/portalRefunds response from NTT to NTT_V2_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11933",
        "OD": "result 401 - Unauthorized",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to null with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1171, responseCode=01, responseDescription=fail, errorDescription=Missing parameter - apikey, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11934",
        "OD": "result 403 - Forbidden",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "signature": "123456",
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100, "
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11936",
        "OD": "result 400 - Bad Request",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1178",
                "errorDescription": "Missing parameter - tokenProvider",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1178,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11955",
        "OD": "Use AES credit card access Post/v2/tokens result Success, than use token to do payment successfully for cybs",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "tokenProvider": "GATEWAY",
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "200",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "udf1": "Merchant Defined Field 1 Testing",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "login": "NTT_AUTO",
                "channelType": "cybs",
                "paymentMethod": "card",
                "manualCapture": "N",
                "udf1": "Merchant Defined Field 1 Testing",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11957",
        "OD": "Use debit card access Post/v2/tokens result Success, than do payment successfully for unionpay expresspay ",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4XAvta+MiTBkHjS0nwWmjCKd8Rxii+RwNrGi6i++AEnM=|John Doe|DC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "UNIONPAY",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "625094XXXXXX0016"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "500",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "paymentMethod": "expresspay",
            "channelType": "unionpay",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "500",
                "channelType": "unionpay",
                "paymentMethod": "expresspay",
                "paymentMode": "PURCHASE",
                "processorCode": "00",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase request from NTT to unionpay with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from unionpay to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Transaction Inquiry request from NTT to unionpay with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Transaction Inquiry response from unionpay to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "add record in cvv_removal_log",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11982",
        "OD": "Use AES credit card access Post/v2/tokens result Success, than use token to do payment successfully for mpgs card",
        "Skip": false,
        "merchantId": "nttauto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|AMEX",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "AMEX",
                "maskedCardNumber": "345678XXXXX4564",
                "nickname": "Family card",
                "tokenProvider": "GATEWAY",
                "responseCode": "00",
                "responseDescription": "success"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "345678XXXXX4564"
                        }
                    ]
                }
            }
        },
        "payment": {
            "amt": "200",
            "txnid": "generate",
            "txncurr": "TWD",
            "od": "NTT Test",
            "channelType": "mpgs",
            "paymentMethod": "card",
            "authentication": "N",
            "manualCapture": "N",
            "udf1": "Merchant Defined Field 1 Testing",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "200",
                "txncurr": "TWD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "000",
                "login": "NTT_AUTO",
                "channelType": "mpgs",
                "paymentMethod": "card",
                "manualCapture": "N",
                "udf1": "Merchant Defined Field 1 Testing",
                "udf2": "udf2 - uat",
                "udf3": "udf3 - uat",
                "udf4": "udf4 - uat",
                "udf5": "udf5 - uat"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "respcode",
                "respdesc",
                "proc_code",
                "login",
                "channelType",
                "paymentMethod",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11986",
        "OD": "Use AES credit card access Post/v2/tokens result Success, than use token to do payment successfully for gmo card",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4PNdJ3MMF9GDH8VIWb7HCS5IYBqEAwaFkL0DMXRq6GuY=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "471676XXXXXX1185",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "471676XXXXXX1185"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "JPY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "channelType": "gmo",
            "paymentMethod": "card",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelType": "gmo",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "JPY",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Registration request from NTT to gmo with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Registration response from gmo to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to gmo with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from gmo to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12554",
        "OD": "Token paymentmerchants can call POST /v2/transactions with the generated token",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "channelType": "cybs",
            "paymentMethod": "card",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12555",
        "OD": "when signature is null in header",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": null,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12556",
        "OD": "when signature is blank in header",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12557",
        "OD": "when signature is wrong in header",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "123456",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "responseCode",
                "responseDescription",
                "errorCode",
                "errorDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12558",
        "OD": "when without signature in header",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12581",
        "OD": "Input Validation-Missing parameter - cardData NE1177",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1177",
                "errorDescription": "Missing parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1177,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12583",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Invalid parameter - cardData NE1026",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "123456",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12584",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Missing parameter - tokenProvider NE1178",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1178",
                "errorDescription": "Missing parameter - tokenProvider",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1178,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12585",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Invalid parameter - tokenProvider NE1179",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "123",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1179",
                "errorDescription": "Invalid parameter - tokenProvider",
                "nickname": "Family card",
                "responseCode": "01",
                "responseDescription": "fail",
                "tokenProvider": "123"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1179,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12586",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Missing parameter - signature NE1026",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12587",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Signature Mismatch NE1162",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "123",
            "cardData": "8yEsyHyQwc7mMXxjYH9gXK3Cb/hrBBuG/Ln8XHgYBCWNgP0WzwWerCI2e5U=|CardHolder|CC|master",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100,"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Invalid API credentials, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12588",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Missing parameter - apikey NE1171",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "apikey": "",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "nickname": "Family card",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to null with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1171, responseCode=01, responseDescription=fail, errorDescription=Missing parameter - apikey, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12589",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Invalid parameter - apikey NE1181",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "apikey": "123",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to null with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100, responseCode=01, responseDescription=fail, errorDescription=Invalid API credentials, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11933",
        "OD": "result 401 - Unauthorized",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to null with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1171, responseCode=01, responseDescription=fail, errorDescription=Missing parameter - apikey, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11934",
        "OD": "result 403 - Forbidden",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "signature": "123456",
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100, "
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11936",
        "OD": "result 400 - Bad Request",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1178",
                "errorDescription": "Missing parameter - tokenProvider",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1178,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11957",
        "OD": "Use debit card access Post/v2/tokens result Success, than do payment successfully for unionpay expresspay ",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4XAvta+MiTBkHjS0nwWmjCKd8Rxii+RwNrGi6i++AEnM=|John Doe|DC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "UNIONPAY",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "625094XXXXXX0016"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "500",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "paymentMethod": "expresspay",
            "channelType": "unionpay",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "500",
                "channelType": "unionpay",
                "paymentMethod": "expresspay",
                "paymentMode": "PURCHASE",
                "processorCode": "00",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase request from NTT to unionpay with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from unionpay to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Transaction Inquiry request from NTT to unionpay with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Transaction Inquiry response from unionpay to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2 with HKD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "cvv_removal_log",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-11986",
        "OD": "Use AES credit card access Post/v2/tokens result Success, than use token to do payment successfully for gmo card",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4PNdJ3MMF9GDH8VIWb7HCS5IYBqEAwaFkL0DMXRq6GuY=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "471676XXXXXX1185",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "471676XXXXXX1185"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "JPY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "channelType": "gmo",
            "paymentMethod": "card",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelType": "gmo",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "success",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "JPY",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Registration request from NTT to gmo with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Registration response from gmo to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT to gmo with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from gmo to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2 with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12554",
        "OD": "Token paymentmerchants can call POST /v2/transactions with the generated token",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "100",
            "transactionCurrency": "HKD",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "channelType": "cybs",
            "paymentMethod": "card",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/payment-page",
            "userDefinedData1": "userDefinedData1",
            "userDefinedData2": "userDefinedData2",
            "userDefinedData3": "userDefinedData3",
            "userDefinedData4": "userDefinedData4",
            "userDefinedData5": "userDefinedData5",
            "expectedResult": {
                "amount": "100",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "HKD",
                "userDefinedData1": "userDefinedData1",
                "userDefinedData2": "userDefinedData2",
                "userDefinedData3": "userDefinedData3",
                "userDefinedData4": "userDefinedData4",
                "userDefinedData5": "userDefinedData5"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "rrn",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "rrn": "IsNotNull",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2 with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12555",
        "OD": "when signature is null in header",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": null,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12556",
        "OD": "when signature is blank in header",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12557",
        "OD": "when signature is wrong in header",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "123456",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "responseCode",
                "responseDescription",
                "errorCode",
                "errorDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12558",
        "OD": "when without signature in header",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12581",
        "OD": "Input Validation-Missing parameter - cardData NE1177",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1177",
                "errorDescription": "Missing parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1177,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12583",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Invalid parameter - cardData NE1026",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "123456",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12584",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Missing parameter - tokenProvider NE1178",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1178",
                "errorDescription": "Missing parameter - tokenProvider",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1178,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12585",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Invalid parameter - tokenProvider NE1179",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "123",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1179",
                "errorDescription": "Invalid parameter - tokenProvider",
                "nickname": "Family card",
                "responseCode": "01",
                "responseDescription": "fail",
                "tokenProvider": "123"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1179,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12586",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Missing parameter - signature NE1026",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1026",
                "errorDescription": "Missing parameter - signature",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1026,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12587",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Signature Mismatch NE1162",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "signature": "123",
            "cardData": "8yEsyHyQwc7mMXxjYH9gXK3Cb/hrBBuG/Ln8XHgYBCWNgP0WzwWerCI2e5U=|CardHolder|CC|master",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100,"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Invalid API credentials, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12588",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Missing parameter - apikey NE1171",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "apikey": "",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "401",
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "nickname": "Family card",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to null with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1171, responseCode=01, responseDescription=fail, errorDescription=Missing parameter - apikey, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-12589",
        "OD": "Test Post /v2/tokens Processor-Specific Input Validation-Invalid parameter - apikey NE1181",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "apikey": "123",
            "cardData": "XZ13aC5625frSmc4feyP3EqRdsHuT+8AGU36+JOHgdIWXZDbQNFw3dx1NTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "403",
                "errorCode": "NE0100",
                "errorDescription": "Invalid API credentials",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to null with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE0100, responseCode=01, responseDescription=fail, errorDescription=Invalid API credentials, ]"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21421",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if API format is wrong, return NE1011",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "bodyIncorrectFormat": true,
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1011",
                "errorDescription": "Invalid Request Format",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21422",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if miss parameter 3dsVersion, return NE1163",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://sit.ndhkpay.com/NTT_Pages/return",
            "cardData": "XZ13aC5625frSmc4kL03fEcOnUhgwGeNkXrTn+Dj29syaKnYAvblzO34tJ0=|John Doe|CC|VISA",
            "amount": "1",
            "currency": "USD",
            "customerDetails": {
                "city": "Hong Kong",
                "country": "HK",
                "email": "qwe@qwe.com",
                "firstName": "JOHN",
                "lastName": "WONG",
                "postCode": "234234",
                "address": "aaa bbb ccc, ddd street"
            },
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1163",
                "errorDescription": "Missing parameter - 3dsVersion",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request from NTT_V2 to NTT",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1163"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Missing parameter - 3dsVersion"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21423",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if parameter 3dsVersion is wrong, return NE1164",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "3dsVersion": "ds",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://sit.ndhkpay.com/NTT_Pages/return",
            "cardData": "XZ13aC5625frSmc4kL03fEcOnUhgwGeNkXrTn+Dj29syaKnYAvblzO34tJ0=|John Doe|CC|VISA",
            "amount": "1",
            "currency": "USD",
            "customerDetails": {
                "city": "Hong Kong",
                "country": "HK",
                "email": "qwe@qwe.com",
                "firstName": "JOHN",
                "lastName": "WONG",
                "postCode": "234234",
                "address": "aaa bbb ccc, ddd street"
            },
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1164",
                "errorDescription": "Invalid parameter - 3dsVersion",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request from NTT_V2 to NTT",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1164"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Invalid parameter - 3dsVersion"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21424",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if miss parameter amount, return NE1183",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "3dsVersion": "2",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://sit.ndhkpay.com/NTT_Pages/return",
            "cardData": "XZ13aC5625frSmc4kL03fEcOnUhgwGeNkXrTn+Dj29syaKnYAvblzO34tJ0=|John Doe|CC|VISA",
            "currency": "USD",
            "customerDetails": {
                "city": "Hong Kong",
                "country": "HK",
                "email": "qwe@qwe.com",
                "firstName": "JOHN",
                "lastName": "WONG",
                "postCode": "234234",
                "address": "aaa bbb ccc, ddd street"
            },
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1183",
                "errorDescription": "Missing parameter - amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request from NTT_V2 to NTT",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1183"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Missing parameter - amount"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21426",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if parameter amount is wrong, return NE1184",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "3dsVersion": "2",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://sit.ndhkpay.com/NTT_Pages/return",
            "cardData": "XZ13aC5625frSmc4kL03fEcOnUhgwGeNkXrTn+Dj29syaKnYAvblzO34tJ0=|John Doe|CC|VISA",
            "amount": "dsa",
            "currency": "HKD",
            "customerDetails": {
                "city": "Hong Kong",
                "country": "HK",
                "email": "qwe@qwe.com",
                "firstName": "JOHN",
                "lastName": "WONG",
                "postCode": "234234",
                "address": "aaa bbb ccc, ddd street"
            },
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1184",
                "errorDescription": "Invalid parameter - amount",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request from NTT_V2 to NTT",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1184"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Invalid parameter - amount"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21427",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if miss parameter currency, return NE1215",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "3dsVersion": "2",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://sit.ndhkpay.com/NTT_Pages/return",
            "cardData": "XZ13aC5625frSmc4kL03fEcOnUhgwGeNkXrTn+Dj29syaKnYAvblzO34tJ0=|John Doe|CC|VISA",
            "amount": "1",
            "customerDetails": {
                "city": "Hong Kong",
                "country": "HK",
                "email": "qwe@qwe.com",
                "firstName": "JOHN",
                "lastName": "WONG",
                "postCode": "234234",
                "address": "aaa bbb ccc, ddd street"
            },
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1215",
                "errorDescription": "Missing parameter - currency",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request from NTT_V2 to NTT",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1215"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=fail, errorDescription=Missing parameter - currency"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-21428",
        "OD": "For v2/3ds, send cybs 3ds2.0 request, if parameter currency is wrong, return NE1216",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "3dsV2ApiKey-request",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3"
        ],
        "request": {
            "headerSignature": true,
            "bodySignature": false,
            "3dsVersion": "2",
            "channelType": "cybs",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://sit.ndhkpay.com/NTT_Pages/return",
            "cardData": "XZ13aC5625frSmc4kL03fEcOnUhgwGeNkXrTn+Dj29syaKnYAvblzO34tJ0=|John Doe|CC|VISA",
            "amount": "1",
            "currency": "dasdasd",
            "customerDetails": {
                "city": "Hong Kong",
                "country": "HK",
                "email": "qwe@qwe.com",
                "firstName": "JOHN",
                "lastName": "WONG",
                "postCode": "234234",
                "address": "aaa bbb ccc, ddd street"
            },
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1216",
                "errorDescription": "Invalid parameter - currency",
                "responseCode": "01",
                "responseDescription": "Invalid parameter-currency"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds request from NTT_V2 to NTT",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "3ds request from NTT_V2 to NTT"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "errorCode=NE1216"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "3ds response from NTT to NTT_V2",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "responseCode=01, responseDescription=Invalid parameter-currency, errorDescription=Invalid parameter - currency"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13399",
        "OD": "Test Post /v2/tokens have no cardnumber in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4J//pFABk/+qXlm1q0KO8Rg==|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13400",
        "OD": "Test Post /v2/tokens have letter cardnumber in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4N9Na92o2Gn0Mj3Mhgj1nEzIMPDn7mM3zvmDnjxfojig=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13401",
        "OD": "Test Post /v2/tokens have no expiry date in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4680cb982VZ1TzUd8drMvSmHHjf9SaCZIQKU5aGYEgTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13402",
        "OD": "Test Post /v2/tokens have no cvv in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4IyWfwrzzT5HTY1sC8jkZzysc0tM3FJLz6zBpL6Y3APU=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13403",
        "OD": "Test Post /v2/tokens have letter cardnumber for cvv in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4IyWfwrzzT5HTY1sC8jkZz1cSr936BJ6xQ6IikzAIYqU=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13406",
        "OD": "Test Post /v2/tokens - Token paymentmerchants can call POST /v2/transactions with the generated token",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "500",
            "transactionCurrency": "CNY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "paymentMethod": "card",
            "channelType": "cybs",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "amount": "500",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "CNY"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency CNY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with CNY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2_AUTO with CNY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13408",
        "OD": "Test Post /v2/tokens Token paymentmerchants can call POST /v2/transactions with the generated token without cvv in carddata",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox3FWuLoGikZTbsyQzK2nqbQ=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2_AUTO",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "500",
            "transactionCurrency": "CNY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "paymentMethod": "card",
            "channelType": "cybs",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "amount": "500",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "CNY"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency CNY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with CNY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2_AUTO with CNY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13409",
        "OD": "Test Post /v2/tokens token without CVV and expiry date return NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4IyWfwrzzT5HTY1sC8jkZzw==|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13410",
        "OD": "Test Post /v2/tokens token with wrong expiry date format and cvv return NE1206",
        "Skip": false,
        "merchantId": "nttv2auto",
        "caseType": "v2token",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox45Ave8c9Jebh3o9yDKbB34=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response from",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13399",
        "OD": "Test Post /v2/tokens have no cardnumber in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4J//pFABk/+qXlm1q0KO8Rg==|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13400",
        "OD": "Test Post /v2/tokens have letter cardnumber in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4N9Na92o2Gn0Mj3Mhgj1nEzIMPDn7mM3zvmDnjxfojig=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2_AUTO with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13401",
        "OD": "Test Post /v2/tokens have no expiry date in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4680cb982VZ1TzUd8drMvSmHHjf9SaCZIQKU5aGYEgTc=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13402",
        "OD": "Test Post /v2/tokens have no cvv in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4IyWfwrzzT5HTY1sC8jkZzysc0tM3FJLz6zBpL6Y3APU=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13403",
        "OD": "Test Post /v2/tokens have letter cardnumber for cvv in cardData NE1206",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4IyWfwrzzT5HTY1sC8jkZz1cSr936BJ6xQ6IikzAIYqU=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "httpCode": "400",
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "NttResponse",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttResponse [isEnableRetry=null, errorCode=NE1206,"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13406",
        "OD": "Test Post /v2/tokens - Token paymentmerchants can call POST /v2/transactions with the generated token",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox4k8dxeob/qZfuUu5KfkAjI=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "500",
            "transactionCurrency": "CNY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "paymentMethod": "card",
            "channelType": "cybs",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "amount": "500",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "CNY"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency CNY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with CNY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2 with CNY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13408",
        "OD": "Test Post /v2/tokens Token paymentmerchants can call POST /v2/transactions with the generated token without cvv in carddata",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonTransactionsV2ApiKey-purchase",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox3FWuLoGikZTbsyQzK2nqbQ=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "merchantid",
                            "source",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchantid": "NTT_V2",
                            "source": "NDHK",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "tokenservicedb",
                        "tableName": "ndhk_token",
                        "columnNames": [
                            "merchant_id",
                            "masked_object"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "masked_object": "411111XXXXXX1111"
                        }
                    ]
                }
            }
        },
        "purchase": {
            "headerSignature": true,
            "bodySignature": false,
            "amount": "500",
            "transactionCurrency": "CNY",
            "transactionId": "generate",
            "orderDescription": "NTT Test",
            "paymentMode": "PURCHASE",
            "paymentMethod": "card",
            "channelType": "cybs",
            "bodyCarddata": false,
            "tokenType": "GATEWAY",
            "isAuthentication": false,
            "manualCapture": "N",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "returnUrl": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "amount": "500",
                "channelType": "cybs",
                "paymentMethod": "card",
                "paymentMode": "PURCHASE",
                "processorCode": "100",
                "responseCode": "00",
                "responseDescription": "success",
                "transactionCurrency": "CNY"
            },
            "needAssert": [
                "amount",
                "channelType",
                "paymentMethod",
                "paymentMode",
                "processorCode",
                "responseCode",
                "responseDescription",
                "transactionCurrency"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "stage"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "stage": "Transaction Completed"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to cybs with currency CNY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from cybs to NTT with CNY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "v2/transactions response from NTT to NTT_V2 with CNY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "add record in cvv_removal_log"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-13409",
        "OD": "Test Post /v2/tokens token without CVV and expiry date return NE1206",
        "Skip": false,
        "merchantId": "nttv2",
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsLog-cybsLog1"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox8nkasEJynLEv+91L+V5mXw=|John Doe|CC|VISA",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "expectedResult": {
                "cardBrand": "VISA",
                "cardHolderName": "John Doe",
                "maskedCardNumber": "411111XXXXXX1111",
                "nickname": "Family card",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "maskedCardNumber",
                "nickname",
                "responseCode",
                "responseDescription",
                "tokenProvider"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_V2 with no currency"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14885",
        "OD": "For POST /v2/tokens, if userDefinedData1 is invalid, then return NE1185",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1185",
                "errorDescription": "Invalid parameter - userDefinedData1",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14886",
        "OD": "For POST /v2/tokens, if userDefinedData2 is invalid, then return NE1186",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1186",
                "errorDescription": "Invalid parameter - userDefinedData2",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14887",
        "OD": "For POST /v2/tokens, if userDefinedData3 is invalid, then return NE1187",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1187",
                "errorDescription": "Invalid parameter - userDefinedData3",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14888",
        "OD": "For POST /v2/tokens, if userDefinedData4 is invalid, then return NE1188",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1188",
                "errorDescription": "Invalid parameter - userDefinedData4",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14889",
        "OD": "For POST /v2/tokens, if userDefinedData5 is invalid, then return NE1189",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1189",
                "errorDescription": "Invalid parameter - userDefinedData5",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14890",
        "OD": "For POST /v2/tokens, support Oauth2 token(with master merchant) to generate token",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB2"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14891",
        "OD": "For POST /v2/tokens, support Oauth2 token(with merchant) to generate token",
        "merchantId": "ntt",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB2"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "0c0b68a3844242d3bb3270c122954f18",
            "client_secret": "NYC1cNbKjJkHniOqP7n8lOFXstAlVonS",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MERCHANT",
                "client_name": "NTT",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14892",
        "OD": "For POST /v2/tokens, use master-merchant generate oauth token to do v2/tokens but have no apikey",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 401,
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14893",
        "OD": "For POST /v2/tokens, if have cardIssuer and cardBrand both in card IIN mapping table and request.",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"issuer\": \"hase\", \"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14894",
        "OD": "For POST /v2/tokens, if have cardIssuer and cardBrand  in card IIN mapping table and no cardIssuer and cardBrand in request",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14895",
        "OD": "For POST /v2/tokens, if have no cardIssuer and cardBrand  in card IIN mapping table and no cardIssuer and cardBrand in request.",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4bAf4kAZuXND6j/hJg+WfI4Mowzz6uNtJC27nBMjmL4Y=|John Doe|CC|",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "562345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "562345XXXXXX2346",
                            "merchantid": "NTT_V2_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}' and extra_information = '#Contains-\"cardBrand\": \"MASTERCARD\"'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14896",
        "OD": "For POST /v2/tokens, if have no cardIssuer and cardBrand  in card IIN mapping table and just have cardIssuer and cardBrand in request.",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4bAf4kAZuXND6j/hJg+WfI4Mowzz6uNtJC27nBMjmL4Y=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "562345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "562345XXXXXX2346",
                            "merchantid": "NTT_V2_AUTO",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}' and extra_information = '#Contains-\"cardBrand\": \"MASTERCARD\"'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14885",
        "OD": "For POST /v2/tokens, if userDefinedData1 is invalid, then return NE1185",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1185",
                "errorDescription": "Invalid parameter - userDefinedData1",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14886",
        "OD": "For POST /v2/tokens, if userDefinedData2 is invalid, then return NE1186",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1186",
                "errorDescription": "Invalid parameter - userDefinedData2",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14887",
        "OD": "For POST /v2/tokens, if userDefinedData3 is invalid, then return NE1187",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1187",
                "errorDescription": "Invalid parameter - userDefinedData3",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14888",
        "OD": "For POST /v2/tokens, if userDefinedData4 is invalid, then return NE1188",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1188",
                "errorDescription": "Invalid parameter - userDefinedData4",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14889",
        "OD": "For POST /v2/tokens, if userDefinedData5 is invalid, then return NE1189",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4Ncl5EbJje3Cplahgip6pmuzZjeUAtHwwBp8WVwmnlA4=|John Doe|CC|CUP",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "dasdhaksdhkadasfasfasfasfasfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfasfsfasfasfasfasfasfasfafasfasfasfasfasfasfasfasfasfasfasfsfsfasfafasfasfasfasfasfasfasfasfasfasfasfasfasfasfafsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsadasdasdasdasdasdasdasdasdasdasdasdasdasdasdsadasdasdasdasdasdasdasdasdasdasdsdadasdasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddasdasdasdasds",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1189",
                "errorDescription": "Invalid parameter - userDefinedData5",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14890",
        "OD": "For POST /v2/tokens, support Oauth2 token(with master merchant) to generate token",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB2"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14892",
        "OD": "For POST /v2/tokens, use master-merchant generate oauth token to do v2/tokens but have no apikey",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerToken": true,
            "apikey": "",
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "httpCode": 401,
                "errorCode": "NE1171",
                "errorDescription": "Missing parameter - apikey",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14893",
        "OD": "For POST /v2/tokens, if have cardIssuer and cardBrand both in card IIN mapping table and request.",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"issuer\": \"hase\", \"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14894",
        "OD": "For POST /v2/tokens, if have cardIssuer and cardBrand  in card IIN mapping table and no cardIssuer and cardBrand in request",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "512345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14895",
        "OD": "For POST /v2/tokens, if have no cardIssuer and cardBrand  in card IIN mapping table and no cardIssuer and cardBrand in request.",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4bAf4kAZuXND6j/hJg+WfI4Mowzz6uNtJC27nBMjmL4Y=|John Doe|CC|",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "562345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "562345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}' and extra_information = '#Contains-\"cardBrand\": \"MASTERCARD\"'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-14896",
        "OD": "For POST /v2/tokens, if have no cardIssuer and cardBrand  in card IIN mapping table and just have cardIssuer and cardBrand in request.",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id='NTT_V2' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='510000000' and end_range='559999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"MASTERCARD\""
                        }
                    ]
                }
            }
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4bAf4kAZuXND6j/hJg+WfI4Mowzz6uNtJC27nBMjmL4Y=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "562345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "562345XXXXXX2346",
                            "merchantid": "NTT_V2",
                            "status": "CREATED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}' and extra_information = '#Contains-\"cardBrand\": \"MASTERCARD\"'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14362",
        "OD": "For GET/v2/tokens/{token}, verify that the parameter apiKey in the header request is updated to apikey",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token",
            "getV2TokenApiKey-getToken"
        ],
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "getToken": {
            "headerToken": true,
            "apikey": "pL5UOrswOI067pfmQj6Y",
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14365",
        "OD": "For GET/v2/tokens/{token}, if no token is found in the token table, then return NE3021",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "getV2TokenApiKey-getToken"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = 'RandomToken'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "token": "RandomToken",
            "expectedResult": {
                "httpCode": 200,
                "errorCode": "NE3021",
                "errorDescription": "Provided token not found",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14372",
        "OD": "For GET/v2/tokens/{token}, if token is found in the token table and source is NDHK , the token service provider config exist, then send GET/v2/tokens request, if respCode is '00', return success",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "getV2TokenApiKey-getToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2_AUTO' and provider = 'NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_config": "#Contains-pass"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14366 (only for UAT)",
        "OD": "For GET/v2/tokens/{token}, if token is found in the token table but source isn't NDHK , then look for ndhk_token from the token_mapping table, if can't find, return NE0017",
        "merchantId": "ntt",
        "Skip": true,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "getV2TokenApiKey-getToken"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '000899e3-f788-40cb-9544-187d7dd16526'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NTT"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_mapping",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "tokenex_token = '000899e3-f788-40cb-9544-187d7dd16526'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "token": "000899e3-f788-40cb-9544-187d7dd16526",
            "expectedResult": {
                "errorCode": "NE0017",
                "errorDescription": "Unable to query card token",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14362",
        "OD": "POST V2Token - GET V2Token - Oauth2Token",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "oauthTokenV2-oauthToken",
            "jsonV2TokenApiKey-token",
            "getV2TokenApiKey-getToken"
        ],
        "oauthToken": {
            "client_id": "f89b459e6a0b4013addce6639916207a",
            "client_secret": "yyTXDyRfMvLEp3f5m2MBbxalELeoXi0N",
            "grant_type": "client_credentials",
            "expectedResult": {
                "token_type": "bearer",
                "scope": "payment",
                "client_type": "MASTER_MERCHANT",
                "client_name": "NTT_MASTER",
                "version": "2"
            },
            "needAssert": [
                "token_type",
                "scope",
                "client_type",
                "client_name",
                "version"
            ]
        },
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "getToken": {
            "headerToken": true,
            "apikey": "0sXWvkMWujs8jYPxG1d1",
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14365",
        "OD": "For GET/v2/tokens/{token}, if no token is found in the token table, then return NE3021",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "getV2TokenApiKey-getToken"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = 'RandomToken'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "token": "RandomToken",
            "expectedResult": {
                "httpCode": 200,
                "errorCode": "NE3021",
                "errorDescription": "Provided token not found",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14372",
        "OD": "For GET/v2/tokens/{token}, if token is found in the token table and source is NDHK , the token service provider config exist, then send GET/v2/tokens request, if respCode is '00', return success",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "getV2TokenApiKey-getToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2_AUTO' and provider = 'NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_config": "#Contains-pass"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14366 (only for UAT)",
        "OD": "For GET/v2/tokens/{token}, if token is found in the token table but source isn't NDHK , then look for ndhk_token from the token_mapping table, if can't find, return NE0017",
        "merchantId": "nttv2",
        "Skip": true,
        "caseType": "API",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "getV2TokenApiKey-getToken"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '000899e3-f788-40cb-9544-187d7dd16526'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NTT"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_mapping",
                        "columnNames": [
                            "count(*)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "tokenex_token = '000899e3-f788-40cb-9544-187d7dd16526'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(*)": "0"
                        }
                    ]
                }
            }
        },
        "getToken": {
            "headerSignature": true,
            "bodySignature": false,
            "token": "000899e3-f788-40cb-9544-187d7dd16526",
            "expectedResult": {
                "errorCode": "NE0017",
                "errorDescription": "Unable to query card token",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14989",
        "OD": "For PUT/v2/tokens, Mandatory Field and Format Validation",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "putV2TokenApiKey-putToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1177",
                "errorDescription": "Missing parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14990",
        "OD": "For PUT/v2/tokens, Mandatory Field and Format Validation",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "putV2TokenApiKey-putToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "RandomCarddata",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14991",
        "OD": "For PUT/v2/tokens, missing parameter token",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "putV2TokenApiKey-putToken"
        ],
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox17lHINBQCV7FQEM3BMG8bY=|John Doe|CC|VISA",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1119",
                "errorDescription": "Missing parameter - token",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14992",
        "OD": "For PUT/v2/tokens, look up token table,provided token not found",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "putV2TokenApiKey-putToken"
        ],
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox17lHINBQCV7FQEM3BMG8bY=|John Doe|CC|VISA",
            "token": "RandomToken",
            "expectedResult": {
                "httpCode": 404,
                "errorCode": "NE3021",
                "errorDescription": "Provided token not found",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14996",
        "OD": "POST V2Token - PUT V2Token",
        "merchantId": "nttv2auto",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "putV2TokenApiKey-putToken",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "source"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "source": "NDHK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_V2_AUTO' and provider = 'NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_config": "#Contains-pass"
                        }
                    ]
                }
            }
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox17lHINBQCV7FQEM3BMG8bY=|John Doe|CC|VISA",
            "expectedResult": {
                "cardBrand": "VISA",
                "cardHolderName": "John Doe",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "411111XXXXXX1111",
                "responseCode": "00",
                "responseDescription": "success",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token",
                        "columnNames": [
                            "alias",
                            "merchantid",
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "alias": "411111XXXXXX1111",
                            "merchantid": "NTT_V2_AUTO",
                            "status": "MODIFIED"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "card_iin_mapping",
                        "columnNames": [
                            "card_property"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "provider='ndhk' and start_range='400000000' and end_range='499999999'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "card_property": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "token"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_extra_info",
                        "columnNames": [
                            "extra_information"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "token = '{token}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "extra_information": "#Contains-\"cardBrand\": \"VISA\""
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14989",
        "OD": "For PUT/v2/tokens, Mandatory Field and Format Validation",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "putV2TokenApiKey-putToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1177",
                "errorDescription": "Missing parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14990",
        "OD": "For PUT/v2/tokens, Mandatory Field and Format Validation",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "jsonV2TokenApiKey-token",
            "putV2TokenApiKey-putToken"
        ],
        "token": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4E1+v+u6VOaxXo8RCr6GPV9DNlmetJ+zzCkjlYWWs3D8=|John Doe|CC|MASTERCARD|hase",
            "tokenProvider": "GATEWAY",
            "nickname": "Family card",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "cardBrand": "MASTERCARD",
                "cardHolderName": "John Doe",
                "cardIssuer": "hase",
                "expiryMonth": "12",
                "expiryYear": "2033",
                "maskedCardNumber": "512345XXXXXX2346",
                "responseCode": "00",
                "responseDescription": "success",
                "tokenProvider": "GATEWAY",
                "userDefinedData1": "1",
                "userDefinedData2": "2",
                "userDefinedData3": "3",
                "userDefinedData4": "4",
                "userDefinedData5": "5"
            },
            "needAssert": [
                "cardBrand",
                "cardHolderName",
                "cardIssuer",
                "expiryMonth",
                "expiryYear",
                "maskedCardNumber",
                "responseCode",
                "responseDescription",
                "tokenProvider",
                "userDefinedData1",
                "userDefinedData2",
                "userDefinedData3",
                "userDefinedData4",
                "userDefinedData5"
            ]
        },
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "RandomCarddata",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1206",
                "errorDescription": "Invalid parameter - cardData",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14991",
        "OD": "For PUT/v2/tokens, missing parameter token",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "putV2TokenApiKey-putToken"
        ],
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox17lHINBQCV7FQEM3BMG8bY=|John Doe|CC|VISA",
            "expectedResult": {
                "httpCode": 400,
                "errorCode": "NE1119",
                "errorDescription": "Missing parameter - token",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-14992",
        "OD": "For PUT/v2/tokens, look up token table,provided token not found",
        "merchantId": "nttv2",
        "Skip": false,
        "caseType": "API",
        "testFlow": [
            "putV2TokenApiKey-putToken"
        ],
        "putToken": {
            "headerSignature": true,
            "bodySignature": false,
            "cardData": "XZ13aC5625frSmc4oQG4Ncqodn4BQw0E+A+ox17lHINBQCV7FQEM3BMG8bY=|John Doe|CC|VISA",
            "token": "RandomToken",
            "expectedResult": {
                "httpCode": 404,
                "errorCode": "NE3021",
                "errorDescription": "Provided token not found",
                "responseCode": "01",
                "responseDescription": "fail"
            },
            "needAssert": [
                "httpCode",
                "errorCode",
                "errorDescription",
                "responseCode",
                "responseDescription"
            ]
        }
    }
]