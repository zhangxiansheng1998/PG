[
    {
        "testDataId": "PaymentGateway_NDHK-19872",
        "OD": "Verify [Hosted page] v1 MPGS token purchase is successful.",
        "merchantId": "nttm4",
        "Skip": false,
        "caseType": "mpgs",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-CheckDB",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "tokenize": {
            "card": "345678901234564",
            "expiryDate": "01/39",
            "cvv": "0000",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "paymentLink": {
            "amt": "100",
            "txncurr": "TWD",
            "txnid": "generate",
            "od": "NTT Test",
            "isStorePaymentMethod": "Y",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "authentication": "N",
            "manualCapture": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "tokens": [
                {
                    "token": "reuse",
                    "tokenType": "ntt"
                }
            ],
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn-saved-card",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_M_4 to NTT with TWD:PaymentLinkRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_M_4 with TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  request from NTT to mpgs with currency TWD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase  response from mpgs to NTT with currency TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19873",
        "OD": "Verify [Hosted page] v1 paygent purchase and multiple partical refunds are successful. ",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "manualCapture": "N",
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "manualCapture",
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AOMORI to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19874",
        "OD": "verify paygent [API] tokenize+auth+capture+multiple partial refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB2",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6",
            "frontend_cybsLog-CheckLog7",
            "frontend_cybsLog-CheckLog8",
            "frontend_cybsLog-CheckLog9",
            "frontend_cybsLog-CheckLog10",
            "frontend_cybsLog-CheckLog11",
            "frontend_cybsLog-CheckLog12",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4923000000001000",
            "tokenProvider": "GATEWAY",
            "expiryDate": "06/38",
            "cardHolderName": "JOHN WONG",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payment": {
            "amt": "300",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "paygent",
            "paymentMethod": "card",
            "isStorePaymentMethod": "N",
            "tokenType": "ntt",
            "authentication": "N",
            "manualCapture": "Y",
            "udf1": "Merchant Defined Field 1 Testing",
            "cardEncryptionMethod": "AES",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "300",
                "channelType": "paygent",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "amt": "300",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "120",
            "txnid": "",
            "expectedResult": {
                "amt": "120",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "0",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT with null"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19875",
        "OD": "verify paygent tokenize+payment+multiple partial refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4923000000001000",
            "tokenProvider": "GATEWAY",
            "expiryDate": "06/38",
            "cardHolderName": "JOHN WONG",
            "userDefinedData1": "1",
            "userDefinedData2": "2",
            "userDefinedData3": "3",
            "userDefinedData4": "4",
            "userDefinedData5": "5",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payment": {
            "amt": "300",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "paygent",
            "paymentMethod": "card",
            "isStorePaymentMethod": "N",
            "tokenType": "ntt",
            "authentication": "N",
            "manualCapture": "N",
            "udf1": "Merchant Defined Field 1 Testing",
            "cardEncryptionMethod": "AES",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "300",
                "channelType": "paygent",
                "paymentMethod": "card",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "120",
            "txnid": "",
            "expectedResult": {
                "amt": "120",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "0",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19876",
        "OD": "verify paygent [API] auth+capture+multiple partial refund is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "2cmY2hB/qKMGH7qi7fraskkQWp/bui8SH9mtFk4PYno=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "N",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "amt": "1000",
                "txncurr": "JPY",
                "channelType": "paygent",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "0",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "txncurr",
                "channelType",
                "respcode",
                "respdesc",
                "proc_code",
                "paymentMethod"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT_AOMORI"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19877",
        "OD": "verify paygent -[API]-3ds payment+multiple partial refund is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "vIvaC63yBOvNPbc5Sz+j9ZO8fvyIJoLmYdDyX0jdq28=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to NTT_AOMORI"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT_AOMORI to NTT"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19878",
        "OD": "verify paygent -[API]-3ds-tokenize-Auth-Capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": true,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4708224192406930",
            "expiryDate": "03/42",
            "cvs": "123",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc"
            ]
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-9",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19879",
        "OD": "verify paygent [API]-3ds-tokenize-Purchase-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": true,
        "caseType": "tokenize",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4708224192406930",
            "expiryDate": "03/42",
            "cvs": "123",
            "expectedResult": {
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc"
            ]
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "N",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Purchase response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19880",
        "OD": "verify paygent [API]-3ds -Auth+Capture-multiple partial refunds is successful",
        "merchantId": "nttaomori",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8"
        ],
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "carddata": "vIvaC63yBOvNPbc5Sz+j9ZO8fvyIJoLmYdDyX0jdq28=|John Doe|CC|VISA",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AOMORI to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AOMORI with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AOMORI to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AOMORI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19881",
        "OD": "verify paygent [API]-3ds -Auth (with paymentMethod installment)+Capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "paygent",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='paygent' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "txncurr": "JPY",
            "card": "4708224192406930",
            "expiryDate": "03/42",
            "cvs": "123",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payment": {
            "amt": "1000",
            "txnid": "generate",
            "txncurr": "JPY",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/c95a862f-863d-4987-a84c-b9a3edbcf1e1",
            "channelType": "paygent",
            "paymentMethod": "installment",
            "od": "testing",
            "remarks": "remarks",
            "manualCapture": "Y",
            "authentication": "Y",
            "installment": {
                "term": "2"
            },
            "customerDetails": {
                "lastName": "lastName",
                "firstName": "testing",
                "phone": "123-0123456785"
            },
            "expectedResult": {
                "respcode": "02",
                "respdesc": "pending"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[1]/td/input",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/table/tbody/tr[3]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "capture": {
            "amt": "1000",
            "txnid": "",
            "expectedResult": {
                "amt": "1000",
                "manualCaptureStatus": "F",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "200",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "refund1": {
            "amt": "300",
            "txnid": "",
            "expectedResult": {
                "respdesc": "success",
                "proc_code": "0",
                "amt": "300",
                "txncurr": "JPY",
                "respcode": "00"
            },
            "needAssert": [
                "respdesc",
                "proc_code",
                "amt",
                "txncurr",
                "respcode"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize request",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "Tokenize response",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Tokenize response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund request from NTT to paygent with JPY"
                    ]
                }
            }
        },
        "cybsLog13": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Partial refund response from paygent to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog14": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19882",
        "OD": "verify cybs [API]-3ds-pruchase-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "N",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19883",
        "OD": "verify cybs-[API]-3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "Y",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "respcode": "02",
                "respdesc": "Redirect To 3D Secure Page"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "UsernamePasswordEntry",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19884",
        "OD": "verify cybs-[HostedPage]-3ds -Auth-Full capture-full refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB2",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6",
            "frontend_cybsLog-CheckLog7",
            "frontend_cybsLog-CheckLog8",
            "frontend_cybsLog-CheckLog9",
            "frontend_cybsLog-CheckLog10",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='cybs' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "paymentLink": {
            "amt": "20000",
            "txncurr": "HKD",
            "manualCapture": "Y",
            "authentication": "Y",
            "txnid": "generate",
            "od": "Test order",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "udf1": "test Again",
            "customerDetails": {
                "name": "John Doe",
                "email": "johndoe@test.com",
                "phone": "86-1314725508"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "result": "#Contains-https"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "result"
            ],
            "if_02_redirect_url": "true"
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4012000077777777",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[4]/div[2]/div[2]/div[1]/div/div[1]/input",
                    "value": "123",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "password",
                    "value": "password",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/table/tbody/tr/td/table/tbody/tr[4]/td/table/tbody/tr[6]/td/form/div/table/tbody/tr/td/font/b/center/table/tbody/tr[4]/td[2]/b/input",
                    "value": "password",
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "capture": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "CheckLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "CheckLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "CheckLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19885",
        "OD": "verify cybs-[HostedPage]-tokenize -Purhcase-full refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "frontend_cybsDB-CheckDB",
            "tokenizeRequest-tokenize",
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "CheckDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "processors_config",
                        "columnNames": [
                            "purchase"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "processor ='cybs' and merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "purchase": "0"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "card": "4111111111111111",
            "expiryDate": "12/33",
            "cvv": "123",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "paymentLink": {
            "amt": "20000",
            "txncurr": "JPY",
            "txnid": "generate",
            "tokens": [
                {
                    "token": "reuse",
                    "tokenType": "ntt"
                }
            ],
            "od": "Test order",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "udf1": "test Again",
            "customerDetails": {
                "name": "John Doe",
                "email": "johndoe@test.com",
                "phone": "86-1314725508"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "result": "#Contains-https"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "result"
            ],
            "if_02_redirect_url": "true"
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn-saved-card",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "generate",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "20000",
            "txnid": "",
            "expectedResult": {
                "amt": "20000",
                "proc_code": "success",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19886",
        "OD": "verify cybs-[HostedPage]-applepay -Purhcase is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsDB-cybsDB1"
        ],
        "paymentLink": {
            "amt": "200",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "Applepay_test",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://webhook.site/bc1ae49f-7b1d-44c3-b935-b21159c6ef3d",
            "udf1": "Testing",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "result": "#Contains-https"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "result"
            ],
            "if_02_redirect_url": "true"
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4761349750010326",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "851",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "name",
                    "value": "John",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[4]/div[2]/div[5]/div[2]/div",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19887",
        "OD": "verify mpgs-[HostedPage] -Purhcase-Multiple refiund is successful",
        "merchantId": "nttm4",
        "Skip": false,
        "caseType": "mpgs",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6"
        ],
        "paymentLink": {
            "amt": "100",
            "txncurr": "TWD",
            "txnid": "generate",
            "od": "NTT Test",
            "isStorePaymentMethod": "Y",
            "selectedMethod": "american express",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "authentication": "N",
            "manualCapture": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "345678901234564",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[18]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "1000",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "name",
                    "value": "John",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[2]/div[5]/div[2]/div",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "30",
            "txnid": "",
            "expectedResult": {
                "amt": "30",
                "proc_code": "000",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "TWD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "proc_code": "000",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "TWD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_M_4 to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_M_4 with TWD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_M_4 to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_M_4"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_M_4 to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_M_4"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19888",
        "OD": "verify orbital-[HostedPage] -Auth-Void is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "orbital",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "refundRequestV2-refund",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "100",
            "txncurr": "USD",
            "txnid": "generate",
            "od": "NTT Test",
            "isStorePaymentMethod": "Y",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4112344112344113",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[18]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "411",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "name",
                    "value": "John",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "0",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_AUTO to NTT with USD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with USD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-19889",
        "OD": "verify orbital-[HostedPage] -Auth-Capture-refund is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "orbital",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "captureRequestV2-capture",
            "refundRequestV2-refund",
            "frontend_cybsDB-CheckDB1",
            "frontend_cybsDB-CheckDB2",
            "frontend_cybsDB-CheckDB3",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "100",
            "txncurr": "USD",
            "txnid": "generate",
            "od": "NTT Test",
            "isStorePaymentMethod": "Y",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4112344112344113",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[18]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "411",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "name",
                    "value": "John",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "00",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "0",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_AUTO to NTT with USD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with USD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with USD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19890",
        "OD": "For GMO cvs hostedpage, use GMO payeasy atm to do payment, and do payment successfully",
        "Skip": false,
        "caseType": "gmo card",
        "merchantId": "nttjpmc",
        "testFlow": [
            "frontend_cybsDB-cybsDB",
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "host_page_processor_routing",
                        "columnNames": [
                            "merchant_id",
                            "channel_type",
                            "currency",
                            "host_page_payment_method"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "host_page_payment_method = 'payeasy atm' and merchant_id='NTT_JPMC' and currency='JPY'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT_JPMC",
                            "host_page_payment_method": "payeasy atm",
                            "currency": "JPY",
                            "channel_type": "gmo"
                        }
                    ]
                }
            }
        },
        "paymentLink": {
            "amt": "100",
            "txncurr": "JPY",
            "txnid": "generate",
            "od": "Test order",
            "selectedMethod": "payeasy atm",
            "isAllowSelection": false,
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "udf1": "test Again",
            "customerDetails": {
                "name": "Alex",
                "flName": "test",
                "phone": "86-1312341234",
                "lastName": "Alex"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "result": "#Contains-https"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "result"
            ],
            "if_02_redirect_url": "true"
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "Payment-title",
                    "byValue": "//*[@id=\"resultpage-pending\"]"
                },
                {
                    "elementName": "Payment Code",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[2]/div/div[1]/div[1]/div[1]"
                },
                {
                    "elementName": "Bank Code",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[2]/div/div[1]/div[2]/div[1]"
                },
                {
                    "elementName": "Customer ID",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[2]/div/div[1]/div[3]/div[1]"
                },
                {
                    "elementName": "Amount",
                    "byValue": "//*[@id=\"resultPage-amount-key\"]"
                },
                {
                    "elementName": "Amount value",
                    "byValue": "//*[@id=\"resultPage-amount-value\"]"
                },
                {
                    "elementName": "transactionId",
                    "byValue": "//*[@id=\"resultPage-transactionId-key\"]"
                },
                {
                    "elementName": "transactionId value",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Gateway Reference Number",
                    "byValue": "//*[@id=\"resultPage-refId-key\"]"
                },
                {
                    "elementName": "Gateway Reference Number value",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Expiry Date",
                    "byValue": "//*[@id=\"resultPage-expireDate-key\"]"
                },
                {
                    "elementName": "Expiry Date value",
                    "byValue": "//*[@id=\"resultPage-expireDate-value\"]"
                }
            ],
            "expectedResult": {
                "Payment-title": "Payment Pending",
                "Payment Code": "Payment Code:",
                "Bank Code": "Bank Code:",
                "Customer ID": "Customer ID:",
                "Amount": "Amount:",
                "Amount value": "JPY 100",
                "transactionId": "Transaction ID:",
                "transactionId value": "#Contains-1",
                "Gateway Reference Number": "Gateway Reference Number:",
                "Gateway Reference Number value": "#Contains-1",
                "Expiry Date": "Expiry Date:",
                "Expiry Date value": "#Contains-202"
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "txnid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "booking_id = '{txnid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "payment_link",
                        "columnNames": [
                            "use_limit",
                            "transaction_id",
                            "merchantid",
                            "expiry_date"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{booking_id}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "use_limit": null,
                            "transaction_id": "#Contains-1",
                            "merchantid": "NTT_JPMC",
                            "expiry_date": "#Contains-201"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_JPMC to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_JPMC"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19891",
        "OD": "Verify GMO HostedPage payment is successful when set \"selectedMethod\" to \"payeasy netbanking\"",
        "Skip": false,
        "caseType": "gmo card",
        "merchantId": "ntt",
        "testFlow": [
            "frontend_cybsDB-cybsDB",
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "host_page_processor_routing",
                        "columnNames": [
                            "merchant_id",
                            "channel_type",
                            "currency",
                            "host_page_payment_method"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "host_page_payment_method = 'payeasy netbanking' and merchant_id='NTT' and currency='JPY'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT",
                            "host_page_payment_method": "payeasy netbanking",
                            "currency": "JPY",
                            "channel_type": "gmo"
                        }
                    ]
                }
            }
        },
        "paymentLink": {
            "amt": "100",
            "txncurr": "JPY",
            "txnid": "generate",
            "od": "Test order",
            "selectedMethod": "payeasy netbanking",
            "isAllowSelection": false,
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "udf1": "test Again",
            "customerDetails": {
                "firstName": "John",
                "lastName": "John",
                "flName": "John",
                "email": "john@hotmail.com",
                "phone": "86-1312341234"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success",
                "result": "#Contains-https"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "result"
            ],
            "if_02_redirect_url": "true"
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "message",
                    "byValue": "/html/body/div[2]/div[1]/div/div/div/div/div[1]/div/h2"
                }
            ],
            "expectedResult": {
                "message": ""
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19892",
        "OD": "verify Amex-Migs hostedpage 3DS purchase + Multiple refiund is successful",
        "merchantId": "nttchangi",
        "Skip": false,
        "caseType": "migs",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-CheckDB1",
            "refundRequestV2-refund",
            "frontend_cybsDB-CheckDB2",
            "frontend_cybsDB-CheckDB3",
            "refundRequestV2-refund1",
            "frontend_cybsDB-CheckDB4",
            "frontend_cybsDB-CheckDB5",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-CheckLog5",
            "frontend_cybsLog-CheckLog6"
        ],
        "paymentLink": {
            "amt": "100",
            "txncurr": "SGD",
            "txnid": "generate",
            "od": "NTT Test",
            "udf1": "Merchant Defined Field 1 Testing",
            "carddata": "umsElT+JxkX49UnU+jSpxjEd72dTqSJNbieZKSTcLhQ=|John Doe|CC|AMEX",
            "callbackUrl": "https://webhook.site/c8bb0762-67b7-4b8e-8009-1a500b834c6a",
            "authentication": "Y",
            "manualCapture": "N",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "name",
                    "byValue": "american express",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "345678901234564",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[1]",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[17]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "1000",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "name",
                    "value": "John",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/center/form/table/tbody/tr[13]/td/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "CheckDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "SGD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_msg",
                            "is_partial_refund",
                            "refund_mode",
                            "resp_code",
                            "currency",
                            "txn_amt",
                            "refund_amt",
                            "pending_amt"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_msg": "SUCCESS",
                            "is_partial_refund": "1",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "currency": "SGD",
                            "txn_amt": "1.0000",
                            "refund_amt": "0.5000",
                            "pending_amt": "0.5000"
                        }
                    ]
                }
            }
        },
        "CheckDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "proc_code": "0",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "SGD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "CheckDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "rrn",
                            "resp_msg",
                            "is_partial_refund",
                            "refund_mode",
                            "resp_code",
                            "currency",
                            "txn_amt",
                            "refund_amt",
                            "pending_amt"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "rrn": "IsNotNull",
                            "resp_msg": "SUCCESS",
                            "is_partial_refund": "1",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "currency": "SGD",
                            "txn_amt": "1.0000",
                            "refund_amt": "0.5000",
                            "pending_amt": "0.5000"
                        },
                        {
                            "rrn": "IsNotNull",
                            "resp_msg": "SUCCESS",
                            "is_partial_refund": "0",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "currency": "SGD",
                            "txn_amt": "1.0000",
                            "refund_amt": "0.5000",
                            "pending_amt": "0.0000"
                        }
                    ]
                }
            }
        },
        "CheckDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_CHANGI to NTT with SGD"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_CHANGI with SGD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_CHANGI to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT to amex-migs"
                    ]
                }
            }
        },
        "CheckLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from amex-migs to NTT"
                    ]
                }
            }
        },
        "CheckLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_CHANGI"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19893",
        "OD": "verify dragonpay hostpage atm purchase is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "dragonpay",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "10000",
            "txncurr": "PHP",
            "txnid": "generate",
            "od": "testasf",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "useLimit": 1,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[7]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[1]/div/div/div/div[1]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[1]/div/div/div/div[2]/div[4]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/div[3]/div/div/select",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/div[3]/div/div/select/option[19]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_emailTextBox",
                    "value": "pengfei.wu@nttdata.com",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_tacCheckBox",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_selectButton",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_continueButton",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [],
            "expectedResult": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19894",
        "OD": "verify dragonpay cvs could redirect to the hostedpage successfully",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "dragonpay",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "10000",
            "txncurr": "PHP",
            "txnid": "generate",
            "od": "testasf",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "useLimit": 1,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[7]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[1]/div/div/div/div[1]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[1]/div/div/div/div[2]/div[5]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/div[3]/div/div/select",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"ContentPlaceHolder1_fundSourceList\"]/option[4]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_emailTextBox",
                    "value": "pengfei.wu@nttdata.com",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_tacCheckBox",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_selectButton",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_continueButton",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [],
            "expectedResult": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19994",
        "OD": "verify dragonpay gcash could redirect to the hostedpage successfully",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "dragonpay",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "10000",
            "txncurr": "PHP",
            "txnid": "generate",
            "od": "testasf",
            "ru": "https://script.google.com/macros/s/AKfycbyXlHgeRv8cP35CV-5LciE5dZpUlW3wUPSpOlRz6sGR3ytViG8/exec",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "useLimit": 1,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[7]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[1]/div/div/div/div[1]/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[1]/div/div/div/div[2]/div[2]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/center/form/div[3]/div/div/select",
                    "value": null,
                    "waitingTime": "5000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"ContentPlaceHolder1_fundSourceList\"]/option[5]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_emailTextBox",
                    "value": "pengfei.wu@nttdata.com",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_tacCheckBox",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_selectButton",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "ContentPlaceHolder1_continueButton",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [],
            "expectedResult": {}
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19896",
        "OD": "verify the omise netbanking-bay API pending page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "bay",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "omise_pending",
            "expectedResult": {
                "amt": "2000",
                "channelId": "bay",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "resultpage-pending",
                    "byValue": "//*[@id=\"resultpage-pending\"]"
                },
                {
                    "elementName": "des",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-pending": "Payment Pending",
                "des": "#Contains-Please follow the instructions sent to your email or provided in the previous page to complete the payment.",
                "des1": "#Contains-The transaction will be cancelled automatically if the payment is not processed before the expiry date.",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19897",
        "OD": "verify the omise netbanking-bay API success page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "bay",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "bay",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "status": "Payment Successful",
                "amount": "THB 20.00",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19898",
        "OD": "verify the omise netbanking-bay API failed page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "bay",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "bay",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "fail",
                    "byValue": "//*[@id=\"resultpage-fail\"]"
                },
                {
                    "elementName": "status",
                    "byValue": "//*[@id=\"progress-bar-status\"]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"resultPage-date-value\"]"
                }
            ],
            "expectedResult": {
                "fail": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19899",
        "OD": "verify the omise netbanking-bbl API pending page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "bbl",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "omise_pending",
            "expectedResult": {
                "amt": "2000",
                "channelId": "bbl",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "resultpage-pending",
                    "byValue": "//*[@id=\"resultpage-pending\"]"
                },
                {
                    "elementName": "des",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-pending": "Payment Pending",
                "des": "#Contains-Please follow the instructions sent to your email or provided in the previous page to complete the payment.",
                "des1": "#Contains-The transaction will be cancelled automatically if the payment is not processed before the expiry date.",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19900",
        "OD": "verify the omise netbanking-bbl API success page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "bbl",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "bbl",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "status": "Payment Successful",
                "amount": "THB 20.00",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19901",
        "OD": "verify the omise netbanking-bbl API failed page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "bbl",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "bbl",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "fail",
                    "byValue": "//*[@id=\"resultpage-fail\"]"
                },
                {
                    "elementName": "status",
                    "byValue": "//*[@id=\"progress-bar-status\"]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"resultPage-date-value\"]"
                }
            ],
            "expectedResult": {
                "fail": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19902",
        "OD": "verify the omise netbanking-ktb API pending page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "ktb",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "omise_pending",
            "expectedResult": {
                "amt": "2000",
                "channelId": "ktb",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "resultpage-pending",
                    "byValue": "//*[@id=\"resultpage-pending\"]"
                },
                {
                    "elementName": "des",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-pending": "Payment Pending",
                "des": "#Contains-Please follow the instructions sent to your email or provided in the previous page to complete the payment.",
                "des1": "#Contains-The transaction will be cancelled automatically if the payment is not processed before the expiry date.",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19903",
        "OD": "verify the omise netbanking-ktb API success page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "ktb",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "ktb",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "status": "Payment Successful",
                "amount": "THB 20.00",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19904",
        "OD": "verify the omise netbanking-ktb API failed page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "ktb",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "ktb",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "fail",
                    "byValue": "//*[@id=\"resultpage-fail\"]"
                },
                {
                    "elementName": "status",
                    "byValue": "//*[@id=\"progress-bar-status\"]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"resultPage-date-value\"]"
                }
            ],
            "expectedResult": {
                "fail": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19905",
        "OD": "verify the omise netbanking-scb API pending page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "scb",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "udf1": "omise_pending",
            "expectedResult": {
                "amt": "2000",
                "channelId": "scb",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "resultpage-pending",
                    "byValue": "//*[@id=\"resultpage-pending\"]"
                },
                {
                    "elementName": "des",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-pending": "Payment Pending",
                "des": "#Contains-Please follow the instructions sent to your email or provided in the previous page to complete the payment.",
                "des1": "#Contains-The transaction will be cancelled automatically if the payment is not processed before the expiry date.",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19906",
        "OD": "verify the omise netbanking-scb API success page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "netbanking",
            "channelId": "scb",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelId": "scb",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "netbanking",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "status": "Payment Successful",
                "amount": "THB 20.00",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19907",
        "OD": "verify the omise bill_payment API pending page",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybs3DS-payPage"
        ],
        "payment": {
            "txnid": "generate",
            "txncurr": "THB",
            "amt": "2000",
            "carddata": "wtuY0ewq97XfDOGiMxsS5pO8fvyIJoLm/zEso9GlT7Y=|holder|Visa|CUP",
            "od": "order description",
            "channelType": "omise",
            "paymentMethod": "bill_payment",
            "channelId": "tesco_lotus",
            "authentication": "Y",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "expectedResult": {
                "amt": "2000",
                "channelType": "omise",
                "manualCapture": "N",
                "paymentMethod": "bill_payment",
                "channelId": "tesco_lotus",
                "proc_code": "pending",
                "respcode": "02",
                "respdesc": "Transaction Pending",
                "txncurr": "THB"
            },
            "needAssert": [
                "amt",
                "channelId",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "payPage": {
            "steps": [],
            "element": [
                {
                    "elementName": "resultpage-pending",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "des",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "ConvenienceStore",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[1]/div[2]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[3]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[4]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[5]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-pending": "Payment Pending",
                "des": "#Contains-Please present the payment code below at TESCO LOTUS to complete the payment before the expiry date.",
                "des1": "#Contains-The transaction will be cancelled automatically if the payment is not processed before the expiry date.",
                "ConvenienceStore": "Tesco-Lotus",
                "amount": "THB 20.00",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19908",
        "OD": "verify the omise card-hostedpage success page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "card",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4111111111111111",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationMonth",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "expirationYear",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[18]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "123",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "name",
                    "value": "John",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-success",
                    "byValue": "//*[@id=\"resultpage-success\"]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-success": "Payment Successful",
                "amount": "THB 650.00",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19909",
        "OD": "verify the omise card-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "urlExpiryDate": "expiryTime",
            "remarks": "remarks",
            "selectedMethod": "card",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4111111111111111",
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19910",
        "OD": "verify the omise card-hostedpage cancelled page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bay",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[4]/div/div[3]/a",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "leave-page-button",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-cancelled",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-cancelled": "Payment Cancelled",
                "status": "Payment Cancelled",
                "des1": "Your payment request has been cancelled and no funds was deducted from your selected payment method.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19911",
        "OD": "verify the omise netbanking-bay-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bay",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[4]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19912",
        "OD": "verify the omise netbanking-bay-hostedpage success page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bay",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "success",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "success": "Payment Successful",
                "status": "Payment Completed",
                "amount": "THB 650.00",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19913",
        "OD": "verify the omise netbanking-bay-hostedpage failed page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bay",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "failed",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "failed": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19914",
        "OD": "verify the omise-netbanking-bbl-hostedpage cancelled page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bbl",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[4]/div/div[3]/a",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "leave-page-button",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-cancelled",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-cancelled": "Payment Cancelled",
                "status": "Payment Cancelled",
                "des1": "Your payment request has been cancelled and no funds was deducted from your selected payment method.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19915",
        "OD": "verify the omise-netbanking-bbl-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bbl",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[4]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19916",
        "OD": "verify the omise-netbanking-bbl-hostedpage success page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bbl",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "success",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "success": "Payment Successful",
                "status": "Payment Completed",
                "amount": "THB 650.00",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19917",
        "OD": "verify the omise-netbanking-bbl-hostedpage failed page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_bbl",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "failed",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "failed": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19918",
        "OD": "verify the omise-netbanking-ktb-hostedpage cancelled page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_ktb",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[4]/div/div[3]/a",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "leave-page-button",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-cancelled",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-cancelled": "Payment Cancelled",
                "status": "Payment Cancelled",
                "des1": "Your payment request has been cancelled and no funds was deducted from your selected payment method.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19919",
        "OD": "verify the omise-netbanking-ktb-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_ktb",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[4]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19920",
        "OD": "verify the omise-netbanking-ktb-hostedpage success page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_ktb",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "success",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "success": "Payment Successful",
                "status": "Payment Completed",
                "amount": "THB 650.00",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19921",
        "OD": "verify the omise-netbanking-ktb-hostedpage failed page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_ktb",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "failed",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "failed": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19922",
        "OD": "verify the omise-netbanking-scb-hostedpage cancelled page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_scb",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[4]/div/div[3]/a",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "leave-page-button",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-cancelled",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-cancelled": "Payment Cancelled",
                "status": "Payment Cancelled",
                "des1": "Your payment request has been cancelled and no funds was deducted from your selected payment method.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19923",
        "OD": "verify the omise-netbanking-scb-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_scb",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[4]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19924",
        "OD": "verify the omise-netbanking-scb-hostedpage success page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_scb",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[1]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "success",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "success": "Payment Successful",
                "status": "Payment Completed",
                "amount": "THB 650.00",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19925",
        "OD": "verify the omise-netbanking-scb-hostedpage failed page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "netbanking_scb",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/a[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "failed",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "failed": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19926",
        "OD": "verify the omise-bill-payment-hostedpage cancelled page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "tesco_lotus",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[4]/div/div[3]/a",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "leave-page-button",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-cancelled",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-cancelled": "Payment Cancelled",
                "status": "Payment Cancelled",
                "des1": "Your payment request has been cancelled and no funds was deducted from your selected payment method.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19927",
        "OD": "verify the omise-bill-payment-hostedpage pending page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "tesco_lotus",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-pending",
                    "byValue": "//*[@id=\"resultpage-pending\"]"
                },
                {
                    "elementName": "status",
                    "byValue": "//*[@id=\"progress-bar-status\"]"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Convenience Store",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[1]/div[2]"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[3]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[4]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div[2]/div[5]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-pending": "Payment Pending",
                "status": "Payment Pending",
                "des1": "Please present the payment code below at TESCO LOTUS to complete the payment before the expiry date.\nThe transaction will be cancelled automatically if the payment is not processed before the expiry date.",
                "Convenience Store": "Tesco-Lotus",
                "amount": "THB 650.00",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19928",
        "OD": "verify the omise-bill-payment-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "tesco_lotus",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[5]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19929",
        "OD": "verify the omise-promptpay-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "promptpay",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[2]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19930",
        "OD": "verify the omise-truemoney-hostedpage expired page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "truemoney",
            "urlExpiryDate": "expiryTime",
            "isAllowSelection": true,
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[2]/div[3]/div[1]",
                    "value": null,
                    "waitingTime": "120022"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "return-btn",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "resultpage-expired",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "des1",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                }
            ],
            "expectedResult": {
                "resultpage-expired": "Payment Expired",
                "status": "Payment Expired",
                "des1": "Your payment request has been expired. The transaction will be cancelled automatically.\nPlease contact merchant for more details.",
                "Date": "#Contains-202"
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19931",
        "OD": "verify the omise-truemoney-hostedpage success page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "truemoney",
            "isAllowSelection": true,
            "customerDetails": {
                "phone": "123456789"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/form[1]/input[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "success",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[1]/div/div[2]"
                },
                {
                    "elementName": "status",
                    "byValue": "/html/body/div/div/div/div/div/div[1]/header[2]/div/div[2]/div"
                },
                {
                    "elementName": "amount",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[1]/div[2]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[2]/div[2]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[3]/div[2]"
                },
                {
                    "elementName": "Date",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div/div/div/div[2]/div/div/div[4]/div[2]"
                }
            ],
            "expectedResult": {
                "success": "Payment Successful",
                "status": "Payment Completed",
                "amount": "THB 650.00",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-19932",
        "OD": "verify the omise-truemoney-hostedpage failed page",
        "merchantId": "ntt_2",
        "Skip": false,
        "caseType": "omise",
        "testFlow": [
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB",
            "frontend_cybsLog-CheckLog1",
            "frontend_cybsLog-CheckLog2",
            "frontend_cybsLog-CheckLog3",
            "frontend_cybsLog-CheckLog4",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "paymentLink": {
            "amt": "65000",
            "txnid": "generate",
            "txncurr": "THB",
            "od": "testing",
            "udf1": "123*user",
            "callbackUrl": "https://webhook.site/fc508d07-540c-4b61-b58c-e81573d95a82",
            "ru": "https://uat.ndhkpay.com/payment-page",
            "remarks": "remarks",
            "selectedMethod": "truemoney",
            "isAllowSelection": true,
            "customerDetails": {
                "phone": "123456789"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div/div/div/div[3]/div[3]/div/div/div/div[1]/div/div[2]/div/div/div[3]/div[2]/div[2]/div/div/div[3]/div",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/div/div/div[3]/form[2]/input[2]",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "fail",
                    "byValue": "//*[@id=\"resultpage-fail\"]"
                },
                {
                    "elementName": "status",
                    "byValue": "//*[@id=\"progress-bar-status\"]"
                },
                {
                    "elementName": "des1",
                    "byValue": "//*[@id=\"root\"]/div/div/div/div/div[3]/div/div/div/div[1]/div/div[3]"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"resultPage-transactionId-value\"]"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"resultPage-refId-value\"]"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"resultPage-date-value\"]"
                }
            ],
            "expectedResult": {
                "fail": "Payment Failed",
                "status": "Payment Failed",
                "des1": "Your payment was not successful. Please try again.\nPlease contact merchant for more details.",
                "Txnid": "#Contains-1",
                "Nttrefid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL"
                        }
                    ]
                }
            }
        },
        "CheckLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_2 to NTT"
                    ]
                }
            }
        },
        "CheckLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge request from NTT to omise"
                    ]
                }
            }
        },
        "CheckLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Charge response from omise to NTT"
                    ]
                }
            }
        },
        "CheckLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_2"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-NDHK-20383",
        "OD": "verify cybs-[HostedPage]-3ds -Auth-void is successful",
        "merchantId": "nttauto",
        "caseType": "createPaymentLink",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "createPaymentLink-paymentLink",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-void",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT",
                            "token_service_config": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT_AUTO'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_provider": "#Contains-NDHK"
                        }
                    ]
                }
            }
        },
        "paymentLink": {
            "amt": "100",
            "txncurr": "HKD",
            "txnid": "generate",
            "od": "NTT Test",
            "isStorePaymentMethod": "Y",
            "selectedMethod": "visa",
            "udf1": "Merchant Defined Field 1 Testing",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "authentication": "Y",
            "manualCapture": "Y",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "customerDetails": {
                "name": "John"
            },
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "credit-card-number",
                    "value": "4012000077777777",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationMonth\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div/div[1]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "//*[@id=\"expirationYear\"]/div/div[2]/div[12]",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "set",
                    "byType": "id",
                    "byValue": "cvv",
                    "value": "123",
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "save_card",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn",
                    "value": null,
                    "waitingTime": "2000"
                },
                {
                    "actionName": "click",
                    "byType": "xpath",
                    "byValue": "/html/body/table/tbody/tr/td/table/tbody/tr[4]/td/table/tbody/tr[6]/td/form/div/table/tbody/tr/td/font/b/center/table/tbody/tr[4]/td[2]/b/input",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "void": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "create payment link request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "AuthEnroll request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "AuthEnroll response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "AuthValidate request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "AuthValidate response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Void response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20388",
        "OD": "Non 3ds -purchase-multiple partial refunds for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-purchase",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB2"
        ],
        "purchase": {
            "amt": "100",
            "manualCapture": "N",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "0.5000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.1000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.4000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_NDHK-20425",
        "OD": "verify cybs-[API]-no 3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency HKD"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with HKD"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_cybs-[API]-no 3ds_JPY-Auth-multiple capture-multiple partial refunds is successful",
        "OD": "verify cybs-[API]-no 3ds -Auth-multiple capture-multiple partial refunds is successful",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "captureRequestV2-capture",
            "captureRequestV2-capture1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLog3",
            "frontend_cybsLog-cybsLog4",
            "frontend_cybsLog-cybsLogCallback1",
            "frontend_cybsLog-cybsLog5",
            "frontend_cybsLog-cybsLog6",
            "frontend_cybsLog-cybsLog7",
            "frontend_cybsLog-cybsLog8",
            "frontend_cybsLog-cybsLog9",
            "frontend_cybsLog-cybsLog10",
            "frontend_cybsLog-cybsLog11",
            "frontend_cybsLog-cybsLog12",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "20000",
            "manualCapture": "Y",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "20000",
                "channelType": "cybs",
                "login": "NTT_AUTO",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "login",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "capture": {
            "amt": "11000",
            "txnid": "",
            "expectedResult": {
                "amt": "11000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "capture1": {
            "amt": "3000",
            "txnid": "",
            "expectedResult": {
                "amt": "3000",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund": {
            "amt": "5000",
            "txnid": "",
            "expectedResult": {
                "amt": "5000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "refund1": {
            "amt": "8000",
            "txnid": "",
            "expectedResult": {
                "amt": "8000",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "NttRequest"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsLog3": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize  request from NTT to cybs with currency JPY"
                    ]
                }
            }
        },
        "cybsLog4": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Authorize response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "cybsLog5": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        " CaptureV2 request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog6": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog7": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Capture response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog8": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "CaptureV2 response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLog9": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund request from NTT_AUTO to NTT"
                    ]
                }
            }
        },
        "cybsLog10": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit request from NTT to cybs with JPY"
                    ]
                }
            }
        },
        "cybsLog11": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Credit response from cybs to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog12": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Refund response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "OK"
                        }
                    ]
                }
            }
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_msg"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_non_3ds_JPY_purchase_full refund",
        "OD": "non_3ds_JPY_purchase_full refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB4",
            "frontend_cybsDB-cybsDB5"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 17:13:13",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "JPY",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "nttrefid": "942327593",
                "proc_code": "100",
                "refundRefNum": "942327593419",
                "respcode": "00",
                "respdesc": "success",
                "signature": "857208e5e833eb93a0765a632f5bb47a3274f3df14a3cf10ac5b399381364007186b4639ccf9b40f3994915b01f0e3b3b132ed1d2bf475c53c07644cb59ad131",
                "txncurr": "JPY",
                "txnid": "30oct"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Non 3ds -purchase-multiple partial refunds for cybs_USD",
        "OD": "Non 3ds -purchase-multiple partial refunds for cybs",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-purchase",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB1",
            "refundRequestV2-refund2",
            "frontend_cybsDB-cybsDB2"
        ],
        "purchase": {
            "amt": "100",
            "manualCapture": "N",
            "authentication": "N",
            "paymentMethod": "card",
            "txnid": "generate",
            "txncurr": "USD",
            "od": "contact lens",
            "channelType": "cybs",
            "carddata": "ry/7PYufAgczETe7hlNwShALHe9uhoHmJBuqCGi327Y=|John Doe|CC|VISA",
            "callbackUrl": "https://webhook.site/643f14be-d3f0-4c15-9891-b364b200e3d8",
            "udf1": "testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD",
                "udf1": "testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund1": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "0.5000",
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "refund2": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "USD"
            },
            "needAssert": [
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "refund_mode",
                            "refund_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.5000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.5000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "txn_amt": "1.0000",
                            "pending_amt": "0.1000",
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "0.4000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_non 3ds_JPY_Auth_Full Capture_Full Refund",
        "OD": "non 3ds_JPY_Auth_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "channelType": "cybs",
                "date": "2022-01-04 16:46:13",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "signature": "2b0dbe6e3be6d064acb2d8e164a2a47510a9f366e9969d16cedd31ca919623482fd6d05e49b44e5ea6223ceea38b5fae7c74e2d20c4c6f779da43c484a22b78e",
                "txncurr": "JPY",
                "txnid": "1641285972472",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "manualCaptureStatus",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-non 3ds HKD_Auth_void",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "HKD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "HKD",
                "channelType": "cybs",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "channelType",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "100",
                "txncurr": "HKD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-non 3ds USD_Auth_void",
        "OD": "Verify the capture log table has data in the UDF,returnitintheresponseandcallbackwhenresponseisFail(ManualCapture=Y)",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "refundRequest-void",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLogCallback1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "auth-capture-refund-01",
            "txncurr": "USD",
            "carddata": "Sm6H/a13s+pi028W5nWa5y5Zyhr0F4RX2PIFgyDdgHM=|John Doe|CC|VISA",
            "authentication": "N",
            "manualCapture": "Y",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "HIVE",
            "udf2": "PIG",
            "udf3": "SPARK",
            "udf4": "MAP-REDUCE",
            "udf5": "YARN",
            "paymentMethod": "card",
            "customerDetails": {
                "name": "Priyam",
                "phone": "85268434003",
                "email": "priyamsingh.rajput@nttdata.com"
            },
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "expectedResult": {
                "amt": "100",
                "manualCapture": "Y",
                "manualCaptureStatus": "N",
                "udf1": "HIVE",
                "udf2": "PIG",
                "udf3": "SPARK",
                "udf4": "MAP-REDUCE",
                "udf5": "YARN",
                "txncurr": "USD",
                "channelType": "cybs",
                "respcode": "00",
                "auth_code": "831000",
                "proc_code": "100",
                "respdesc": "Transaction Authorization Succeeded",
                "paymentMethod": "card"
            },
            "needAssert": [
                "amt",
                "manualCapture",
                "udf1",
                "udf2",
                "udf3",
                "udf4",
                "udf5",
                "txncurr",
                "channelType",
                "respcode",
                "auth_code",
                "proc_code",
                "respdesc",
                "paymentMethod"
            ]
        },
        "void": {
            "amt": "100",
            "refundMode": "VOID",
            "expectedResult": {
                "amt": "100",
                "txncurr": "USD",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "errorCode",
                "errorDesc",
                "proc_code"
            ]
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "udf1=HIVE, udf2=PIG, udf3=SPARK, udf4=MAP-REDUCE, udf5=YARN"
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_HKD_API_Auth+Capture Failure+Cannot be refunded",
        "OD": "cybs_HKD_API_Auth + Capture Failure + Cannot be refunded",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "refundRequestV2-refund"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
                "signature": "2b0dbe6e3be6d064acb2d8e164a2a47510a9f366e9969d16cedd31ca919623482fd6d05e49b44e5ea6223ceea38b5fae7c74e2d20c4c6f779da43c484a22b78e",
                "txncurr": "HKD",
                "txnid": "1641285972472",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNotNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with TWD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with TWD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "200",
            "txnid": "",
            "expectedResult": {
                "amt": "200",
                "errorCode": "NE3020",
                "errorDesc": "Capture amount exceeded the uncaptured amount",
                "login": "NTT_AUTO",
                "manualCaptureStatus": "N",
                "respcode": "01",
                "respdesc": "Capture amount exceeded the uncaptured amount",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "manualCaptureStatus",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_msg",
                            "rrn",
                            "capture_mode",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_msg": "FL",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL",
                            "error_code": "NE3020",
                            "error_desc": "Capture amount exceeded the uncaptured amount"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4017",
                "errorDesc": "Nonrefundable transaction status - uncaptured transaction",
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - uncaptured transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3ds_api_Auth-Failure_Cannot be voided",
        "OD": "cybs_non_3ds_api_Auth-Failure_Cannot be voided",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "refundRequestV2-void"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "1R3Ab3R612CRjWzQKrAMxY8liMJt0d/jRo/6eHd0JHG89uV5HJgoxAo0Az4=|Cardholder|CC|OTHER",
            "channelType": "cybs123",
            "cardEncryptionMethod": "AES",
            "authentication": "N",
            "manualCapture": "Y",
            "cardAuthentication": {
                "provider": "Cybersource",
                "specificationVersion": "1.0.2",
                "xid": "eXU1NTA2eTFYMXVFSURMRnIySTA=",
                "eci": "05",
                "verificationValue": "AAABAWFlmQAAAABjRWWZEEFgFz+=",
                "cavvAlg": "2",
                "PAResStatus": "Y"
            },
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1030",
                "errorDesc": "Invalid parameter - channelType",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - channelType",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "login",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1030",
                            "userData28": "Invalid parameter - channelType"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO"
                    ]
                }
            }
        },
        "void": {
            "txnid": "",
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4022",
                "errorDesc": "Nonvoidable transaction status - failed transaction",
                "respcode": "01",
                "respdesc": "Nonvoidable transaction status - failed transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3DS_API_Purchase_Cannot be captured",
        "OD": "cybs_non_3DS_API_Purchase_Cannot be captured",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "auth_code": "831000",
                "channelType": "cybs",
                "date": "2021-12-31 17:13:13",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
                "signature": "716728fe9045ccde084aacaf898caf75c960421d588d9db6675db96f64511e1f14f8dfc7a5415c70b35e7803871ccc6da6aa665bc02780b012cd376726fe9956",
                "txncurr": "HKD",
                "txnid": "30oct",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status",
                            "error_description"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN",
                            "error_description": "null"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE4013",
                "errorDesc": "Uncapturable transaction status - captured transaction",
                "manualCaptureStatus": "N",
                "respcode": "01",
                "respdesc": "Uncapturable transaction status - captured transaction",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "errorCode",
                "errorDesc",
                "manualCaptureStatus",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_msg",
                            "rrn",
                            "capture_mode",
                            "error_code",
                            "error_desc"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "1.00",
                            "resp_msg": "FL",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL",
                            "error_code": "NE4013",
                            "error_desc": "Uncapturable transaction status - captured transaction"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_cybs_non_3DS_API_Purchase failed_Cannot be refund",
        "OD": "cybs_non_3DS_API_Purchase failed_Cannot be refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "refundRequestV2-refund"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "channelType": "cybs123",
            "authentication": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "errorCode": "NE1030",
                "errorDesc": "Invalid parameter - channelType",
                "login": "NTT_AUTO",
                "respcode": "01",
                "respdesc": "Invalid parameter - channelType",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "userData27",
                            "userData28"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "FL",
                            "userData27": "NE1030",
                            "userData28": "Invalid parameter - channelType"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "errorCode": "NE4016",
                "errorDesc": "Nonrefundable transaction status - failed transaction",
                "respcode": "01",
                "respdesc": "Nonrefundable transaction status - failed transaction"
            },
            "needAssert": [
                "errorCode",
                "errorDesc",
                "respcode",
                "respdesc"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-HKD_Void",
        "OD": "Tokenize-HKD_Auth-HKD_Void",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "frontend_cybsLog-cybsLog1",
            "frontend_cybsLog-cybsLog2",
            "frontend_cybsLog-cybsLogCallback1",
            "refundRequestV2-void",
            "frontend_cybsDB-cybsDB3"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with HKD"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with HKD"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "void": {
            "txnid": "",
            "refundMode": "VOID",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "resp_code",
                            "resp_msg",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "resp_code": "00",
                            "resp_msg": "SUCCESS",
                            "refund_mode": "VOID"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "reuse",
            "refundMode": "REFUND",
            "amt": "100",
            "expectedResult": {
                "amt": "100",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "100.0000",
                            "pending_amt": "0.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Fully_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-JPY_Full Capture_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsDB-cybsDB8"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "manualCaptureStatus": "F",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "F"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "30",
            "expectedResult": {
                "amt": "30",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "30.0000",
                            "pending_amt": "70.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund1": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "50",
            "expectedResult": {
                "amt": "50",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}' and pending_amt = '20.0000'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "pending_amt": "20.0000",
                            "refund_mode": "REFUND",
                            "refund_amt": "50.0000",
                            "currency": "JPY"
                        }
                    ]
                }
            }
        },
        "cybsDB8": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway_Tokenize-HKD_Auth-JPY_Multiple Partial Capture_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "captureRequestV2-capture",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybsDB-cybsDB4",
            "captureRequestV2-capture1",
            "frontend_cybsDB-cybsDB5",
            "frontend_cybsDB-cybsDB6",
            "refundRequestV2-refund",
            "frontend_cybsDB-cybsDB7",
            "frontend_cybsDB-cybsDB8",
            "refundRequestV2-refund1",
            "frontend_cybsDB-cybsDB9",
            "frontend_cybsDB-cybsDB10"
        ],
        "tokenize": {
            "card": "4111111111111111",
            "cvv": "123",
            "expiryDate": "01/39",
            "cardType": "CC",
            "name": "Priyam",
            "mobile": "85268434003",
            "email": "priyamsingh.rajput@nttdata.com",
            "saveRequest": true,
            "verifyRequest": false,
            "txncurr": "HKD",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "JPY",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "user_data_10"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "user_data_10": "IsNull"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "cvv_removal_log",
                        "columnNames": [
                            "status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "status": "EN"
                        }
                    ]
                }
            }
        },
        "cybsLog1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment request from NTT_AUTO to NTT with JPY"
                    ]
                }
            }
        },
        "cybsLog2": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{reuse}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Payment response from NTT to NTT_AUTO with JPY"
                    ]
                }
            }
        },
        "cybsLogCallback1": {
            "body": {
                "login": "NTT",
                "signature": "{{signature}}",
                "systemLogQueries": {
                    "systemQuery1": {
                        "logProvider": "splunk",
                        "logGroup": "{{logGroup}}",
                        "logStream": "{{logStream}}",
                        "startDateTime": "{{startDateTime}}",
                        "endDateTime": "{{endDateTime}}",
                        "query": "{{query}}",
                        "columnNames": [
                            "billTo_email",
                            "card_expirationMonth"
                        ],
                        "conditionStrings": []
                    }
                }
            },
            "expectedResult": {
                "systemLogQueries": {
                    "systemQuery1": [
                        "Callback Json"
                    ]
                }
            }
        },
        "capture": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "P"
                        }
                    ]
                }
            }
        },
        "capture1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "manualCaptureStatus": "P",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "cybsDB5": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "capture",
                        "columnNames": [
                            "txn_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "capture_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_amt": "100",
                            "resp_code": "100",
                            "resp_msg": "OK",
                            "rrn": "IsNotNull",
                            "capture_mode": "MANUAL"
                        }
                    ]
                }
            }
        },
        "cybsDB6": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_43"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_43": "P"
                        }
                    ]
                }
            }
        },
        "refund": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "30",
            "expectedResult": {
                "amt": "30",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB7": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "30.0000",
                            "pending_amt": "70.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB8": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        },
        "refund1": {
            "txnid": "",
            "refundMode": "REFUND",
            "amt": "50",
            "expectedResult": {
                "amt": "50",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "JPY"
            },
            "needAssert": [
                "amt",
                "proc_code",
                "txncurr",
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB9": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_amt",
                            "pending_amt",
                            "rrn",
                            "currency",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}' and pending_amt= '20.0000'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_amt": "50.0000",
                            "pending_amt": "20.0000",
                            "rrn": "IsNotNull",
                            "currency": "JPY",
                            "refund_mode": "REFUND"
                        }
                    ]
                }
            }
        },
        "cybsDB10": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = '{nttrefid}'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-Tokenize-HKD_Purchase-JPY_Multiple Partial Refunds",
        "OD": "QA_Automation - tokenize",
        "merchantId": "nttauto",
        "caseType": "tokenize",
        "testFlow": [
            "tokenizeRequest-tokenize",
            "paymentRequest-payment",
            "frontend_cybsDB-DB_payment",
            "refundRequestV2-refund",
            "frontend_cybsDB-refundDB",
            "frontend_cybsDB-paymentRefundstatus",
            "refundRequestV2-refund1",
            "frontend_cybsDB-refundDB1",
            "frontend_cybsDB-paymentRefundstatus1"
        ],
        "tokenize": {
            "card": "5424820003841911",
            "expiryDate": "12/31",
            "cardType": "CC",
            "cvv": "111",
            "name": "English Name",
            "txncurr": "HKD",
            "email": "sadasdas@asdasd.com",
            "verifyRequest": true,
            "customerId": "100000",
            "expectedResult": {
                "txncurr": "HKD",
                "respCode": "00",
                "respDesc": "success"
            },
            "needAssert": [
                "respCode",
                "respDesc",
                "txncurr"
            ]
        },
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "JPY",
            "authentication": "N",
            "channelType": "cybs",
            "remarks": "remarks",
            "od": "od - uat testing",
            "udf1": "udf1 - uat",
            "udf2": "udf2 - uat",
            "udf3": "udf3 - uat",
            "udf4": "udf4 - uat",
            "udf5": "udf5 - uat",
            "expectedResult": {
                "httpCode": 200,
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100",
                "txncurr": "HKD",
                "login": "NTT_AUTO",
                "manualCapture": "N",
                "manualCaptureStatus": "F",
                "auth_code": "831000",
                "amt": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code",
                "auth_code"
            ]
        },
        "DB_payment": {
            "body": {
                "login": "NTT",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status",
                            "merchantid",
                            "amount"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK",
                            "merchantid": "NTT_AUTO",
                            "amount": "100.0000"
                        }
                    ]
                }
            }
        },
        "refund": {
            "amt": "50",
            "txnid": "",
            "expectedResult": {
                "amt": "50",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "50.0000",
                            "currency": "JPY",
                            "txn_amt": "100.0000",
                            "pending_amt": "50.0000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refundDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "refund",
                        "columnNames": [
                            "refund_ref_num",
                            "transaction_id",
                            "refund_amt",
                            "currency",
                            "txn_amt",
                            "pending_amt",
                            "resp_code",
                            "resp_msg",
                            "rrn",
                            "refund_mode"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "50.0000",
                            "currency": "JPY",
                            "txn_amt": "100.0000",
                            "pending_amt": "50.0000",
                            "resp_msg": "SUCCESS"
                        },
                        {
                            "refund_mode": "REFUND",
                            "resp_code": "00",
                            "refund_amt": "40.0000",
                            "currency": "JPY",
                            "txn_amt": "100.0000",
                            "pending_amt": "10.0000",
                            "resp_msg": "SUCCESS"
                        }
                    ]
                }
            },
            "needAssert": {}
        },
        "paymentRefundstatus1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "user_data_25"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "aaded6743cdd206e264cf49272fbb6488d38cf37782a7a728703e14cf0a54595ba02144006620a2f5e9f412b06dc143585d5239af26c3ace660341e3448a6f9a",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "user_data_25": "Partially_Refunded"
                        }
                    ]
                }
            },
            "needAssert": {}
        }
    },
    {
        "testDataId": "PaymentGateway_Auth - isStorePaymentMethod=true_Auth with new token_Full Refund",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "refundRequestV2-void"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payment1": {
            "bodyCarddata": false,
            "nttrefid": null,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "token": "3d1b8bb0-4fd9-4daa-adcd-8eb7dcc8cde4",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "Y",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "Transaction Authorization Succeeded",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "void": {
            "amt": "100",
            "txnid": "",
            "expectedResult": {
                "amt": "100",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway_purchase - isStorePaymentMethod=true_purchase with new token_Multiple Partial Refunds",
        "OD": "Tokenize-HKD_Auth-JPY_Full Capture_Full Refund",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "cybs",
        "testFlow": [
            "paymentRequest-payment",
            "paymentRequest-payment1",
            "refundRequestV2-refund",
            "refundRequestV2-refund1"
        ],
        "payment": {
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "carddata": "wtuY0ewq97XfDOGiMxsS5v02T0bFW9cqSofZt6hDJWE=|John Doe|CC|VISA",
            "isStorePaymentMethod": "Y",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "payment1": {
            "bodyCarddata": false,
            "nttrefid": null,
            "amt": "100",
            "txnid": "generate",
            "txncurr": "HKD",
            "od": "NTT Test",
            "channelType": "cybs",
            "authentication": "N",
            "manualCapture": "N",
            "ru": "https://sit.ndhkpay.com/NTT_Pages/return",
            "token": "3d1b8bb0-4fd9-4daa-adcd-8eb7dcc8cde4",
            "udf1": "Merchant Defined Field 1 Testing",
            "expectedResult": {
                "amt": "100",
                "channelType": "cybs",
                "manualCapture": "N",
                "paymentMethod": "card",
                "proc_code": "100",
                "respcode": "00",
                "respdesc": "success",
                "txncurr": "HKD",
                "udf1": "Merchant Defined Field 1 Testing"
            },
            "needAssert": [
                "amt",
                "channelType",
                "manualCapture",
                "paymentMethod",
                "proc_code",
                "respdesc",
                "txncurr",
                "udf1"
            ]
        },
        "refund": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        },
        "refund1": {
            "amt": "40",
            "txnid": "",
            "expectedResult": {
                "amt": "40",
                "respcode": "00",
                "respdesc": "success",
                "proc_code": "100"
            },
            "needAssert": [
                "amt",
                "respcode",
                "respdesc",
                "proc_code"
            ]
        }
    },
    {
        "testDataId": "PaymentGateway-Tokenize + 3DS Auth HPP",
        "OD": "createPaymentLink",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "createPaymentLink",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "tokenizeRequest-tokenize",
            "createPaymentLink-paymentLink",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "merchant_id",
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "card": "4012000077777777",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "paymentLink": {
            "amt": "250",
            "txncurr": "HKD",
            "txnid": "generate",
            "authentication": "Y",
            "manualCapture": "Y",
            "od": "Testing - Pengfei",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "useLimit": "1",
            "udf1": "udf1",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "remark": "testDesc",
            "tokens": [
                {
                    "token": "reuse",
                    "tokenType": "ntt"
                }
            ],
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "payment_link_token",
                        "columnNames": [
                            "count(token)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "created_date between '2022-03-17 17:48:07' and '2022-03-17 17:48:21'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(token)": "9"
                        }
                    ]
                }
            }
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn-saved-card",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        }
    },
    {
        "testDataId": "PaymentGateway-Tokenize + 3DS Purchase HPP",
        "OD": "createPaymentLink",
        "merchantId": "nttauto",
        "Skip": false,
        "caseType": "createPaymentLink",
        "testFlow": [
            "frontend_cybsDB-cybsDB1",
            "frontend_cybsDB-cybsDB2",
            "tokenizeRequest-tokenize",
            "createPaymentLink-paymentLink",
            "frontend_cybsDB-cybsDB3",
            "frontend_cybs3DS-payPage",
            "frontend_cybsDB-cybsDB4"
        ],
        "cybsDB1": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "token_config",
                        "columnNames": [
                            "token_service_mid",
                            "token_service_config"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT' and provider='NDHK'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "token_service_mid": "NTT"
                        }
                    ]
                }
            }
        },
        "cybsDB2": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "merchant_config",
                        "columnNames": [
                            "merchant_id",
                            "token_provider"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "merchant_id = 'NTT'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "merchant_id": "NTT"
                        }
                    ]
                }
            }
        },
        "tokenize": {
            "card": "4012000077777777",
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc",
                "txncurr"
            ]
        },
        "paymentLink": {
            "amt": "250",
            "txncurr": "HKD",
            "txnid": "generate",
            "authentication": "Y",
            "manualCapture": "N",
            "od": "Testing - Pengfei",
            "ru": "https://uat.ndhkpay.com/NTT_Pages/return",
            "callbackUrl": "https://script.google.com/macros/s/AKfycbwRpCfYEQiDPGvCdE_mJXPWa9z42oSquQ4Ua5jQjd9B_k-L1wA/exec",
            "useLimit": "1",
            "udf1": "udf1",
            "udf2": "udf2",
            "udf3": "udf3",
            "udf4": "udf4",
            "udf5": "udf5",
            "remark": "testDesc",
            "tokens": [
                {
                    "token": "reuse",
                    "tokenType": "ntt"
                }
            ],
            "expectedResult": {
                "respcode": "00",
                "respdesc": "success"
            },
            "needAssert": [
                "respcode",
                "respdesc"
            ]
        },
        "cybsDB3": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "booking_id"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "payment_link_token",
                        "columnNames": [
                            "count(token)"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "created_date between '2022-03-17 17:48:07' and '2022-03-17 17:48:21'"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "count(token)": "9"
                        }
                    ]
                }
            }
        },
        "payPage": {
            "steps": [
                {
                    "actionName": "click",
                    "byType": "id",
                    "byValue": "pay-btn-saved-card",
                    "value": null,
                    "waitingTime": "2000"
                }
            ],
            "element": [
                {
                    "elementName": "Txn",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[1]/h3/span"
                },
                {
                    "elementName": "Nttrefid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[3]/div[2]/span"
                },
                {
                    "elementName": "Txnid",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[2]/div[2]/span"
                },
                {
                    "elementName": "Date",
                    "byValue": "//*[@id=\"error-page\"]/div/div/div/div[2]/div[4]/div[2]/span"
                }
            ],
            "expectedResult": {
                "Txn": "Transaction completed successfully",
                "Nttrefid": "#Contains-1",
                "Txnid": "#Contains-1",
                "Date": "#Contains-202"
            }
        },
        "cybsDB4": {
            "body": {
                "login": "NTT",
                "signature": "1111111111111111111111",
                "signMix": [
                    "nttrefid"
                ],
                "databaseQueries": {
                    "dbQueryId1": {
                        "hostName": "uatDB",
                        "databaseName": "pgdb",
                        "tableName": "transaction_log",
                        "columnNames": [
                            "txn_status"
                        ],
                        "queryType": "value",
                        "conditionStrings": [
                            "transaction_id = {nttrefid}"
                        ]
                    }
                }
            },
            "expectedResult": {
                "signature": "",
                "databaseQueries": {
                    "dbQueryId1": [
                        {
                            "txn_status": "OK"
                        }
                    ]
                }
            }
        }
    }
]